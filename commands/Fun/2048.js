function a(){let t=["i2vLztrK","D2v6tMG","C2v0vgL0","zc5QCW","yxmGzxHW","Axnqrhm","sM11tg0","ywrKq29T","ENbLt1K","ysbUzxCG","C2v0rgLZ","yxj5","CMvWBgfJ","s05eANi","y2f0y2G","zMPfzwi","ser1vgm","z2fTztO","D1vsr04","CMvWBhK","zxjYB3i","u2nVCMu6","wKTcEMS","B1fAEvC","y3jPChrP","yw1LihvZ","zhvYAw5N","BfPItuO","lZiWndGU","Bw92zuXL","B1Lzs3O","EwXL","BgXLy3rV","igr1CMLU","BwfW","DxjYzwqG","y2vXwfi","C2v0u3r5","i2y5zJzM","zxHWAxjL","C2v0tMfT","zM9UDa","nw1kvfj0Ca","AwfS","BwLKzgXL","vLn2q1m","C3rVCa","yw5KoG","AgLNAgvZ","ywn0Aw9U","C3rYAw5N","i2vKy2m2","rgvNvKS","rgLfzNa","m3W1Fdf8","mJa0of9Y","CMvWBgLL","Bw92zvjP","EePfBfC","AxjLzc4G","DxbKyxrL","mtCXndK1nKHQyMzPBG","mJa0oc5W","mJa0ocbh","ig5LzwqG","CMfS","qNfHuuy","Bg9Uz3mG","yLrtyK8","C2vUzgLU","yw1LigjL","ywDLoG","u2vJB25K","igvYCM9Y","cKHPz2HL","ota1mZm2s2HVCMDe","ocbJB21T","DfrPBgu","Aw4GmJa0","i2vKztbJ","zunVBxbV","tu95uKG","C3bSAxq","BwvUDdOV","D2jPEfy","C3qGvgLS","ig93BIbN","AhDiEMy","mti1mty4te5kwe5v","zM9SBg93","Aw5HBcbt","Dg9Tswq","B3uGBwf5","twvZC2fN","u3rHCNqG","Dg9cDwzM","Cg5N","zMLSBfrL","t25NtNK","D2fZigfU","mZu5mtbAzefgyM0","Cg9Uzw50","z3jPza","ugXHEsaY","ihvWiqPg","BLn3DNe","Bw92zurV","zw5K","t2zUDLC","zMLSBfjL","zMXVB3i","ywrKtMv3","mJa0of8","zMLSBa","DMvYic0G","vgLTzsDZ","vgLSzq","mta3nte0nZjMDhHZvhi","CMfUzg9T","zwrPDfjL","i2nKyZfI","C2v0rgvZ","mhWZFdv8","AwDODa","zYbLCNjV","Axnhyw1L","Aw5NihrO","BgvMDa","AwDU","rxbOzw1L","r2fTzsbp","yNrVyw0","C2v0rw1V","Dgv4DejH","sgLNAgvZ","y29SBgvJ","Dgv4DefS","zgvMzxjY","y3rPB24","vgHLCMuG","nhWXFdi","mJa0ogaH","C2LUzYbG","C2nVCMu","z3LoBfK","yM9SzcaZ","z2fTzse","Dgv4Da","txPYrNy","y3vZDg9T","Dg8GC3rH","C2v0q3vZ","mxWZ","zxbSEq","C1DuveK","C2vSAw5L","qw4GzxjY","i2jIywrH","y29Kzq","i2vKyZG1","yxr0ywnO","CIbTzxnZ","y3jLyxrL","BMvUDenV","C2v0q29S","vgHLigDH","ztOG","D0jyyNa","rxjYB3iG","mZn6zNLQwKG","C2LVBIbO","nty5mJy1nKrxveTYqW","v0rXquS","Bw92zq","ihrOzsbN","uuH4BNm","z2v0q29U","DMvYiqPg","Dg9Rzw5F","zsbNyw1L","yw1LlIbz","ywjSzwq","y2vUDgvY","y29YztOG","Dg8G","qxP1s3u","CgX5","uw9xBLO","zYb0AguG","C2v0sw1H","mZu2mtyWnK9mwNLzBW","rNvU","DxnLCG","rgnUr1q","zMLSBfn0","B3iGB2nJ"];return(a=function(){return t})()}let b0=b,{SlashCommandBuilder,EmbedBuilder,ActionRowBuilder,ButtonBuilder,ButtonStyle,AttachmentBuilder,MessageFlags}=((()=>{for(var t=b,e=a();;)try{if(689687==-parseInt(t(286))+parseInt(t(272))/2+-parseInt(t(184))/3*(parseInt(t(299))/4)+-parseInt(t(253))/5*(-parseInt(t(205))/6)+parseInt(t(311))/7+-parseInt(t(186))/8+parseInt(t(132))/9)break;e.push(e.shift())}catch(t){e.push(e.shift())}})(),require("discor"+b0(214))),createCanvas=require("canvas").createCanvas;function b(n,t){let s=a();return(b=function(t,e){t-=123;let r=s[t];void 0===b.LVcdHa&&(b.EMnzIZ=function(n){let a="",r="";for(let t=0,e,r,i=0;r=n.charAt(i++);~r&&(e=t%4?64*e+r:r,t++%4)&&(a+=String.fromCharCode(255&e>>(-2*t&6))))r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,e=a.length;t<e;t++)r+="%"+("00"+a.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(r)},n=arguments,b.LVcdHa=!0);var t=t+s[0],i=n[t];return i?r=i:(r=b.EMnzIZ(r),n[t]=r),r})(n,t)}module.exports={data:(new SlashCommandBuilder)[b0(251)+"e"]("2048")[b0(136)+"cription"](b0(314)+"048 game"),category:b0(206),async execute(c){let h=b0,f={fjEeb:function(t,e){return t===e},VSvCS:function(t,e){return t+e},YtpfA:function(t,e){return t!==e},HDuTc:h(241),KNDjr:h(216),xjbyj:h(193)+h(250)+"d",EamnG:h(180)+"me ses"+h(185)+h(215)+h(270)+h(305)+h(220)+"game u"+h(157)+"/2048`!",DrIfd:function(t,e){return t(e)},zpeOY:"Error ending 2048 "+h(228),puuUq:h(150)+"t",xJElW:h(154)+h(310)+h(284)+" start"+h(141)+h(194)+"!"};try{let s=new Game2048,o=(await c["deferR"+h(168)](),await updateGame(c,s),t=>t[h(207)].id===c[h(207)].id&&t.message["intera"+h(153)].id===c.id),t=await c.fetchReply(),u=t[h(177)+h(304)+h(291)+h(178)+h(243)+"r"]({filter:o,time:9e5});u.on(f.puuUq,async e=>{var r=h;try{if(e.user.id!==c[r(207)].id)await e[r(230)]({content:"This g"+r(281)+r(278)+r(199)+c[r(207)]+". Start your"+r(297)+r(236)+"ing `/"+r(156),flags:MessageFlags["Epheme"+r(276)]});else{var t=e[r(164)+"Id"][r(223)+"e"](r(127),"");if(s.move(t)&&s["addNew"+r(131)](),s[r(140)+"Over"]()){try{await updateGame(c,s,!0)}catch(t){if(f.YtpfA(f[r(227)],r(241)))s.error(r(183)+"sendin"+r(139)+r(176)+r(282),o);else{if(50027!==t[r(173)])throw t;await e[r(300)+"Up"]({content:"Game Over!\nFinal S"+r(198)+s.score+r(285)+"st Til"+r(181)+s[r(259)+"tTile"],flags:MessageFlags[r(144)+"ral"]})}}u.stop()}else{var{embed:i,file:n}=await createGameEmbed(s);try{if("HvNpH"!==f[r(224)])await e.update({embeds:[i],files:[n],components:createGameButtons(!1)});else{if(H!==I&&(this.grid[aa][ab]=this[r(313)][ac][ad],this[r(313)][ae][af]=0,ag=!0),Q<3&&f[r(226)](this.grid[R][S],this.grid[T+1][U])&&!V[f[r(256)](W,1)][X]){var a=(r(137)+r(155)).split("|");let t=0;for(;;){switch(a[t++]){case"0":this.grid[ah+1][ai]*=2;continue;case"1":aq++;continue;case"2":ar=!0;continue;case"3":this.score+=this[r(313)][aj+1][ak];continue;case"4":an[ao+1][ap]=!0;continue;case"5":this[r(313)][al][am]=0;continue}break}}a9--}}catch(t){if(50027!==t[r(173)])throw t;u[r(257)](f.xjbyj),await e[r(300)+"Up"]({content:f.EamnG,flags:MessageFlags[r(144)+r(276)]})}}}}catch(t){console.error(r(183)+r(289)+"8 game inter"+r(260)+":",t);try{await e.followUp({content:r(171)+r(210)+r(246)+r(237)+r(189)+r(195)+r(303)+r(275)+r(165)+"rt a new game.",flags:MessageFlags[r(144)+"ral"]})}catch(t){console.error(r(183)+r(280)+"g erro"+r(176)+"age:",t)}}}),u.on(h(318),async(t,e)=>{var r,i,n=h;try{"time"===e?({embed:r,file:i}=await f.DrIfd(createGameEmbed,s),r["setDes"+n(235)+"on"](n(145)+n(129)+n(130)+n(315)+n(301)+"core: "+s.score+"\nHighe"+n(296)+n(181)+s[n(259)+n(288)]),await c["editRe"+n(201)]({embeds:[r],files:[i],components:f.DrIfd(createGameButtons,!0)})):f.fjEeb(e,"token_expired")}catch(t){50027!==t[n(173)]&&console[n(231)](f[n(219)],t)}})}catch(t){console.error("Error "+h(289)+h(287)+h(258),t),c[h(267)+"d"]||c[h(152)+"ed"]?await c[h(134)+h(201)]({content:"There was an"+h(284)+h(244)+h(203)+h(161),components:[]}):await c.reply({content:f[h(269)],flags:MessageFlags.Ephemeral})}}};class Game2048{constructor(){var t=b0,e=("4|2|0|"+t(167))[t(293)]("|");let r=0;for(;;){switch(e[r++]){case"0":this[t(259)+t(288)]=0;continue;case"1":this[t(126)+t(131)]();continue;case"2":this.score=0;continue;case"3":this[t(126)+t(131)]();continue;case"4":this[t(313)]=Array(4).fill().map(()=>Array(4).fill(0));continue}break}}["addNewTile"](){var t,e,r=b0,i=[];for(let e=0;e<4;e++)for(let t=0;t<4;t++)0===this.grid[e][t]&&i.push({x:e,y:t});0<i.length&&({x:t,y:e}=i[Math[r(125)](Math.random()*i.length)],this.grid[t][e]=Math[r(133)]()<.9?2:4)}[b0(188)](t){let e=b0,r=!1;var i=JSON.stringify(this[e(313)]),n=Array(4)[e(128)]()[e(245)](()=>Array(4)[e(128)](!1));switch(t){case"up":r=this.moveUp(n);break;case"down":r=this.moveDown(n);break;case e(142):r=this[e(240)+"ft"](n);break;case"right":r=this[e(268)+"ght"](n)}return this[e(271)+"HighestTile"](),r&&i!==JSON[e(261)+"ify"](this.grid)}[b0(271)+b0(149)+"tTile"](){const r=b0,i=function(t,e){return e<t};for(let e=0;e<4;e++)for(let t=0;t<4;t++)i(this[r(313)][e][t],this["highes"+r(288)])&&(this.highestTile=this.grid[e][t])}[b0(240)+"ft"](i){var n=b0,a={bTSbO:function(t,e){return t-e},JmuLm:function(t,e){return t-e},DcnGT:function(t,e){return t-e},MOyRH:function(t,e){return t-e}};let s=!1;for(let r=0;r<4;r++){let e=0;for(let t=0;t<4;t++)if(0!==this.grid[r][t]){if(e!==t&&(this.grid[r][e]=this.grid[r][t],this.grid[r][t]=0,s=!0),0<e&&this.grid[r][e]===this.grid[r][a[n(279)](e,1)]&&!i[r][a.bTSbO(e,1)]){var o=(n(265)+"2|0|4")[n(293)]("|");let t=0;for(;;){switch(o[t++]){case"0":e--;continue;case"1":this.grid[r][e]=0;continue;case"2":i[r][a[n(217)](e,1)]=!0;continue;case"3":this.grid[r][a[n(208)](e,1)]*=2;continue;case"4":s=!0;continue;case"5":this.score+=this[n(313)][r][a[n(292)](e,1)];continue}break}}e++}}return s}[b0(268)+"ght"](i){var a=b0,s={wezNh:function(t,e){return t<e},BqaQF:function(t,e){return t!==e},DegVK:function(t,e){return t===e},nSwvq:function(t,e){return t+e},oQZyW:function(t,e){return t+e}};let u=!1;for(let r=0;s[a(212)](r,4);r++){let e=3;for(let t=3;0<=t;t--)"MUyUa"!==a(202)?0!==this[a(313)][r][t]&&(s[a(277)](e,t)&&(this.grid[r][e]=this[a(313)][r][t],this.grid[r][t]=0,u=!0),e<3&&s[a(263)](this[a(313)][r][e],this.grid[r][e+1])&&!i[r][s[a(316)](e,1)]&&(this.grid[r][e+1]*=2,this[a(158)]+=this[a(313)][r][s[a(234)](e,1)],this.grid[r][e]=0,i[r][e+1]=!0,e++,u=!0),e--):(this.grid[t][k]=this[a(313)][l][m],this.grid[n][o]=0,p=!0)}return u}["moveUp"](i){let n=b0,a={FHNdj:function(t,e){return t!==e},AzuKu:function(t,e){return t-e},wBXbp:function(t,e){return t!==e},FsWCU:n(159),lZbMJ:function(t,e){return t-e}},s=!1;for(let r=0;r<4;r++){let e=0;for(let t=0;t<4;t++)a[n(182)]("gyNlY",a.FsWCU)?(this[n(313)]=s(4).fill().map(()=>e(4)[n(128)](0)),this.score=0,this[n(259)+"tTile"]=0,this[n(126)+n(131)](),this.addNewTile()):0!==this.grid[t][r]&&(e!==t&&(this.grid[e][r]=this.grid[t][r],this.grid[t][r]=0,s=!0),0<e&&this.grid[e][r]===this[n(313)][e-1][r]&&!i[a[n(200)](e,1)][r]&&(n(264)!==n(169)?(this[n(313)][e-1][r]*=2,this.score+=this[n(313)][a[n(238)](e,1)][r],this[n(313)][e][r]=0,i[e-1][r]=!0,e--,s=!0):(a.FHNdj(H,I)&&(this.grid[aa][ab]=this.grid[ac][ad],this.grid[ae][af]=0,ag=!0),0<Q&&this.grid[R][S]===this.grid[T-1][U]&&!V[a.AzuKu(W,1)][X]&&(this[n(313)][ah-1][ai]*=2,this.score+=this.grid[a[n(200)](aj,1)][ak],this.grid[al][am]=0,an[ao-1][ap]=!0,aq--,ar=!0),a9++)),e++)}return s}[b0(317)+"wn"](i){var n=b0,a={OfnvW:function(t,e){return e<=t},VGmIF:function(t,e){return t===e},hwHzf:function(t,e){return t+e}};let s=!1;for(let r=0;r<4;r++){let e=3;for(let t=3;a[n(123)](t,0);t--)0!==this[n(313)][t][r]&&(e!==t&&(this.grid[e][r]=this[n(313)][t][r],this[n(313)][t][r]=0,s=!0),e<3&&a.VGmIF(this[n(313)][e][r],this.grid[a[n(298)](e,1)][r])&&!i[e+1][r]&&(this[n(313)][e+1][r]*=2,this[n(158)]+=this[n(313)][e+1][r],this[n(313)][e][r]=0,i[e+1][r]=!0,e++,s=!0),e--)}return s}["isGameOver"](){var r=b0,i={ceqXR:function(t,e){return t===e},dnFew:function(t,e){return t<e},WDqAK:function(t,e){return t===e}};for(let e=0;e<4;e++)for(let t=0;t<4;t++)if(0===this[r(313)][e][t])return!1;for(let e=0;e<4;e++)if("HDoRz"===r(146))0!==this.grid[J][K]&&(ae!==af&&(this[r(313)][aH][aI]=this[r(313)][aJ][aK],this.grid[aL][aM]=0,aN=!0),an<3&&i[r(247)](this[r(313)][ao][ap],this[r(313)][aq+1][ar])&&!as[at+1][au]&&(this.grid[aO+1][aP]*=2,this.score+=this.grid[aQ+1][aR],this.grid[aS][aT]=0,aU[aV+1][aW]=!0,aX++,aY=!0),aG--);else for(let t=0;t<3;t++)if(this.grid[e][t]===this[r(313)][e][t+1])return!1;for(let e=0;i.dnFew(e,3);e++)for(let t=0;t<4;t++)if(i[r(187)](this[r(313)][e][t],this[r(313)][e+1][t]))return!1;return!0}}async function createGameEmbed(r){var i=b0,n={wbixV:function(t,e,r){return t(e,r)},tSjQn:i(290)+"8",nmIJp:"#f67c5f",ZKBzk:"#f65e3b",TrNsw:"#edcf72",wURGN:function(t,e){return t<e},VuUKB:i(135)+"4",bUrAz:function(t,e){return t+e},fCypB:function(t,e){return t<=e},nnIAo:i(197),uiYkb:i(273)+"ng",pklhc:i(175)+i(294)+i(239)+i(307),MzrFv:i(172)+"0"},t=n[i(295)](createCanvas,400,400),a=t[i(191)+i(162)]("2d"),s=(a.fillStyle=i(172)+"0",a[i(124)+"ct"](0,0,400,400),{0:"#cdc1b4",2:i(211)+"a",4:n.tSjQn,8:"#f2b179",16:"#f59563",32:n.nmIJp,64:n[i(233)],128:n.TrNsw,256:i(262)+"1",512:i(174)+"0",1024:"#edc53f",2048:"#edc22e"});for(let e=0;e<4;e++)for(let t=0;n[i(229)](t,4);t++){var o=r.grid[e][t],u=100*t,c=100*e;a.fillStyle=s[o]||n.VuUKB,a.fillRect(n.bUrAz(u,5),5+c,90,90),0!==o&&(a[i(209)+i(242)]=n.fCypB(o,4)?"#776e65":i(249)+"2",a[i(252)]=1e3<=o?i(160)+"2px Ar"+i(254):i(160)+"6px Arial",a[i(151)+i(143)]=n.nnIAo,a[i(148)+i(170)]=i(255),a[i(308)+"xt"](o.toString(),50+u,50+c))}t=new AttachmentBuilder(t[i(306)+"er"](),{name:n.uiYkb});return{embed:(new EmbedBuilder)[i(213)+"le"](i(274)+"ame")[i(136)+i(235)+"on"](i(232)+" "+r[i(158)]+"\nHighest Til"+i(181)+r.highestTile)[i(204)+"ge"](n.pklhc)[i(179)+"or"](n[i(163)]),file:t}}function createGameButtons(t=!1){let e=b0,r=t=>(new ButtonBuilder)["setCus"+e(302)]("blank_"+t).setLabel("​").setStyle(ButtonStyle["Second"+e(222)])["setDis"+e(196)](!0),i=(new ActionRowBuilder)[e(218)+e(312)+"s"](r("1"),(new ButtonBuilder)["setCus"+e(302)]("2048_up").setEmoji("⬆️").setStyle(ButtonStyle["Second"+e(222)]).setDisabled(t),r("2")),n=(new ActionRowBuilder)[e(218)+"ponents"]((new ButtonBuilder)[e(166)+e(302)]("2048_left")[e(147)+"ji"]("⬅️")[e(248)+"le"](ButtonStyle[e(283)+e(222)])["setDis"+e(196)](t),r("3"),(new ButtonBuilder)[e(166)+"tomId"](e(266)+e(138)).setEmoji("➡️")[e(248)+"le"](ButtonStyle[e(283)+"ary"])[e(221)+e(196)](t)),a=(new ActionRowBuilder)[e(218)+"ponents"]({OngNy:function(t,e){return t(e)}}[e(309)](r,"4"),(new ButtonBuilder).setCustomId("2048_down")[e(147)+"ji"]("⬇️")[e(248)+"le"](ButtonStyle[e(283)+"ary"])[e(221)+e(196)](t),r("5"));return[i,n,a]}async function updateGame(t,e,r=!1){var i=b0,n={QHxns:function(t,e){return t(e)}},{embed:a,file:s}=await n[i(190)](createGameEmbed,e);r&&a[i(136)+i(235)+"on"]("Game O"+i(192)+"inal S"+i(198)+e.score+(i(285)+i(296)+i(181))+e["highes"+i(288)]),await t.editReply({embeds:[a],files:[s],components:n[i(190)](createGameButtons,r)})[i(225)](console[i(231)])}