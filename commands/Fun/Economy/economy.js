let E=b;function b(r,e){let s=a();return(b=function(e,t){e-=339;let n=s[e];void 0===b.CFyCTT&&(b.RXDoyw=function(r){let s="",n="";for(let e=0,t,n,a=0;n=r.charAt(a++);~n&&(t=e%4?64*t+n:n,e++%4)&&(s+=String.fromCharCode(255&t>>(-2*e&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(let e=0,t=s.length;e<t;e++)n+="%"+("00"+s.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(n)},r=arguments,b.CFyCTT=!0);var e=e+s[0],a=r[e];return a?n=a:(n=b.RXDoyw(n),r[e]=n),n})(r,e)}(()=>{for(var e=b,t=a();;)try{if(620291==-parseInt(e(441))+-parseInt(e(473))/2*(-parseInt(e(449))/3)+-parseInt(e(495))/4+-parseInt(e(345))/5+parseInt(e(340))/6*(parseInt(e(498))/7)+parseInt(e(478))/8*(-parseInt(e(443))/9)+parseInt(e(493))/10*(parseInt(e(407))/11))break;t.push(t.shift())}catch(e){t.push(t.shift())}})();let{SlashCommandBuilder,EmbedBuilder,PermissionFlagsBits,ActionRowBuilder,ButtonBuilder,ButtonStyle,MessageFlags}=require("discor"+E(501)),User=require(E(364)+"../models/UserData"),fs=require("fs"),yaml=require(E(367)+"l"),{getConfig,getLang,getCommands}=require("../../../utils/cor"+E(526)+"igLoader.js"),config=getConfig(),lang=getLang(),replacePlaceholders=require(E(382)+E(377)+E(555)).replacePlaceholders;function a(){let e=["qwrTAw4","qxzLCMfN","rNvUzhm","i0zgqtuW","ywTLBG","vgLTzsbu","rNvXtMm","B25LEsbM","Dg9Tswq","CgX5","CgvYzM9Y","vgHLig5L","AKvQugK","Aw4GyMf0","Bv9YzxnL","vLLKC2e","ihjLC2v0","zxq6","z2L2zs1I","D2HPBguG","igfNywLU","z2L2zsbT","CLjoqxK","ywrKu3vI","y291BNre","CMvZzxr0","qwrTAw5P","mtaZote0n1L5ExflqW","B215oIa","ndaWnJe3oxzQv1DJvW","Aw4GDgHL","x3jLC2v0","AgfZ","BNqU","yw1VDw50","ntq3ota4Axv6wfjg","BgvUz3rO","Aw5NihrO","ywXSigjH","C2v0uMvX","DgHPCYbZ","zIbTB25L","zsbLy29U","y3rPB25m","ihnLCNzL","DgLVBI4","zxjYB3i6","zwnVBM9T","iZaWrKyW","rxbOzw1L","4PQG77IpievJB24","y29TBwfU","BgfUy2vZ","CIbWCM9J","zxnZAw5N","BgXLy3rV","zcbHzNrL","zsbIywXH","uLfvCxC","mtb0AM5dD0S","zxn0yw1W","DwLYzwq","ChvZAa","uK1frMi","oe5QBhHXwa","ihrHA2uG","Aw5N","B3rO","Esb0BYbN","BwfQB3jP","z2v0vxnL","Eu15wgK","Aw5JBhvK","C2v0rgvZ","Dw50","ywrKq2HV","CM1QvwK","Aw9U","ysbTB21L","mJK4mefWAvbeDW","BgLTAxq","mtG2mtuWoeHrzgPHqW","AgfUzgXP","B24GDgLT","mJe4mdi3nLj3zunWzW","twfUEq","yMfUAYWG","zc5QCW","BMvUDenV","BMnLl2jH","C2v0lwjH","BMzPCM1H","C2f2zq","CMvWBhK","wvvSuNK","C2v0q29S","Bw9KAwzP","Dg9tDhjP","DhjHBNnH","B25LEsb0","yxj5","qNHfDgO","u3bLy2LM","y2fUy2vS","ywrKvxnL","uMvZzxq","qMnrwei","B2DZ","rgf0ywjH","qw4GzxjY","Bgv0zsaO","z2L2zq","zs9JB25M","ywrTAw5h","vwjrvwO","lI4Uia","yw5R","yLLzuNC","BM93","zwrdB3vU","BMrSzxi6","DxbKyxrL","BwfW","rwnVBM9T","B3iGyM90","BwLU","B3b0Aw9U","y2HHCKf0","lcbVCIbI","B2n1BwvU","DgeGAw4G","Esb3Agv0","y29UzMLY","BMSSig9Y","DgfRzq","C2v0","Aw5Nt3b0","jsbJB21W","icOQ","zxj2zxi/","zwrPDgLU","BhbLCNm","AxmGBwf5","AxnbCNjH","zxiGDg8G","y2HHBM5L","yMfSyw5J","BgrZ","zwDLCK9W","lIbqBgvH","C2v0vgLT","CMfS","C2v0vgL0","y3jPChrP","lcbIyw5R","y0frBum","EsbHzg1P","yMfUAW","nKPvvhvTCa","zwrPDfjL","zxjYB3i","ywXHBMnL","u2v0igeG","mtiZmZa5meX2q0PHsG","BgvKlG","uMvZzxqG","CgrHDgu","y3vZDg9T","C2v0q3vZ","DsbZDxjL","Dg9vChbL","B215igrH","BM9qzxjT","C2LVBNm","Dg8GyMfS","rgfUz2vY","DwfKDNm","BwvTyMvY","Aw5ZDwzM","DxjYzwqG","AxjcCwm","AwnLCW","lI4VlI4V","z3vPBgq","y2f0y2G","ANmTEwfT","AxnZAw9U","CMf0Aw9U","CM9T","C2v0ienV","CwrwDxm","B3vYignV","zunVBxbV","igjHBgfU","yxb2wxm","Axr5l2HL","CK9WDgLV","y2GGCMvZ","CM91BMq","kIOGzM9Y","lI9vDgLS","DgLVBG","ru9gD04","vgHLigfT","C2LUzYb5","ywXSihvZ","DhLWzq","B3iGB2nJ","i0zgmdaW","BwvZC2fN","B21Tyw5K","C3rYyxrV","zgvMzxjv","BMLZDhjH","ywrTAw5t","C2v0tMfT","twvZC2fN","ywrTAw4T","B3vUDcbV","Aw9UigHH","zNjVBsbI","igzHAwXL","ywrKu3rY","ueHXvw0","ihvZzxjZ","ntG3nJjJAw9hDMG","yM90Aa","vMfIExm","C2XPy2u","kIOGDxnL","DxnLCG","igfJDgLV"];return(a=function(){return e})()}module.exports={data:(new SlashCommandBuilder).setName(E(461)+"y")[E(487)+E(567)+"on"]("Econom"+E(570)+E(395)+"tion c"+E(392)+"s")[E(437)+E(465)+"d"](e=>e[E(397)+"e"](E(525))[E(487)+E(567)+"on"]("Give money to a user")[E(518)+E(378)+"n"](e=>e.setName("user")[E(487)+E(567)+"on"]("The us"+E(558)+E(435)+E(513)+"o")[E(453)+E(475)](!0)).addIntegerOption(e=>e[E(397)+"e"](E(448))["setDes"+E(567)+"on"](E(385)+E(400)+E(455)+E(482)+"ive")["setReq"+E(475)](!0))["addStringOpt"+E(491)](e=>e.setName(E(388))["setDes"+E(567)+"on"](E(516)+E(545)+"her to give "+E(356)+"ance, "+E(500)+E(538)+"h")[E(453)+"uired"](!0).addChoices({name:"balance",value:E(560)+"e"},{name:E(339),value:E(339)},{name:"both",value:E(408)}))).addSubcommand(e=>e[E(397)+"e"](E(548))["setDes"+E(567)+"on"]("Take m"+E(421)+"rom a user")[E(518)+E(378)+"n"](e=>e[E(397)+"e"]("user")[E(487)+E(567)+"on"]("The user to take money f"+E(370))[E(453)+E(475)](!0))["addInt"+E(562)+E(383)](e=>e.setName("amount")[E(487)+"cription"]("The amount o"+E(455)+"y to take")[E(453)+"uired"](!0))["addStr"+E(550)+"ion"](e=>e[E(397)+"e"](E(388))[E(487)+E(567)+"on"]("Specify whether to"+E(479)+E(402)+"alance"+E(568)+E(542)+E(481))[E(453)+E(475)](!0)[E(489)+"ices"]({name:"balance",value:E(560)+"e"},{name:"bank",value:"bank"},{name:E(408),value:"both"})))[E(437)+E(465)+"d"](e=>e.setName(E(549))[E(487)+"cription"](E(344)+"user's"+E(375)+"ce or bank").addUserOption(e=>e.setName("user")[E(487)+E(567)+"on"]("The user to set th"+E(471)+E(503)+"nk for")["setReq"+E(475)](!0)).addIntegerOption(e=>e.setName(E(448)).setDescription(E(425)+"w balance/bank amo"+E(488))[E(453)+"uired"](!0))[E(404)+"ingOption"](e=>e.setName("type")[E(487)+"cription"]("Specify whether to set b"+E(343)+", bank"+E(542)+E(481))[E(453)+"uired"](!0)[E(489)+E(363)]({name:E(560)+"e",value:E(560)+"e"},{name:E(339),value:E(339)},{name:E(408),value:E(408)})))["addSub"+E(465)+"d"](e=>e[E(397)+"e"]("reset")[E(487)+E(567)+"on"](E(347)+E(387)+"ers' economy data "+E(444)+E(458)+"r")["addStringOpt"+E(491)](e=>e[E(397)+"e"]("type").setDescription("Specif"+E(545)+"her to"+E(430)+" balance, ba"+E(547)+" both")[E(453)+E(475)](!0)["addCho"+E(363)]({name:E(560)+"e",value:E(560)+"e"},{name:E(339),value:E(339)},{name:"both",value:E(408)}))),category:"Economy",async performBatchReset(a,r,s){var i=E,c={xGHeh:function(e,t){return e===t},pVRsj:i(560)+"e",BcQXB:function(e,t){return e===t},VYdsa:"both",cAQmC:function(e,t){return e<t},ceHEl:i(483)+"ty",FuqNc:function(e,t){return t<=e},aZmyK:function(e,t){return e*t},RQUqw:function(e,t){return e/t},rRNAy:function(e,t){return e+t},sXITI:function(e,t){return e/t},yLBku:"Batch reset "+i(460)},l={};(c.xGHeh(r,c.pVRsj)||c[i(520)](r,c[i(429)]))&&(l.balance=0),"bank"!==r&&r!==c[i(429)]||(l[i(339)]=0);let u=0,m=0;var d,w,g=Date.now();try{for(;c[i(569)](u,s);)if(i(477)!==i(477))m.bank+=g,e[i(512)+"ctionL"+i(521)].push({type:i(399)+"give-b"+i(530),amount:t,timestamp:new n}),o[i(339)]=p.bank;else{let e=await User.find({guildId:a.guild.id},{_id:1}).skip(u)[i(494)](100);if(0===e.length)break;let t=e[i(536)](e=>e._id),n=await User[i(535)+i(499)]({_id:{$in:t}},{$set:l,$push:{transactionLogs:{$each:[{type:i(399)+"reset",amount:0,resetType:r,adminId:a[i(412)].id,timestamp:new Date}],$slice:-50}}},{writeConcern:{w:c.ceHEl,j:!0}});if(u+=n[i(510)+i(533)+"t"],++m%5!=0&&!c[i(420)](u,s)||(d=Math[i(539)](100,Math.round(c.aZmyK(u/s,100))),w=Math[i(380)]((Date[i(532)]()-g)/1e3),await a["editRe"+i(423)]({content:"üîÑ Processing"+i(430)+i(529)+d+(i(551)+i(524))+u+"/"+s+i(406)+") - "+w+"s elapsed",embeds:[],components:[]})[i(366)](console[i(342)])),e[i(450)]<100)break}let e=Math.round(c[i(472)](Date[i(532)]()-g,1e3)),t=(new EmbedBuilder)[i(566)+"le"]("‚úÖ Economy Re"+i(371)+"mplete")[i(487)+i(567)+"on"]("Successfully reset"+i(552)+r+i(381)+" **"+u+i(411)+"rs in this server.")["addFie"+i(561)]([{name:i(347)+"Type",value:c[i(436)](r[i(541)](0)[i(352)+"rCase"](),r[i(410)](1)),inline:!0},{name:"Users Affected",value:u[i(511)+"ng"](),inline:!0},{name:i(419)+i(418),value:e+"s",inline:!0},{name:i(414),value:"<@"+a[i(412)].id+">",inline:!0},{name:"Batches Processed",value:m.toString(),inline:!0},{name:i(415)+"e Speed",value:Math[i(380)](c.sXITI(u,e))+(i(406)+"/s"),inline:!0}])[i(509)+"or"](i(462)+"0")[i(564)+i(474)]();await a.editReply({content:"",embeds:[t],components:[]})}catch(e){throw console.error(c.yLBku,e),new Error(i(522)+"se ope"+i(369)+i(403)+i(470)+i(467)+"essing "+u+"/"+s+i(406)+": "+e.message)}},async execute(i){const c=E,l={jEjPi:"Reset cancel"+c(346),MOoVY:"kCrES",OoAep:"fcUBj",bdhgh:"uhdIq",JmJSK:c(523)+c(389)+c(361)+c(433)+"proces"+c(386)+c(373)+c(505)+c(459),WkGYV:c(528),qoOwB:function(e,t){return e===t},FIOat:"No users found with econ"+c(353)+c(544)+c(454)+"erver.",bYYRw:c(417)+"0",irBqc:function(e,t){return e===t},Vabys:c(412),wNOQr:c(448),BxEtj:c(560)+"e",EOFwN:"bank",apvYs:function(e,t){return e!==t},dMFUb:function(e,t){return e===t},rmjUi:"VNiIa",Scuwy:c(399)+"take-b"+c(530),qdVus:c(390)+"0",yqZrb:"set",YUlRy:function(e,t){return e!==t}},u=i[c(540)+"s"].getSubcommand(),m=i[c(540)+"s"]["getStr"+c(480)](c(388)),d=config[c(537)+"y"].administrator,g=i[c(359)].roles.cache.map(e=>e.id);if(!i[c(359)]["permis"+c(355)][c(446)](PermissionFlagsBits[c(440)+c(393)+"r"])&&!g.some(e=>d[c(486)+"es"](e)))return i[c(507)]({content:lang[c(537)+"y"].Messages[c(354)+c(368)],flags:MessageFlags.Ephemeral});if("reset"===u){await i.deferReply({ephemeral:!0});let a=await User[c(438)+c(543)+"ts"]({guildId:i[c(365)].id});if(l.qoOwB(a,0)){let e=(new EmbedBuilder)[c(487)+"cription"](l.FIOat).setColor(l[c(531)]);return i["editRe"+c(423)]({embeds:[e]})}let r=(new EmbedBuilder).setTitle(c(464)+"omy Re"+c(371)+"nfirmation").setDescription("Are yo"+c(351)+" you want to reset "+(l[c(362)](m,c(408))?c(452)+c(466)+" and b"+c(530):m)+" for **"+a+c(411)+"rs in "+c(454)+c(553)+"\n\nThis"+c(413)+"n cannot be undone!").setColor("#FFA500"),s=(new ButtonBuilder)["setCus"+c(422)](c(546)+c(428)+"t_"+i[c(412)].id+"_"+Date[c(532)]()).setLabel("Confirm Reset").setStyle(ButtonStyle[c(357)]),e=(new ButtonBuilder)[c(350)+"tomId"](c(517)+"_reset_"+i[c(412)].id+"_"+Date.now()).setLabel("Cancel").setStyle(ButtonStyle["Second"+c(514)]),t=(new ActionRowBuilder).addComponents(s,e);await i[c(341)+c(423)]({embeds:[r],components:[t]});var n=i[c(559)+"l"]["createMessag"+c(374)+c(502)+c(469)+"r"]({filter:e=>e.user.id===i.user.id&&(e[c(349)+"Id"][c(486)+"es"](c(546)+"m_reset")||e[c(349)+"Id"].includes("cancel_reset")),time:6e4,max:1});return n.on("collect",async e=>{var t=c;try{if(await e[t(394)+t(348)](),e.customId.startsWith(t(517)+t(445)))await i[t(341)+t(423)]({content:l[t(426)],embeds:[],components:[]});else if(e[t(349)+"Id"].startsWith("confir"+t(428)+"t")){if("KwWiA"===l.MOoVY)throw b[t(342)]("Batch reset error:",f),new h(t(522)+"se operation failed afte"+t(467)+t(468)+" "+L+"/"+D+" users: "+a[t(391)+"e"]);await i.editReply({content:"üîÑ Proc"+t(468)+" reset... Th"+t(556)+" take "+t(492)+t(447),embeds:[],components:[]});try{await this[t(424)+"mBatch"+t(519)](i,m,a)}catch(e){if("fcUBj"!==l.OoAep)return m.reply({content:d[t(537)+"y"][t(398)+"es"].noPermission,flags:g["Epheme"+t(565)]});console.error("Error "+t(427)+t(379)+t(431),e);var n=(new EmbedBuilder)[t(566)+"le"]("‚ùå Reset Failed")[t(487)+t(567)+"on"]("An error occurred "+t(433)+t(439)+t(451)+t(456)+t(442)+e.message).setColor(t(390)+"0");await i[t(341)+"ply"]({content:"",embeds:[n],components:[]}).catch(console.error)}}}catch(e){console.error("Error in confirmat"+t(401)+t(534),e);try{"YjZjt"===l.bdhgh?(f.balance+=h,L["transactionL"+t(521)].push({type:t(399)+t(432)+"alance",amount:D,timestamp:new a}),r.balance=s.balance):await i["editRe"+t(423)]({content:l.JmJSK,embeds:[],components:[]})}catch(e){"OmLRv"!==l.WkGYV?console.error("Error "+t(554)+"g reply:",e):u.error("Error editing reply:",m)}}}),void n.on("end",async e=>{var t=c;if(l.qoOwB(e.size,0))try{var n=(new EmbedBuilder)[t(487)+"cription"]("‚è∞ Confirmati"+t(497)+"ed out"+t(563)+"se run the command"+t(434)+".").setColor(t(417)+"0");await i.editReply({content:"",embeds:[n],components:[]})}catch(e){console[t(342)]("Error "+t(496)+"ng timeout:",e)}})}let b=i.options[c(484)+"r"](l[c(409)]),f=i.options.getInteger(l.wNOQr),h={},L=(m!==l[c(515)]&&"both"!==m||(h[c(560)+"e"]=1),m!==l[c(384)]&&"both"!==m||(h.bank=1),h["transa"+c(457)+"ogs"]=1,await User.findOne({userId:b.id,guildId:i.guild.id},h)),D=(L?Array[c(557)+"y"](L["transa"+c(457)+"ogs"])||(L[c(512)+c(457)+"ogs"]=[]):L=new User({userId:b.id,guildId:i[c(365)].id,balance:0,bank:0,commandData:{},transactionLogs:[]}),{user:"<@"+b.id+">",amount:f,balance:L.balance||0,bank:L.bank||0,type:m});if("give"===u){if("ZJgFk"===c(405))return m[c(507)]({content:d[c(537)+"y"][c(398)+"es"][c(360)+"icientFunds"],flags:g.Ephemeral});{if(m!==l.BxEtj&&"both"!==m||(L[c(560)+"e"]+=f,L[c(512)+c(457)+c(521)][c(476)]({type:c(399)+"give-b"+c(343),amount:f,timestamp:new Date}),D[c(560)+"e"]=L[c(560)+"e"]),m===l[c(384)]||"both"===m)if(l[c(376)](c(485),"DoCIN"))L.bank+=f,L["transactionL"+c(521)].push({type:c(399)+c(432)+"ank",amount:f,timestamp:new Date}),D.bank=L.bank;else{if(o.balance<p)return A.reply({content:B[c(537)+"y"].Messages["insufficient"+c(416)],flags:C[c(463)+"ral"]});t.balance-=e,v[c(512)+"ctionL"+c(521)].push({type:"admin-take-b"+c(343),amount:-w,timestamp:new x}),y[c(560)+"e"]=z[c(560)+"e"]}let e=(new EmbedBuilder)["setDes"+c(567)+"on"](replacePlaceholders(lang.Economy.Messages[c(527)+"ive"],D))[c(509)+"or"](c(462)+"0");return await L.save(),i[c(507)]({embeds:[e]})}}if(l.irBqc(u,"take")){if(l[c(362)](m,l.BxEtj)||l.dMFUb(m,c(408))){if(L.balance<f){if("vuKVC"!==l[c(490)])return i[c(507)]({content:lang[c(537)+"y"].Messages.insufficientFunds,flags:MessageFlags.Ephemeral});d=new g({userId:b.id,guildId:f[c(365)].id,balance:0,bank:0,commandData:{},transactionLogs:[]})}L[c(560)+"e"]-=f,L[c(512)+"ctionL"+c(521)][c(476)]({type:"admin-take-balance",amount:-f,timestamp:new Date}),D.balance=L.balance}if(m===c(339)||m===c(408)){if(L[c(339)]<f)return i[c(507)]({content:lang.Economy.Messages[c(360)+"icient"+c(416)],flags:MessageFlags["Epheme"+c(565)]});L[c(339)]-=f,L[c(512)+c(457)+c(521)][c(476)]({type:l.Scuwy,amount:-f,timestamp:new Date}),D[c(339)]=L[c(339)]}let e=(new EmbedBuilder).setDescription(replacePlaceholders(lang.Economy[c(398)+"es"].adminTake,D)).setColor(l[c(372)]);return await L[c(506)](),i[c(507)]({embeds:[e]})}if(u===l.yqZrb){m!==l.BxEtj&&"both"!==m||(L[c(560)+"e"]=f,L["transa"+c(457)+c(521)].push({type:"admin-set-balance",amount:f,timestamp:new Date}),D.balance=L[c(560)+"e"]),m!==l.EOFwN&&m!==c(408)||(l[c(508)](c(358),"PeOET")?(L.bank=f,L[c(512)+c(457)+c(521)][c(476)]({type:"admin-"+c(504)+"nk",amount:f,timestamp:new Date}),D.bank=L[c(339)]):l[c(512)+"ctionLogs"]=[]);let e=(new EmbedBuilder)["setDes"+c(567)+"on"](replacePlaceholders(lang[c(537)+"y"][c(398)+"es"][c(396)+"et"],D))[c(509)+"or"]("#0000FF");return await L.save(),i.reply({embeds:[e]})}}};