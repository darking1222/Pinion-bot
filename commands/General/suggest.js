function b(s,e){let i=a();return(b=function(e,t){e-=157;let a=i[e];void 0===b.TwSBIs&&(b.seDipU=function(s){let i="",a="";for(let e=0,t,a,n=0;a=s.charAt(n++);~a&&(t=e%4?64*t+a:a,e++%4)&&(i+=String.fromCharCode(255&t>>(-2*e&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let e=0,t=i.length;e<t;e++)a+="%"+("00"+i.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(a)},s=arguments,b.TwSBIs=!0);var e=e+i[0],n=s[e];return n?a=n:(a=b.seDipU(a),s[e]=a),a})(s,e)}let a8=b,{SlashCommandBuilder,ModalBuilder,TextInputBuilder,TextInputStyle,ActionRowBuilder,MessageFlags,StringSelectMenuBuilder,StringSelectMenuOptionBuilder,LabelBuilder}=((()=>{for(var e=b,t=a();;)try{if(966050==-parseInt(e(334))+parseInt(e(383))/2*(parseInt(e(313))/3)+parseInt(e(343))/4*(parseInt(e(386))/5)+-parseInt(e(245))/6*(-parseInt(e(275))/7)+-parseInt(e(188))/8+-parseInt(e(351))/9*(-parseInt(e(304))/10)+-parseInt(e(327))/11)break;t.push(t.shift())}catch(e){t.push(t.shift())}})(),require("discor"+a8(157))),suggestionActions=require(a8(236)+"events/Sugge"+a8(240)+"/sugge"+a8(292)+"ctions"),{addToBlacklist,removeFromBlacklist,isBlacklisted}=require("../../utils/"+a8(260)+a8(352)+"blacklist"),{containsBlacklistedWordsText,buildBlacklistResponse,userHasAllowedRole}=require(a8(236)+"utils/sugges"+a8(352)+"valida"+a8(237)),{getConfig,getLang,getCommands}=require("../../"+a8(348)+"core/configL"+a8(168)+"js"),config=getConfig(),lang=getLang();function createLabelComponent(a){let r=a8,l={PHFaO:function(e,t){return e===t},zQOYh:"Select an option...",NvDzK:"Paragraph",NsMBp:r(205)};if(l.PHFaO(a.Type,"StringSelect")){let i=(new StringSelectMenuBuilder).setCustomId(a.ID)[r(316)+"ceholder"](a.Placeholder||l.zQOYh)[r(307)+r(206)](a.Required?1:0).setMaxValues(1),e=(a[r(299)+"s"].forEach(e=>{var t=r,a=(new StringSelectMenuOptionBuilder)[t(279)+"el"](e[t(252)]).setValue(e.Value);e[t(381)+"ption"]&&a[t(300)+"cription"](e[t(381)+"ption"]),e.Emoji&&a[t(170)+"ji"](e[t(324)]),i.addOptions(a)}),(new LabelBuilder)[r(279)+"el"](a[r(252)])[r(371)+r(341)+"ectMen"+r(221)+r(241)](i));if(a[r(381)+r(344)]){if(r(159)===r(384)){let i=(new m).setCustomId(n.ID)[r(316)+"ceholder"](o.Placeholder||"Select an op"+r(280)+".").setMinValues(p[r(192)+"ed"]?1:0)[r(214)+"Values"](1);q.Options[r(295)+"h"](e=>{var t=r,a=(new w)[t(279)+"el"](e.Label).setValue(e.Value);e[t(381)+"ption"]&&a["setDes"+t(308)+"on"](e[t(381)+t(344)]),e.Emoji&&a.setEmoji(e[t(324)]),i["addOpt"+t(291)](a)});var g=(new s)[r(279)+"el"](t[r(252)])[r(371)+"ingSelectMenuComponent"](i);return u[r(381)+r(344)]&&g["setDes"+r(308)+"on"](w.Description),g}e[r(300)+"cription"](a[r(381)+r(344)])}return e}return g=(new TextInputBuilder)[r(339)+"tomId"](a.ID)["setPla"+r(207)+"er"](a[r(232)+r(235)]||"")[r(268)+"le"](l.PHFaO(a.Style,l[r(204)])?TextInputStyle[r(349)+"aph"]:TextInputStyle.Short)["setReq"+r(247)](a[r(192)+"ed"]||!1),a[r(303)+r(202)]&&g[r(214)+r(284)](a[r(303)+r(202)]),g=(new LabelBuilder)[r(279)+"el"](a.Question||a.Label)[r(382)+"tInput"+r(175)+r(321)](g),a["Descri"+r(344)]&&("Zmzio"!==l.NsMBp?e["setMax"+r(284)](f[r(303)+r(202)]):g["setDes"+r(308)+"on"](a.Description)),g}async function openQuestionModal(n){let i=a8,u={YvoJf:function(e,t){return e===t},nrmKu:"Paragraph",osEIQ:i(287)+i(364)+"ation Error**\n\nThe suggestion "+i(257)+" is no"+i(174)+"erly c"+i(338)+i(379)+"lease "+i(328)+"t an a"+i(315)+"trator.\n\nðŸ”§ *"+i(239)+i(298)+"* Add the `S"+i(314)+"ionSet"+i(230)+i(370)+"on to your config "+i(388),lxaLO:i(260)+i(376)+i(195),KwEcI:"Error "+i(330)+i(345)+i(180)+i(385)};try{if(config["Sugges"+i(191)+"ttings"])if(u.YvoJf(config["Sugges"+i(191)+i(336)]["AdditionalModalInp"+i(326)],void 0)||null===config[i(181)+i(191)+"ttings"]["Additi"+i(216)+i(215)+"uts"])console.error("AdditionalModalInp"+i(183)+i(364)+i(392)+i(288)+i(286)+"r null"),await n.reply({content:i(287)+"nfigur"+i(392)+"Error*"+i(166)+" sugge"+i(224)+i(193)+"inputs"+i(160)+i(176)+i(361)+i(319)+i(318)+i(177)+i(250)+i(243)+i(190)+i(165)+"r.\n\nðŸ”§ **Admin Fix:** Add"+i(218)+"AdditionalModalInputs` s"+i(185)+" to yo"+i(354)+i(227)+"onSettings` "+i(319)+"uration.",flags:MessageFlags["Epheme"+i(342)]});else if(Object.values(config.SuggestionSettings["Additi"+i(216)+i(215)+i(326)]||{}).some(e=>e&&e.Type===i(290)+"Select")){let e=(new ModalBuilder)[i(339)+i(231)](i(260)+i(376)+"dal").setTitle(lang[i(181)+"tion"][i(242)+i(337)]),s=[],t=(new TextInputBuilder)[i(339)+"tomId"]("sugges"+i(393)+"xt").setStyle(TextInputStyle[i(349)+i(323)])["setReq"+i(247)](!0),a=(new LabelBuilder).setLabel(lang.Suggestion[i(397)+i(289)+"n"])[i(382)+i(270)+i(175)+i(321)](t);s.push(a),Object.entries(config["SuggestionSe"+i(336)][i(362)+"onalMo"+i(215)+"uts"]||{}).forEach(([e,t])=>{var a,n=i;if(t&&t.ID&&s.length<5){let e=createLabelComponent(t);s.push(e)}else t&&!t.ID&&(u[n(293)]("ihkrS",n(258))?((a=(new t)[n(279)+"el"](l[n(252)]).setValue(m[n(332)])).Description&&a[n(300)+n(308)+"on"](o.Description),p[n(324)]&&a[n(170)+"ji"](q[n(324)]),r[n(363)+n(291)](a)):console[n(163)]("Invali"+n(296)+"iguration for AdditionalModalInput: "+e+(n(196)+n(213))+"D prop"+n(158),t))}),e.addLabelComponents(...s),await n[i(194)+"dal"](e)}else{let s=(new ModalBuilder)[i(339)+i(231)](u.lxaLO)[i(373)+"le"](lang.Suggestion["ModalT"+i(337)]),e=(new TextInputBuilder)["setCus"+i(231)]("suggestionText").setLabel(lang["Sugges"+i(237)][i(397)+i(289)+"n"])[i(268)+"le"](TextInputStyle.Paragraph)[i(375)+i(247)](!0),t=(new ActionRowBuilder)["addCom"+i(358)+"s"](e);s.addComponents(t),Object.entries(config["Sugges"+i(191)+"ttings"].AdditionalModalInputs||{})[i(295)+"h"](([e,t])=>{var a,n=i;t&&t.ID&&"StringSelect"!==t.Type?(a=(new TextInputBuilder)[n(339)+"tomId"](t.ID).setLabel(t[n(355)+"on"]||t.Label)[n(316)+n(207)+"er"](t.Placeholder)[n(268)+"le"](u.YvoJf(t.Style,u[n(387)])?TextInputStyle[n(349)+"aph"]:TextInputStyle[n(203)])["setReq"+n(247)](t.Required)["setMax"+n(284)](t[n(303)+n(202)]),a=(new ActionRowBuilder).addComponents(a),s[n(189)+"ponents"](a)):t&&!t.ID&&console.error(n(171)+n(296)+"iguration for AdditionalModalInput: "+e+" - missing I"+n(302)+n(158),t)}),await n[i(194)+i(195)](s)}else console.error(i(181)+i(269)+i(320)+"config"+i(256)+"n is m"+i(278)+i(305)+i(319)+i(367)),await n[i(264)]({content:u[i(233)],flags:MessageFlags[i(266)+i(342)]})}catch(e){i(178)!==i(178)?f[i(163)]("Invalid configurat"+i(251)+"r Additional"+i(267)+i(301)+g+(i(196)+i(213)+i(302))+"erty",h):(console.error(u[i(359)],e),n.replied||await n[i(264)]({content:lang["Sugges"+i(237)][i(223)],flags:MessageFlags[i(266)+i(342)]}))}}let command=(new SlashCommandBuilder).setName("sugges"+a8(237)).setDescription("Manage"+a8(209)+"stions"),useQuestionModal=config["Sugges"+a8(191)+a8(336)][a8(179)+a8(169)+a8(391)];function a(){let e=["C3rPB24","rxbOzw1L","tw9KywXj","C2v0u3r5","DgLVBIbZ","DeLUChv0","C3qU","DgHLigjS","ywXhC1K","q3jLyxrL","mJm4zNDNve5q","y3jLyxrL","y2vWDerL","AxnZAw5N","C2v0tgfI","DgLVBI4U","igeGDxnL","vgHLihvZ","BePvvfC","tgvUz3rO","y29TBwfU","C2LUzYbV","4P2micOQq28","AxmGBwLZ","DwvZDgLV","u3rYAw5N","Aw9UCW","C3rPB25b","wxzVsMy","BwvTyMvY","zM9YrwfJ","zcbJB25M","weH6vNm","iezPEdOQ","t3b0Aw9U","C2v0rgvZ","BNb1DdOG","rcbWCM9W","Bwf4tgvU","mteYnJuWEeT6uMzX","igzYB20G","zsbZDwDN","C2v0twLU","y3jPChrP","qwrKigeG","r2vUzxjH","Axn0twvZ","Aw5Nt3b0","m2L6r09xAa","DwDNzxn0","zg1PBMLZ","C2v0ugXH","zwrPDfjL","DxjLzc4G","y29UzMLN","Exn0zw0G","zw50","C2v0tMfT","yxbO","rw1VAMK","yw5KoIa","DxrZ","mteZndq5mtzOthfzC3u","y29UDgfJ","Aw9U","Aw4GB3bL","zNjVBsb0","vMfSDwu","CMvTB3zL","mJGYmdGWwKXrDgjP","C0nou0y","DhrPBMDZ","AxrSzq","B25MAwD1","C2v0q3vZ","ywrKu3vI","Aw5Nu2vS","CMfS","mZiXntzbCKneqK4","ChrPB24","BLf1zxn0","vgHLihn1","vMznD0S","DxrPBhmV","ugfYywDY","igzVCIbK","mtq0mfPbzMXNDa","DgLVBNmV","zxiGDg8G","DxiGyfn1","uxvLC3rP","AxnHyMXL","CM9Szxm","Cg9Uzw50","s3Dfy0K","vgHLieLe","CgvYBhKG","qwrKAxrP","ywrKt3b0","BMzPz3vY","zKX3tum","ihrOzsbZ","igzPBgu","y2nLChrP","igHHCYbI","ihnLy3rP","C2v0u3rY","twfUywDL","C2v0vgL0","CezwAKO","C2v0uMvX","DgLVBK1V","uMvHC29U","y2fJAgu","CMvKlIbq","u3r5Bgu","rgvZy3jP","C2v0vgv4","mJe4odaWmK9OAwrSvG","EvLOyLO","ywW6ia","nti1z1vct1Ph","BNjTs3u","zMLSzs4","zeDYB3vW","ig9MihrO","B2rHBa","yxrPB24G","DgLVBLrL","zxHWB3j0","yMXHy2TS","C29Tzq","tw9KywXr","zc5QCW","zxj0Eq","rffIrNu","igfYzsbU","DgLVBKfJ","zgvUEvn1","zxjYB3i","ihrVigfJ","C3rYyxrV","kGOkvgHL","Axn0","B2fKzxiU","C3rPB25n","C2v0rw1V","sw52ywXP","tw5sC1e","BIbJB21T","DcbWCM9W","q29TCg9U","B3qGChjV","ugXLyxnL","CLHrAhi","vxnLuxvL","Aw9Utw9K","u3vNz2vZ","zwvUihjL","DxrZignV","CMvHC29U","zwn0Aw9U","zxn0Aw9U","qwnJzxb0","mti4mtC5nJH6wwT4yuy","ywrKq29T","ywrTAw5P","DgLVBLnL","uMvXDwLY","Bw9KywWG","C2HVD01V","zgfS","ic0GBwLZ","ywrK","AguGyMXH","z2v0u3rY","DxnLCG","igeGBMv3","z3rO","u2HVCNq","tNzeEKS","wM16Aw8","vMfSDwvZ","y2vOB2XK","Aw5N","ihn1z2DL","zgvUEq","ywrKvxnL","B3b0Aw9U","C2LUzYbj","C2v0twf4","zgfSsw5W","B25HBe1V","z2rMrva","ihrOzsbG","BNLsB2XL","igzVCIbH","DunVBxbV","Dgv4Da","rxjYB3i","C3rPB24G","BM56rhC","qMXHy2TS","z2DLC3rP","z2vZDgLV","zxbSEq","DgLUz3nG","Dg9Tswq","ugXHy2vO","B3nfsve","Aw4GC3vN","B2XKzxi","lI4VlI4V","DgLVBG","igjSywnR","kKfKBwLU","C3rPB25Z","BMvUDa","tw9KywXu","y3qGyw4G","B24GDgv4","mJq5mJrmwer1A3G","ywrKu3rY","DwLYzwq","z2v0vxnL","DgLVBNne","ignVBNrH","Aw9UigzV","tgfIzwW","zgvMzxjs","z2v0u3vI","ywnJzxb0","DxjHDgLV","C3LZDgvT","Agj0yM4","DgLVBMfS","C3vNz2vZ","C01LC3nH","ywnRBgLZ","AgfZ","CMvWBhK"];return(a=function(){return e})()}useQuestionModal?command["addSub"+a8(285)+"d"](e=>e.setName("create")[a8(300)+a8(308)+"on"]("Create"+a8(201)+" sugge"+a8(265))):command[a8(340)+"command"](e=>e.setName(a8(276)).setDescription("Create"+a8(201)+a8(209)+"stion")["addStr"+a8(312)+"ion"](e=>e[a8(322)+"e"](a8(222))[a8(300)+a8(308)+"on"]("The suggesti"+a8(244)+"t").setRequired(!0))),command.addSubcommand(e=>e[a8(322)+"e"]("accept").setDescription(a8(187)+" a sug"+a8(228)+"n")[a8(246)+"ingOption"](e=>e.setName("id")[a8(300)+a8(308)+"on"](a8(360)+" of th"+a8(306)+a8(186)+a8(164)+"cept")[a8(375)+a8(247)](!0))[a8(246)+a8(312)+a8(329)](e=>e.setName(a8(184)).setDescription("Reason"+a8(220)+a8(368)+"ng the suggestion")[a8(375)+a8(247)](!1)))[a8(340)+a8(285)+"d"](e=>e.setName(a8(210)).setDescription("Deny a sugge"+a8(265))["addStringOpt"+a8(329)](e=>e[a8(322)+"e"]("id").setDescription("The ID"+a8(390)+a8(306)+a8(186)+" to deny")["setReq"+a8(247)](!0))[a8(246)+a8(312)+"ion"](e=>e[a8(322)+"e"]("reason")[a8(300)+"cription"]("Reason"+a8(350)+"enying"+a8(366)+a8(314)+a8(329))[a8(375)+"uired"](!1)))[a8(340)+"comman"+a8(389)](e=>e[a8(322)+"e"](a8(395)+"ist").setDescription(a8(372)+a8(238)+"list").addSubcommand(e=>e[a8(322)+"e"](a8(197))["setDes"+a8(308)+"on"](a8(309)+"user to the blacklist")[a8(211)+"rOption"](e=>e[a8(322)+"e"](a8(200))["setDes"+a8(308)+"on"]("The user to blackl"+a8(167))[a8(375)+a8(247)](!0))).addSubcommand(e=>e.setName(a8(333))["setDes"+a8(308)+"on"]("Remove"+a8(281)+"r from the blacklist")[a8(211)+"rOption"](e=>e.setName(a8(200))["setDes"+a8(308)+"on"](a8(282)+a8(353)+"remove from "+a8(272)+a8(262)+"t")[a8(375)+"uired"](!0)))),module[a8(394)+"s"]={data:command,category:a8(310)+"l",async execute(l,a){let d=a8,c={alGsY:d(349)+d(323),fLwMC:d(335),fsShm:function(e,t){return e(t)},VfMwK:function(e,t){return e===t},UXZkY:"ueYmD",lJUTW:d(184),BKBiu:function(e,t){return e===t},oLqpE:function(e,t){return e===t},XHzVs:"add",MnRsQ:"remove"};try{if("sCNSF"===c[d(365)])if(config["Sugges"+d(191)+"ttings"].Enabled){let i=l[d(212)+"s"][d(254)+d(285)+"d"]();var n,m,B;if(i===d(276))if(userHasAllowedRole(l.member)){let e=await isBlacklisted(l.user.id);if(e)await l[d(264)]({content:lang[d(181)+"tion"][d(226)+d(311)+"sage"],flags:MessageFlags[d(266)+d(342)]});else if(useQuestionModal)await c.fsShm(openQuestionModal,l);else{let e=l.options[d(199)+d(208)](d(222));if(config[d(181)+d(191)+d(336)].blockBlacklistWords&&await containsBlacklistedWordsText(e))n=buildBlacklistResponse(l[d(200)]),await l[d(264)]({content:n,flags:MessageFlags.Ephemeral});else try{await l[d(253)+d(229)]({flags:MessageFlags[d(266)+"ral"]}),await suggestionActions["createSugges"+d(237)](a,l,e),await l[d(317)+"ply"]({content:lang[d(181)+d(237)][d(181)+"tionCreated"]})}catch(e){console[d(163)]("Error creating suggestion:",e),l.replied?c.VfMwK(c.UXZkY,d(225))?(m=(new o)[d(339)+"tomId"](p.ID)[d(279)+"el"](q[d(355)+"on"]||r[d(252)])["setPla"+d(207)+"er"](s.Placeholder)[d(268)+"le"](t[d(380)]===c[d(273)]?u["Paragr"+d(323)]:v.Short)[d(375)+"uired"](w[d(192)+"ed"])[d(214)+d(284)](x[d(303)+d(202)]),B=(new y)[d(189)+d(358)+"s"](m),z.addComponents(B)):await l[d(317)+"ply"]({content:lang.Suggestion.Error}):await l[d(264)]({content:lang[d(181)+d(237)].Error,flags:MessageFlags.Ephemeral})}}}else await l.reply({content:lang.NoPermsMessage,flags:MessageFlags[d(266)+d(342)]});else if("accept"===i||c[d(347)](i,"deny"))if(config["Sugges"+d(191)+d(336)]["SuggestionAc"+d(277)+"nyRoles"][d(396)](e=>l[d(294)].roles[d(378)][d(263)](e))){let e=l[d(212)+"s"][d(199)+"ing"]("id"),t=l.options["getStr"+d(208)](c[d(283)])||lang.Suggestion[d(377)];c.BKBiu(i,d(255))?await suggestionActions[d(255)+d(181)+"tion"](a,l,e,t):"pFVjJ"!==d(374)?a[d(340)+"command"](e=>e.setName(d(276))["setDes"+d(308)+"on"](d(274)+d(201)+" suggestion")["addStr"+d(312)+d(329)](e=>e.setName(d(222))[d(300)+"cription"](d(346)+"ggestion text")["setReq"+d(247)](!0))):await suggestionActions[d(162)+"ggestion"](a,l,e,t)}else await l.reply({content:lang["NoPerm"+d(261)+"ge"],flags:MessageFlags.Ephemeral});else if(c.oLqpE(i,c.XHzVs)||i===c[d(172)]){let e=i,t=l[d(212)+"s"][d(248)+"r"](d(200)),a=config["Sugges"+d(191)+d(336)][d(181)+d(161)+"ceptDe"+d(219)+"s"],n=a.some(e=>l[d(294)][d(357)].cache.has(e));n?e===c[d(297)]?(await addToBlacklist(t.id),await l[d(264)]({content:t+(d(369)+"een added to the blackli"+d(271)),flags:MessageFlags[d(266)+"ral"]})):c[d(347)](e,c[d(172)])&&(await removeFromBlacklist(t.id),await l.reply({content:t+(" has b"+d(182)+"moved "+d(331)+d(198))+"cklist.",flags:MessageFlags[d(266)+d(342)]})):await l[d(264)]({content:lang["NoPerm"+d(261)+"ge"],flags:MessageFlags[d(266)+d(342)]})}}else await l.reply({content:lang[d(181)+"tion"]["Sugges"+d(249)+d(356)+"d"],flags:MessageFlags[d(266)+"ral"]});else f.error(d(171)+d(296)+"iguration for Addi"+d(259)+"ModalInput: "+g+(d(196)+d(213))+"D prop"+d(158),h)}catch(e){"gdfEP"!==d(217)?a[d(340)+"command"](e=>e[d(322)+"e"]("create")["setDes"+d(308)+"on"](d(274)+" a new"+d(209)+"stion")):(console.error("Error "+d(234)+"gestio"+d(173)+d(325),e),l.replied||await l[d(264)]({content:lang[d(181)+d(237)][d(223)],flags:MessageFlags[d(266)+"ral"]}))}}};