let S=b;function b(i,e){let r=a();return(b=function(e,t){e-=364;let n=r[e];void 0===b.iwGiBb&&(b.AaxGHP=function(i){let r="",n="";for(let e=0,t,n,a=0;n=i.charAt(a++);~n&&(t=e%4?64*t+n:n,e++%4)&&(r+=String.fromCharCode(255&t>>(-2*e&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(let e=0,t=r.length;e<t;e++)n+="%"+("00"+r.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(n)},i=arguments,b.iwGiBb=!0);var e=e+r[0],a=i[e];return a?n=a:(n=b.AaxGHP(n),i[e]=n),n})(i,e)}(()=>{for(var e=b,t=a();;)try{if(716611==+parseInt(e(367))*(parseInt(e(429))/2)+-parseInt(e(368))/3*(-parseInt(e(515))/4)+parseInt(e(392))/5+-parseInt(e(390))/6*(-parseInt(e(544))/7)+-parseInt(e(476))/8+-parseInt(e(581))/9*(-parseInt(e(461))/10)+-parseInt(e(537))/11)break;t.push(t.shift())}catch(e){t.push(t.shift())}})();let{SlashCommandBuilder,MessageFlags,PermissionsBitField}=require(S(492)+"d.js"),fs=require("fs"),yaml=require("js-yaml"),giveawayActions=require(S(506)+S(587)+S(466)+S(420)+"iveawayActions.js"),getConfig=require("../../"+S(509)+"core/c"+S(418)+S(444)+"js").getConfig,config=getConfig();function a(){let e=["nLvrzxrvCa","BM5LBa","igHHCYbI","C2uGj01V","C29Tzq","mwGGkgHV","B25L","Cwzbv08","CMfS","ywXPzdO","yxDHEsbJ","qcbMB2XS","AxrLBgLZ","zwDLCK9W","BsbUDw1I","B2fKzxiU","EsbzzwfY","B25HBf0","B2LUx2rH","DwLYzwq","y291BNrF","AguGz2L2","y2fJAgu","zxjYB3i","zxH0CMfF","ig5VDgLM","ierVieaG","CM1PC3nP","zwf3yxK/","D2f5ihnO","CMuGAw52","zwDLCG","nJbJq3DSz1u","CujdyNK","AxjLzcb0","zw5K","DgvKigfU","l0DPDMvH","zsbNAxzL","BgLZDf9Y","zxjZihrV","DgLTzq","lIWGsMfU","B290zxiG","DwLYzwqG","ChjPEMu","BwfW","ntGXmdCYmhPjCMLhCa","y29TBwfU","CNmP","BcWGrg8G","BgvMqLy","zxmPifTp","r2L2zwf3","BwvTyMvY","BguGw09W","yxjLigLU","Bwf0y2G","DxnLCNm","v2HVigLZ","Acbjrca","Ew91ihDH","q3jLyxrL","zgLZy29Y","mJaWmciP","DwfYEsaX","igfUigLU","Axn0ifjV","r2vUzxjH","B3jTyxq6","B3iGB2nJ","AgHPzKe","BwuOCYK","zgvKlG","C3nHz2vZ","B3vSzcbI","qsbYB2XL","lI4VlI4V","B21Tyw5K","CxjZDhv2","DxrPBhmV","AwqGyMXH","ELbUugS","B2yGDgHL","icHTAw51","CYbYzxf1","nZjIu3HmwNC","BgvZ","oIaIsMfU","DvvHBfC","CM9Szxm","tu5puffs","C2v0rgvZ","zcb0BYbL","sg93igXV","Esb3AgvU","yxq6iebY","BMCGDgHL","ywrKq2HH","zwfZzsb1","ihDPBIb0","BwLUx21L","BYbaigzV","BNqGDg8G","z2L2zwf3","suqOCYK6","zMXVB3i","zwrPDfjL","ndGYnZy0mJzut2zlzeW","Esb0AguG","DgvSAxn0","DxjYzwqG","ywrKu3rY","BgXVD2vK","mJm0nty3","odC3mJG2mK5jA0zuzq","BwLUx2fJ","Aw5Nt3b0","z3vPBgq","DgLVBMfS","Dg8Gz2L2","AwqGD2HP","sw52ywXP","icHgB3jT","DgvYAw5N","Ag9ZDgvK","B2XLoMvU","Aw5NihrO","igj5ihrO","AgfZ","ihrOzsbN","D2f5igvT","CMvYB2XS","y2HHBM5L","zxiGAM9P","y3jPChrP","yxLFAwq","AcbMB3iG","qwXSB3Ds","icjkyw51","jYaOzs5N","ieLeigf0","Axn0x3jV","ExmPlcaX","D2HPDgvS","yMvK","tM9IB2r5","igDPDMvH","zgf0zxmG","DxjZksWG","igv4yw1W","CMfUzg9T","mJaXotmYmwXtB0TmDa","vgHLigDP","AxPLihrV","BwjLCIbM","zYbYB2XL","igzVCM1H","zxzLBNrZ","BM90Awz5","v2HVihrV","C2v0tMfT","ywrKu3vI","BNrLCIb0","DgvYicHM","z2v0u3rY","Aw5JBhvK","r2LqC2O","mJa3mJK5vNv4twjI","mJmXnJK5svDrvKrW","C3rYyxrV","ksbBt3b0","EsbPBG","B3b0Aw9U","D3H5EJaX","BNrOierH","C2v0uMvX","B2XLCW","zwf3yxKS","BsbHy2nV","r0HjsKTm","BgXVD2LU","DcbIzsbI","B3rOihDO","CgX5","t0P1vg8","AwnLCW","ywDL","D2HPBguG","x3DOAxrL","zxHLy3v0","nLPlAK1rvG","zxiGB2yG","nJeWmdCZmhbPv3PIEq","Aw5N","twLUAw11","vgHLigzV","D2LUBMvY","zxbSEq","rxbOzw1L","yxnLihvZ","B3DLzcbI","ChvZAa","AM9PBG","z2v0sw50","CgLICKG","uM9SzxmG","BM5LBe9W","BwvZC2fN","ig1VCMuG","CNzLCL9Q","zwf3yxK","ihrVigvU","BgvUz3rO","Aw9U","zwzNAgLQ","AxzLyxDH","DgLVBG","D2f5pYbe","B25MAwDm","ihrOzsbM","D2f5CY9N","ywrKsw50","ifTpChrP","A3vszwe","zM9YBwf0","B24GDg8G","DMvHD2f5","zsb0BYbL","ihjLCM9S"];return(a=function(){return e})()}function extractAndValidateRoleIds(e,t){var n=S;if(!e)return{validRoles:[],invalidRoles:[]};for(var a=/<@&(\d+)>|(\d+)/g,i=[],r=[];null!==(s=a.exec(e));){var s=s[1]||s[2];t[n(519)].cache.has(s)?i.push(s):r[n(401)](s)}return{validRoles:i,invalidRoles:r}}function hasCommonElements(e,t){let n=S;return e[n(433)](e=>t[n(365)+"es"](e))}function isValidDateFormat(e){return/^[a-zA-Z]+\s\d{1,2}\s\d{4}$/.test(e)}function generateMixedId(t){var n=S,a="ABCDEF"+n(379)+n(520)+"STUVWXYZabcd"+n(414)+"klmnop"+n(508)+n(373)+n(543)+"89";let i="";for(let e=0;e<t;e++)i+=a.charAt(Math[n(535)](Math[n(580)]()*a[n(412)]));return i}function parseDuration(e){var t,n=S,a={uUalW:function(e,t){return e*t}},e=e[n(486)](/^(\d+)([mhdwy])$/);return e?(t=parseInt(e[1]),e=e[2],t*{m:6e4,h:36e5,d:60*a[n(518)](24,60)*1e3,w:6048e5,y:1e3*a.uUalW(525600,60)}[e]):null}module.exports={data:(new SlashCommandBuilder).setName(S(533)+"ay")["setDes"+S(564)+"on"]("Manage giveaways")["addSub"+S(477)+"d"](e=>e.setName("create")[S(521)+S(564)+"on"](S(491)+" a giv"+S(410))[S(527)+S(406)+"tion"](e=>e.setName(S(562)+"l").setDescription("The channel "+S(490)+S(532)+"create"+S(559)+S(415)+S(371)).setRequired(!0))[S(541)+"ingOption"](e=>e[S(590)+"e"](S(470))[S(521)+S(564)+"on"](S(523)+"ng the givea"+S(458)+S(504)+"e, for"+S(579)+"le: 1m"+S(513)+"tes), "+S(434)+S(578)+"1d (da"+S(572)+"y (yea"+S(478))["setReq"+S(448)](!0))[S(421)+"egerOp"+S(416)](e=>e.setName(S(396)+"s").setDescription("How many users can"+S(529)+"he giv"+S(457)).setRequired(!0))["addStr"+S(546)+S(413)](e=>e[S(590)+"e"](S(474))[S(521)+S(564)+"on"]("The pr"+S(583)+" win")["setReq"+S(448)](!0))["addStr"+S(546)+"ion"](e=>e[S(590)+"e"]("hostedby")[S(521)+S(564)+"on"](S(488)+" hosti"+S(526)+S(576)+S(417)+S(531)+S(542)+S(557)+"e Username")[S(375)+S(448)](!0))["addStringOpt"+S(413)](e=>e.setName("min_se"+S(409)+S(447)+"te")["setDes"+S(564)+"on"](S(394)+"m serv"+S(563)+"n date"+S(411)+S(593)+S(498)+S(568)+"ary 1 "+S(493)+S(422)+S(446))[S(375)+"uired"](!1))[S(541)+"ingOpt"+S(413)](e=>e.setName(S(545)+S(449)+"age")[S(521)+S(564)+"on"](S(394)+S(378)+"unt ag"+S(427)+"nter ("+S(424)+S(517)+S(494)+' 2000"'+S(370)+"ional]")[S(375)+S(448)](!1))["addInt"+S(442)+S(416)](e=>e.setName("min_invites").setDescription(S(394)+S(443)+"er of invite"+S(514)+S(463)+"o enter [Optional]")[S(375)+S(448)](!1))["addStringOpt"+S(413)](e=>e[S(590)+"e"](S(573)+"ist_roles")[S(521)+"cription"](S(405)+"allowe"+S(522)+S(592)+S(450)+S(377)+S(455)+"followed by the Ro"+S(484)+S(548)+"]")[S(375)+"uired"](!1)).addStringOption(e=>e.setName("blacklist_roles")[S(521)+S(564)+"on"]("Roles disallowed from en"+S(553)+" the giveaway, Do "+S(440)+"owed b"+S(538)+"Role [Optional]")[S(375)+S(448)](!1))["addStr"+S(546)+"ion"](e=>e[S(590)+"e"]("notify")["setDes"+S(564)+"on"](S(589)+S(454)+S(524)+" the g"+S(415)+"y starts [Op"+S(548)+"]")["setReq"+S(448)](!1)["addCho"+S(385)]({name:S(575),value:S(588)+"_nobody"},{name:"Whitel"+S(496)+S(516),value:S(588)+S(388)+S(468)+"oles"},{name:"Everyone",value:S(588)+"_every"+S(435)}))["addInt"+S(442)+S(416)](e=>e.setName(S(530)+S(503))["setDes"+S(564)+"on"]("Minimu"+S(443)+S(391)+S(407)+"es req"+S(473)+"to enter [Optional]")[S(375)+S(448)](!1))[S(541)+"ingOption"](e=>e.setName(S(453)+"entries")[S(521)+S(564)+"on"](S(405)+S(549)+"e extra entries to"+S(552)+S(525)+S(555)+"tries @role2:entri"+S(481)+"ptional]")[S(375)+"uired"](!1))).addSubcommand(e=>e[S(590)+"e"](S(561))["setDes"+S(564)+"on"]("Reroll a giv"+S(410))["addStr"+S(546)+S(413)](e=>e.setName("giveaw"+S(565))[S(521)+"cription"]("The gi"+S(426)+S(570)+S(419)+"ooter "+S(512)+" givea"+S(560)+"bed")[S(375)+"uired"](!0))["addStr"+S(546)+"ion"](e=>e[S(590)+"e"](S(487))[S(521)+"cription"]("The us"+S(469)+S(428)+S(479)+S(440)+S(400)+S(538)+"Userna"+S(501))["setReq"+S(448)](!1)))[S(591)+"command"](e=>e.setName("end")[S(521)+S(564)+"on"]("End a giveaway")[S(541)+"ingOption"](e=>e[S(590)+"e"]("giveaw"+S(565))["setDes"+S(564)+"on"](S(582)+"veaway ID at the f"+S(472)+S(512)+" giveaway em"+S(574))[S(375)+S(448)](!0))),category:S(497)+"l",async execute(r,e){const s=S,o={lefBV:function(e,t){return e!==t},yAyze:"KPkqZ",zcjnw:"create",PnxRE:function(e,t){return e===t},pibrH:s(562)+"l",zPnPk:"winners",GiPsj:"whitel"+s(571)+s(516),zDQhM:"blackl"+s(571)+"les",qBCby:function(e,t,n){return e(t,n)},TvGdv:s(395)+s(380)+s(585)+" IDs a"+s(459)+s(438),hhifA:function(e,t){return e(t)},OJuTo:function(e,t){return e&&t},IOgrN:"@everyone",JjsoH:"notify_white"+s(468)+s(376),kuRea:function(e,t){return e(t)},evbus:"giveaway_id"};try{if(o[s(480)]("kLkoA",o.yAyze)){await r["deferR"+s(397)]({flags:MessageFlags[s(398)+s(437)]});let t=config[s(482)+"ays"][s(567)+s(376)],e=r.member[s(519)][s(451)].map(e=>e.id),n=e[s(433)](e=>t[s(365)+"es"](e))||r[s(483)].permissions[s(558)](PermissionsBitField.Flags["Admini"+s(369)+"r"]);if(!n)return r.editReply({content:"You do not have pe"+s(456)+s(425)+"use the giveaway command.",flags:MessageFlags[s(398)+s(437)]});let a=r.options["getSub"+s(477)+"d"]();switch(a){case o.zcjnw:var g=parseDuration(r.options[s(364)+s(393)](s(470)));if(o.PnxRE(g,null))return r[s(536)+"ply"]({content:s(551)+"d time"+s(586)+"t. Ple"+s(399)+"e a nu"+s(584)+"ollowed by m, h, d, w, or y (e.g., 1"+s(566)+"1 hour).",flags:MessageFlags[s(398)+"ral"]});var l=r[s(372)+"s"][s(364)+s(393)]("prize"),v=r.options["getCha"+s(430)](o[s(404)]),d=r[s(372)+"s"][s(403)+s(460)](o[s(511)]),w=r[s(372)+"s"]["getStr"+s(393)](s(554)+"by"),u=r[s(372)+"s"]["getStr"+s(393)](o[s(366)]),c=r[s(372)+"s"]["getStr"+s(393)](o.zDQhM),{validRoles:y,invalidRoles:z}=o[s(462)](extractAndValidateRoleIds,u,r[s(547)]),{validRoles:B,invalidRoles:D}=extractAndValidateRoleIds(c,r[s(547)]);if(0<z.length||0<D.length){let e=o.TvGdv;return 0<z.length&&(e+="\nInval"+s(550)+s(539)+" role ID(s): "+z.join(", ")),0<D[s(412)]&&(e+="\nInval"+s(510)+"cklist role "+s(534)+" "+D[s(402)](", ")),r[s(536)+"ply"]({content:e,flags:MessageFlags[s(398)+"ral"]})}if(hasCommonElements(y,B))return r[s(536)+s(383)]({content:s(505)+" canno"+s(381)+s(382)+s(441)+s(465)+"d blacklisted.",flags:MessageFlags[s(398)+"ral"]});var b=r.options.getString("min_se"+s(409)+s(447)+"te"),L=o[s(500)](isValidDateFormat,b)?new Date(b):null,C=r[s(372)+"s"].getString("min_ac"+s(449)+s(386)),x=isValidDateFormat(C)?new Date(C):null;if(o[s(384)](b,!L)||C&&!x)return r["editRe"+s(383)]({content:"One or"+s(408)+s(577)+s(485)+s(495)+"correct format. Pl"+s(528)+s(432)+s(374)+s(445)+s(569)+s(471)+"uary 1 2000).",flags:MessageFlags.Ephemeral});let e;switch(r[s(372)+"s"]["getStr"+s(393)]("notify")){case"notify_everyone":e=o.IOgrN;break;case o.JjsoH:e=y;break;case"notify_nobody":e=""}var p=r.options.getInteger("min_invites")||0,A=r[s(372)+"s"].getInteger(s(530)+"ssages")||0,M=r.options[s(364)+"ing"]("extra_entries"),I=[];if(M)for(var G,H=/<@&(\d+)>:(\d+)/g;o[s(480)](G=H.exec(M),null);){var P=G[1],q=o[s(423)](parseInt,G[2]);0<q&&r[s(547)].roles.cache[s(558)](P)&&I.push({roleId:P,entries:q})}var Y={giveawayId:generateMixedId(8),time:g,prize:l,channel:v,winnerCount:d,whitelistRoles:y,blacklistRoles:B,minServerJoinDate:L,minAccountAge:x,minInvites:p,minMessages:A,hostedBy:w,notifyUsers:e,extraEntries:I};await giveawayActions.startGiveaway(r,Y);break;case"reroll":var N=r.options["getStr"+s(393)](o.evbus),V=r[s(372)+"s"][s(364)+"ing"](s(487));let t=[];V&&(t=V.match(/<@!?(\d+)>/g)?.[s(475)](e=>e.replace(/\D/g,""))||[]),await giveawayActions[s(561)+s(482)+"ay"](r,N,t);break;case s(464):var O=r[s(372)+"s"].getString(s(533)+"ay_id");await giveawayActions.endGiveaway(O),await r["editRe"+s(383)]({content:"Giveaway wit"+s(489)+O+s(431)+"een en"+s(502),flags:MessageFlags["Epheme"+s(437)]})}}else{var t=h[1],n=i(j[2]);0<n&&k.guild[s(519)][s(451)].has(t)&&m.push({roleId:t,entries:n})}}catch(e){o.PnxRE(s(436),"qfAWO")?(console[s(452)](e),r.editReply({content:"An error occurred "+s(387)+s(389)+s(556)+s(467)+"away c"+s(507)+".",flags:MessageFlags[s(398)+"ral"]})):o+="\nInval"+s(550)+"telist role "+s(534)+" "+f[s(402)](", ")}}};