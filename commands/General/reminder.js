let y=b;function a(){let e=["ANnUCwC","ndmWntq1nwn0yMntwG","DhjPBq","y3jLyxrL","mtvNu0PzweK","CMfS","ywn0AxzL","nZi0mtjLtgHODMq","zxzLBNrZ","q29SB3i","y2fJAgu","B2fKzxiU","twvZC2fN","DxnLCG","E3rPBwv9","C2f2zq","sw1Hz2u","rgvZy3jP","suP4ugu","BxnOuhG","zw1PBMrL","u2v0igeG","ywLS","vgHLihvZ","ywrKu3vI","C2v0rgvZ","vgH1BwjU","Aw5PBMC","z2vqvhu","BsbYzw1H","BMqGEw91","BwvTyMvY","ChrPB24","C2LVBNm","C2v0uMvX","Aw5Nt3b0","Aw52ywXP","AhH5CK4","ywrKu3rY","E3vZzxj9","mZG0ntKYt25UCxj2","BwjUywLS","BM9FCMvT","rxbOzw1L","z2v0u3rY","C2v0rM9V","zc5QCW","C29Tzq","mZeWnZiYmhHIs3L0CG","zgvYCY4","AgfZ","z2v0vxnL","C2v0tMfT","lIaI","mJq1mZiWmgHLC3rnra","AxnbCNjH","zMXVB3i","ouLXq1vAuq","ihjLBwLU","DgvZDa","Bwf0y2G","Aw9UCW","vgL0Bgu","C3rYyxrV","Ag9Y","rM9VDgvY","ww91igHH","C2v0qxv0","zw5Pzwq","AM9PBG","BwfW","DgLTzq","lI4VlI4V","BwLUzgvY","tgvks2G","zgvYCW","CMvWBhK","nZKXmdmYB25dDhfo","rw1IzwrZ","ywrKvxnL","CMvWBgfJ","swnVBG","ww91CIbb","EezVELK","y3jPChrP","uMvTAw5K","CMXZyNG","r2vUzxjH","vgv4Da","iIWGiJjK","B3b0Aw9U","mJa0nJG3nMjQuLDQDq","qxv0Ag9Y","wNPfwLm","mJDIEMXbqKy","v2HLBIb0","DwLYzwq","zMLUza","DgL2zsbY","zgvYCY9Y","BYbYzw1P","qwrTAw5P","BwvZC2fN"];return(a=function(){return e})()}(()=>{for(var e=b,r=a();;)try{if(356755==+parseInt(e(215))+parseInt(e(285))/2*(-parseInt(e(269))/3)+parseInt(e(252))/4*(-parseInt(e(282))/5)+-parseInt(e(266))/6+parseInt(e(279))/7+-parseInt(e(229))/8*(-parseInt(e(232))/9)+parseInt(e(223))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}})();let{SlashCommandBuilder,EmbedBuilder,PermissionsBitField,MessageFlags}=require("discor"+y(221)),Reminder=require("../../models/reminder"),{getConfig,getLang,getCommands,replacePlaceholders}=require(y(247)+"utils/core/configL"+y(289)+"js"),scheduleNextReminder=require(y(247)+y(286)+"/Remin"+y(274)+y(298)+"rScheduler.js").scheduleNextReminder,config=getConfig(),lang=getLang();function b(s,e){let i=a();return(b=function(e,r){e-=214;let t=i[e];void 0===b.cFbsAH&&(b.OLIcNp=function(s){let i="",t="";for(let e=0,r,t,n=0;t=s.charAt(n++);~t&&(r=e%4?64*r+t:t,e++%4)&&(i+=String.fromCharCode(255&r>>(-2*e&6))))t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(t);for(let e=0,r=i.length;e<r;e++)t+="%"+("00"+i.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(t)},s=arguments,b.cFbsAH=!0);var e=e+i[0],n=s[e];return n?t=n:(t=b.OLIcNp(t),s[e]=t),t})(s,e)}function setEmbedProperties(r,t){let n=y,s={mshPx:function(e,r){return e===r},xFozY:n(268),gePTu:function(e,r){return e(r)}};if(t.Color&&r.setColor(hexToDecimal(t[n(287)])),t[n(237)]&&r.setTitle(replacePlaceholders(t[n(237)])),t[n(295)+"ption"]&&(Array[n(230)+"y"](t["Descri"+n(310)])?s[n(297)](s[n(258)],"FEExQ")?g[n(295)+n(310)]=h[n(295)+"ption"].map(e=>e[n(255)+"e"](n(214),k.tag)[n(255)+"e"](n(292),l)):r["setDes"+n(259)+"on"](t[n(295)+n(310)][n(244)]("\n")):r["setDes"+n(259)+"on"](t[n(295)+n(310)])),t.Footer?.[n(263)]){let e=s[n(306)](replacePlaceholders,t.Footer.Text);t[n(240)].Icon&&""!==t.Footer[n(256)][n(280)]()?r.setFooter({text:e,iconURL:t.Footer[n(256)]}):r[n(220)+"ter"]({text:e})}return t[n(267)]?.Text&&(!t.Author.Icon||s[n(297)](t.Author.Icon.trim(),"")?r.setAuthor({name:t[n(267)].Text}):r["setAut"+n(239)]({name:t[n(267)].Text,iconURL:t[n(267)][n(256)]})),t.Image&&""!==t[n(294)][n(280)]()&&r.setImage(t.Image),t[n(304)+n(300)]&&""!==t["Thumbn"+n(300)].trim()&&r["setThu"+n(216)](t[n(304)+"ail"]),r}function parseTimeToMs(e){var r=y,t={jsnqg:function(e,r){return e*r},TaPcs:function(e,r){return e*r},Wihbq:function(e,r){return e*r}},e=e[r(235)](/(\d+)([hmd])/);if(!e)return null;var n=parseInt(e[1],10);switch(e[2]){case"h":return t[r(278)](60*n*60,1e3);case"m":return 60*n*1e3;case"d":return 1e3*t.TaPcs(60*t.Wihbq(n,24),60);default:return null}}function hexToDecimal(e){var r=y;return parseInt(e[r(255)+"e"]("#",""),16)}module.exports={data:(new SlashCommandBuilder).setName("reminder")["setDes"+y(259)+"on"]("Manage"+y(233)+y(250))[y(302)+"command"](e=>e[y(227)+"e"](y(281))[y(303)+"cription"](y(299)+"new re"+y(248))["addStr"+y(313)+"ion"](e=>e.setName("message").setDescription("The reminder message")[y(312)+y(271)](!0))[y(316)+"ingOption"](e=>e[y(227)+"e"]("time")[y(303)+"cription"](y(270)+y(275)+y(308)+' (e.g., "10m", "1h'+y(264)+'")')[y(312)+"uired"](!0))[y(254)+"rOption"](e=>e[y(227)+"e"](y(291)).setDescription(y(301)+"er to remind")["setReq"+y(271)](!1))).addSubcommand(e=>e[y(227)+"e"]("list")["setDes"+y(259)+"on"]("List your ac"+y(273)+y(298)+"rs")),category:y(262)+"l",async execute(n){let i=y,a={rlsbx:function(e,r){return e/r},tKBJg:function(e,r){return e*r},IJxPe:i(241)+"ve no "+i(284)+" remin"+i(224),AuzUO:i(246),hxyrN:function(e){return e()}},e=n.options.getSubcommand();if("list"===e){if(i(249)===i(249))return 0===(m=await Reminder[i(272)]({userId:n[i(291)].id,sent:!1}).sort({reminderTime:1})).length?(setEmbedProperties(l=new EmbedBuilder,{Color:lang[i(260)+"er"].Embeds.List[i(287)],Description:lang.Reminder.Messages[i(217)+"inders"]||a[i(296)]}),void await n[i(251)]({embeds:[l],flags:MessageFlags.Ephemeral})):(l=m[i(245)]((e,r)=>{var t=i,n=e.reminderTime-Date.now(),s=Math[t(231)](a[t(261)](n,60*a.tKBJg(1e3,60))),n=Math.floor(n%36e5/6e4);return r+1+t(228)+e.message+'" - '+s+"h "+n+(t(307)+t(305))})[i(244)]("\n"),setEmbedProperties(m=new EmbedBuilder,{Color:lang[i(260)+"er"].Embeds.List[i(287)],Title:lang[i(260)+"er"][i(253)].List[i(237)]||i(257)+"ctive Reminders",Description:l,Footer:lang[i(260)+"er"][i(253)].List[i(240)]}),void await n[i(251)]({embeds:[m],flags:MessageFlags[i(218)+i(283)]}));e[i(242)+"hor"]({name:t.Author[i(263)]})}let t=n[i(265)+"s"].getString(i(277)+"e"),s=n[i(265)+"s"][i(219)+"ing"](a.AuzUO),o=parseTimeToMs(s);if(/@everyone|@here|<@&\d+>/[i(234)](t))await n[i(251)]({content:lang[i(260)+"er"].Messages[i(314)+"d_ment"+i(236)],flags:MessageFlags[i(218)+i(283)]});else if(o){let e=n.options[i(226)+"r"]("user"),r=e||n[i(291)];if(e&&e.id!==n.user.id){let r=await n.guild[i(309)+"s"].fetch(n.user.id),e=config.ModerationRoles.reminder[i(222)](e=>r.roles[i(288)][i(225)](e)),t=r["permis"+i(311)].has(PermissionsBitField.Flags[i(276)+i(238)+"r"]);if(!e&&!t)return void await n.reply({content:lang.Reminder[i(290)+"es"]["permission_d"+i(243)],flags:MessageFlags[i(218)+i(283)]})}var l=new Date(Date.now()+o),m=(await new Reminder({userId:r.id,channelId:n.channelId,message:t,reminderTime:l,sent:!1})[i(293)](),a[i(315)](scheduleNextReminder),lang[i(260)+"er"][i(253)].Reminder),l=(m.Description&&(m[i(295)+"ption"]=m[i(295)+"ption"].map(e=>e[i(255)+"e"](i(214),r.tag)[i(255)+"e"](i(292),s))),new EmbedBuilder);setEmbedProperties(l,m),await n[i(251)]({embeds:[l],flags:MessageFlags[i(218)+"ral"]})}else await n.reply({content:lang.Reminder.Messages[i(314)+"d_format"],flags:MessageFlags.Ephemeral})}};