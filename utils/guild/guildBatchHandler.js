function b(r,e){let s=a();return(b=function(e,t){e-=360;let i=s[e];void 0===b.nWtVYV&&(b.EFTizY=function(a){let r="",i="";for(let e=0,t,i,n=0;i=a.charAt(n++);~i&&(t=e%4?64*t+i:i,e++%4)&&(r+=String.fromCharCode(255&t>>(-2*e&6))))i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let e=0,t=r.length;e<t;e++)i+="%"+("00"+r.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(i)},r=arguments,b.nWtVYV=!0);var e=e+s[0],n=r[e];return n?i=n:(i=b.EFTizY(i),r[e]=i),i})(r,e)}let A=b,EmbedBuilder=((()=>{for(var e=b,t=a();;)try{if(257024==-parseInt(e(379))+-parseInt(e(383))/2*(parseInt(e(363))/3)+parseInt(e(375))/4*(parseInt(e(364))/5)+parseInt(e(421))/6*(-parseInt(e(382))/7)+parseInt(e(367))/8*(parseInt(e(361))/9)+-parseInt(e(397))/10*(-parseInt(e(394))/11)+parseInt(e(373))/12*(parseInt(e(412))/13))break;t.push(t.shift())}catch(e){t.push(t.shift())}})(),require("discor"+A(392))).EmbedBuilder,GuildData=require("../../models/guildDataSchema"),getConfig=require("../cor"+A(376)+A(384)+"er").getConfig,getLogChannel=require("../handlers/"+A(413)+"eUtils").getLogChannel,config=getConfig(),guildMessageBatch=new Map,GUILD_BATCH_SIZE=100,GUILD_BATCH_TIMEOUT=1e4,guildBatchTimeout=null;function a(){let e=["zxjYB3i","mtC3nZi0Bu9QAuX0","u2v0DgLU","DhLWzq","mZGWotq3BhLsuKv6","ndaYmdyYBwvvz0Xk","AwDmB2fK","zNjVBq","z2v0","r29QuwK","CIbVy2n1","BIbOyw5K","y2f0y2G","zxj6qxm","zc5QCW","y2f0Aw9U","mtf5EK5QD3u","B2LU","Aw5NCZO","ndaWnZa5menWEfzyta","vMvYAwzP","u2vUzevT","DgvY","rw1Izwq","Dvjczfi","q2HHBM5L","ChjVy2vZ","C2L6zq","yNvSA1DY","yMvKt25k","tuvnqKvs","shv5AMO","qw4GDw5L","u0Lhvevs","nJy4mJq0mKLNEMP6Eq","BwvZC2fN","BeLe","zgvSzxrL","y2HHBM5L","qwXStwvZ","CgHcB0S","zxnZywDL","DwLSzcbT","ndHvDuz4vw4","AgvJCfi","q0r5wMO","mtHNB3jwDNy","rgvZy3jP","nMfHrwv6wG","nun1s0Pyva","A25dAe0","BgvUz3rO","ndy4nZi4A1vjtNrk","CNjLzcbP","zw50CMLL","r0nbDKi","Chfpv0e","zcbLCNjV","mtjgtMPStwy","y29Kzq","otyXmdeYEhzYENzr","zs9JB25M","B25tzxr0"];return(a=function(){return e})()}async function processGuildMessageBatch(){var e,t=A,i={CDyZj:function(e,t){return e!==t},GojQi:t(418),GegPW:"Error "+t(404)+"sing g"+t(420)+t(419)+" batch:"};if(0!==guildMessageBatch.size)try{i[t(360)]("phBoK",i[t(387)])?(f(g),h=null):(0<(e=Array[t(385)](guildMessageBatch[t(369)+"s"]()).map(([e,t])=>({updateOne:{filter:{guildID:e},update:{$inc:{totalMessages:t}},upsert:!0}})))[t(366)]&&await GuildData[t(406)+"ite"](e,{ordered:!1}),guildMessageBatch.clear(),guildBatchTimeout=null)}catch(e){console[t(378)](i.GegPW,e),guildMessageBatch.clear(),guildBatchTimeout=null}}function scheduleGuildBatchProcess(){guildBatchTimeout=guildBatchTimeout||setTimeout(processGuildMessageBatch,GUILD_BATCH_TIMEOUT)}async function addMessageToGuildBatch(e){var t=A,i={eOlPg:function(e,t){return e+t},knChM:function(e){return e()}},n=guildMessageBatch[t(386)](e)||0;guildMessageBatch.set(e,i.eOlPg(n,1)),guildMessageBatch[t(405)]>=GUILD_BATCH_SIZE?(guildBatchTimeout&&(clearTimeout(guildBatchTimeout),guildBatchTimeout=null),await processGuildMessageBatch()):i[t(365)](scheduleGuildBatchProcess)}function handleVerificationSettings(i){let n=A,a={sXBVY:function(e,t){return e!==t},OaIvk:function(e,t){return e===t},ODaXB:n(371),erzAs:"GUILD_"+n(408)+"_JOIN",Huyjj:function(e,t,i){return e(t,i)},uRBdR:n(410)+"xpecte"+n(372)+n(388)+n(368)+n(389)+"leVerificati"+n(377)+"ings:"};try{if(a.OaIvk(a.ODaXB,n(370)))e[n(378)]("An unexpecte"+n(372)+n(388)+"rred i"+n(389)+"leVerificati"+n(377)+n(396),f);else if(config["Verification"+n(380)+"gs"].Enabled&&i&&i[n(416)+"l"]&&(config["Verifi"+n(393)+"Settings"]["Delete"+n(417)+"sages"]&&i.channel.id===config["Verifi"+n(393)+n(380)+"gs"][n(403)+n(414)]&&i[n(415)]()[n(390)](e=>{var t=n;a.sXBVY(e[t(374)],10008)&&console[t(378)]("Error deleting message:",e)}),config[n(398)+"cationSettings"][n(399)+n(407)+n(395)])&&i[n(381)]===a[n(391)]){let e=(new EmbedBuilder).setColor(config["Verifi"+n(393)+n(380)+"gs"][n(401)].Color).setTitle(config.VerificationSettings[n(401)].Title).setDescription(config[n(398)+n(393)+"Settings"].Embed[n(362)+"ption"])["setFoo"+n(400)]({text:config[n(398)+n(393)+"Settings"][n(401)].Footer}),t=i.guild?a[n(409)](getLogChannel,i.guild,config[n(398)+"cationSettings"]["Channe"+n(414)]):null;t&&t.send({embeds:[e]}).catch(console.error)}}catch(e){console.error(a[n(402)],e)}}process.on(A(411)+"M",async()=>{guildBatchTimeout&&clearTimeout(guildBatchTimeout),await processGuildMessageBatch()}),process.on("SIGINT",async()=>{const t=A,i=function(e,t){return e(t)},n=function(e){return e()};guildBatchTimeout&&("hecpR"===t(422)?clearTimeout(guildBatchTimeout):i(e,f)),await n(processGuildMessageBatch)}),module.exports={addMessageToGuildBatch:addMessageToGuildBatch,handleVerificationSettings:handleVerificationSettings,processGuildMessageBatch:processGuildMessageBatch};