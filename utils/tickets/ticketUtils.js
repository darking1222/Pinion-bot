let M=b;function b(i,e){let o=a();return(b=function(e,t){e-=476;let r=o[e];void 0===b.vqSMYp&&(b.eFnHMB=function(a){let i="",r="";for(let e=0,t,r,n=0;r=a.charAt(n++);~r&&(t=e%4?64*t+r:r,e++%4)&&(i+=String.fromCharCode(255&t>>(-2*e&6))))r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let e=0,t=i.length;e<t;e++)r+="%"+("00"+i.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(r)},i=arguments,b.vqSMYp=!0);var e=e+o[0],n=i[e];return n?r=n:(r=b.eFnHMB(r),i[e]=r),r})(i,e)}(()=>{for(var e=b,t=a();;)try{if(952832==+parseInt(e(568))*(-parseInt(e(487))/2)+-parseInt(e(566))/3+parseInt(e(481))/4+parseInt(e(565))/5*(-parseInt(e(535))/6)+parseInt(e(523))/7*(-parseInt(e(532))/8)+parseInt(e(517))/9*(parseInt(e(504))/10)+parseInt(e(519))/11)break;t.push(t.shift())}catch(e){t.push(t.shift())}})();let MessageFlags=require("discor"+M(539)).MessageFlags,{getConfig,getLang}=require(M(526)+"e/configLoader.js"),config=getConfig(),lang=getLang();function getFormattedReason(e,t=null){var r=M,n={jscgi:"âœ… Issu"+r(572)+r(560)};return t||(e?{resolved:n[r(505)],user_request:"ðŸ‘‹ User Request",inactive:r(573)+"tive",invalid:r(529)+r(485)}[e]||config["Ticket"+r(501)+"gs"][r(479)+r(575)]["Defaul"+r(567)+"n"]:config["Ticket"+r(501)+"gs"][r(479)+"easons"].DefaultReason)}function replacePlaceholders(e,t){var r,n,a=M,s={mDNtv:function(e,t){return t<e},zyxCm:function(e,t){return e!==t}};for(r in t)s[a(506)](a(486),a(486))?(n=i.indexOf(j),s[a(542)](n,k)&&(o=n,p=q)):e=e[a(574)+"e"](new RegExp("{"+r+"}","g"),t[r]);return e}function a(){let e=["yLrXvMm","A2v0ihvU","zxbSEq","y2HLy2TP","zgvMzxjs","C3rYAw5N","DgvYywn0","C3bVBMqG","u2v0DgLU","D2fYBG","swzLsg0","mZmWnJeXmgHzwg1ICW","ANnJz2K","ENL4q20","zMLUze9U","EuHYsLi","zxjHy3rP","ihrVigrL","zMTuDLC","y29UDgvU","C3m6","DgLJA2v0","CgX5","seXrwxC","ndvxzNHhzKS","CMvWBgLL","mJu5nZe0nZnnAxPYBgO","sgLNAa","CMvWBhK","rw5HyMXL","n3LVtwjitG","BgTYyui","ihrVide","lI4Vy29Y","DfbYAw9Y","Aw5JBhvK","4P2mieLUDMe","B3iGB2nJ","BNvTyMvY","mta5otq5nMnSyKnAtq","zM5zDge","lI4VlI4V","mta5mdm5mdjABwLus3C","Axr5","v1jYqLi","zw50CMLL","zc5QCW","su1HtKy","igf0DgvT","BuroDhy","rNrXt3q","qw4GzxjY","zMLUzgLU","yxrL","refOyLm","CMvZCg9U","Bw9KzwXZ","rMfPBgvK","tgv2zwXZ","DeLK","BMqG","t3LqyLC","zMfSBgLU","DxjYzwqU","B2jQzwn0","zYbIywnR","tg93","BhzLza","rxjYB3iG","zxjYB3i","ChrZ","vKLnruK","nvjUtwntCq","mJK2mdaYogvszen2CW","DfjLyxnV","mJKZDwLItKvP","BMCGzNjV","vwfxr1G","ENLzwgG","zsbszxnV","4O+WieLUywm","CMvWBgfJ","zwfZB25Z","y29TCg9U","zxqGsuqG","zw1IzwrZ","zMvYigLU","q2XVC2vs","Bwf4swq","ntm1mtm1nMHKC1HIzW","Au52D3y","zgvMzxjY","sNLgDu4","BgLK","Dxv2sKq","otK1mgj5y2LtDa","zsb0AwnR","DMfSDwvZ","zM9SBg93","EwD2tM0","Aw5KzxHp"];return(a=function(){return e})()}async function deferIfNeeded(e,t=0){var r=M,n={CjwNt:function(e,t){return e!==t},pliRz:"OyPbW"};if(!e.deferred&&!e[r(518)+"d"])try{n.CjwNt(n.pliRz,r(554))?n.content=f:await e[r(497)+r(495)]({flags:MessageFlags.Ephemeral})}catch(e){throw console[r(562)](r(550)+r(510)+r(478)+r(499)+"ion:",e),e}}async function replyOrFollowUp(e,t){var r=M,n={rvpuj:"Failed to re"+r(500)+"to int"+r(509)+"on:"};try{e[r(518)+"d"]||e.deferred?e.deferred&&!e.replied?await e.editReply({content:t}):e[r(518)+"d"]&&await e[r(490)+"Up"]({content:t,flags:MessageFlags.Ephemeral}):await e[r(521)]({content:t,flags:MessageFlags.Ephemeral})}catch(e){console.error(n.rvpuj,e)}}async function safeInteractionResponse(e,t,r=!1){var n=M,a={uTvcC:function(e,t){return e+t},OasEC:n(498),JyFuN:function(e,t){return e===t},sOEsx:function(e,t){return e&&t},yHrJR:n(503),SkzHs:n(564),FtqOt:"An err"+n(530)+n(556),zyYXh:n(548)+"se"};try{var i=typeof t===a.OasEC?t:t[n(512)+"t"],o=a.JyFuN(typeof t,n(557))&&t[n(477)]?t.embeds:void 0,s=a[n(484)](typeof t,n(557))&&t.components?t[n(576)+"ents"]:void 0,c={flags:MessageFlags.Ephemeral};i?c[n(512)+"t"]=i:a.sOEsx(!o,!s)&&(a[n(508)]!==a.SkzHs?c[n(512)+"t"]=a[n(543)]:r=a.uTvcC(a.ticketId,1)),o&&(c.embeds=o),s&&(c.components=s),e.replied||e[n(483)+"ed"]?e.deferred&&!e[n(518)+"d"]?await e["editRe"+n(515)](c):e[n(518)+"d"]&&await e.followUp(c):await e[n(521)](c)}catch(e){console.error(n(550)+" to se"+n(553)+(r?"error":a[n(571)])+" to interaction:",e)}}function parseDuration(e){var t,r=M,n={UUXaf:function(e,t){return e(t)},WRrBR:function(e,t){return e*t}},e=e.match(/^(\d+)([smhd])$/);return e?(t=n.UUXaf(parseInt,e[1]),e=e[2],t*{s:1e3,m:6e4,h:n[r(537)](3600,1e3),d:1e3*n.WRrBR(1440,60)}[e]):0}async function getUserPriority(e){const t=M,r={ipmOH:function(e,t){return e+t},WTHTm:t(559),lVgQY:function(e,t){return t<e}},n=config.Priority;if(!n[t(522)+"d"])return n["Defaul"+t(527)+"ity"];let a=[r.WTHTm,"Medium",t(520)],i=-1,o=n["Defaul"+t(527)+t(536)];for(var s of e.roles.cache[t(489)]())for(var[c,f]of Object[t(538)+"s"](n[t(551)]))f.Roles[t(528)+"es"](s.id)&&(f=a[t(492)+"f"](c),r.lVgQY(f,i))&&(i=f,o=c);return o}async function generateUniqueTicketId(){var t=M,r={bTqVc:t(550)+t(510)+"fer interaction:",UaWGX:t(544)+"or occ"+t(556),yaRry:"number",DAhbS:"$ticke"+t(552),ygvNm:function(e,t){return e(t)},iNvwv:function(e,t){return e===t},IbakP:t(561)+t(545)+"g last ticket ID, starti"+t(569)+"m 1:",hMlWl:function(e,t){return e!==t},kCUEi:t(511)},a=require(t(534)+t(549)+"/tickets");let o=1;try{let e=await a[t(507)+"e"]({ticketId:{$type:"number",$ne:null}}).sort({ticketId:-1});if(e&&"number"==typeof e.ticketId&&!isNaN(e.ticketId))o=e[t(514)+"Id"]+1;else{let e=await a["aggreg"+t(546)]([{$match:{ticketId:{$type:r.yaRry,$ne:null}}},{$group:{_id:null,maxId:{$max:r[t(547)]}}}]);if(0<e.length&&"number"==typeof e[0].maxId&&!r[t(491)](isNaN,e[0][t(480)])){if(!r[t(482)](t(540),"IMaNF"))throw s.error(r[t(493)],c),f;o=e[0][t(480)]+1}}}catch(e){t(533)!==t(533)?a.content=r[t(570)]:console.warn(r.IbakP,e)}(typeof o!==t(531)||isNaN(o)||o<1)&&(console[t(502)]("Invalid ticket ID calculated, "+t(555)+t(558)+t(525)),o=1);let s=!1,c=0,f=1e4;for(;!s&&c<f;){if(c++,1488===o){if(!r.hMlWl(t(511),r.kCUEi)){o++;continue}i=j.replace(new k("{"+l+"}","g"),m[n])}try{if(await a[t(507)+"e"]({ticketId:o})){if(t(524)===t(516))return a["Defaul"+t(527)+"ity"];o++}else s=!0}catch(e){console.error("Error "+t(496)+"ng tic"+t(494)+"iquene"+t(513),e),o++}}if(s)return o;throw new Error("Failed to generate uniqu"+t(488)+t(476)+"after "+f+(t(541)+t(563)))}module.exports={getFormattedReason:getFormattedReason,replacePlaceholders:replacePlaceholders,deferIfNeeded:deferIfNeeded,replyOrFollowUp:replyOrFollowUp,safeInteractionResponse:safeInteractionResponse,parseDuration:parseDuration,getUserPriority:getUserPriority,generateUniqueTicketId:generateUniqueTicketId};