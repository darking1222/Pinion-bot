function a(){let t=["CgLLAxq","Aez1ENP5","DhjPBq","Aw5JBhvK","Dxflv2e","CMvWBgfJ","DMfPBgfI","z0zxu2q","DgL0Bgu","v2HvvfK","BwToAeq","ufDRsfe","DK9nEK0","mtbSC1H1ywG","mtu1odKWvezhwMT2","C2nVCMu","Bg91za","B29W","mtbfsNPvD00","ugXHEwvY","CKnHC2u","yxv0Ag9Y","DhDMzMC","EvnLyxjJ","DhjHy2S","B25nuW","DhjHy2TZ","yxv0B2XV","zhvYyxrP","yxv0BW","BgvUz3rO","C29YDa","BwfW","mtq4ohnKD2HStW","Dg9mB3DL","zu9QuNm","t0PxtLq","CLnwuw4","sgj2Cwe","qxv0BY1m","vvDztxi","mZq1ndCXmM1XtvzTzW","zMXVB3i","mJG3mZqZmeXQqM9iBq","DgvZDa","CMfUzg9T","DxjS","C2XPy2u","C3bVDgLM","odeWnJi4n2XZtNzYuW","mJy1ntC5mtfvuvzlBKW","CfvgreW","qu9yDwW","mZuXnKfovK5jBW","C2vHCMnO","C3rVALy","mty2mJCZnK1dvNHezq","yND2AvK","zgLZy29Y","zMLSDgvY"];return(a=function(){return t})()}let F=b,useMainPlayer=((()=>{for(var t=b,e=a();;)try{if(964580==-parseInt(t(286))+parseInt(t(253))/2+-parseInt(t(265))/3*(-parseInt(t(245))/4)+parseInt(t(290))/5*(parseInt(t(255))/6)+parseInt(t(261))/7+-parseInt(t(268))/8+parseInt(t(262))/9*(-parseInt(t(285))/10))break;e.push(e.shift())}catch(t){e.push(e.shift())}})(),require(F(270)+"d-player")).useMainPlayer,MIN_SONG_DURATION_MS=45e3,MAX_SONG_DURATION_MS=9e5,UNWANTED_TITLE_PATTERNS=[/sound\s*effect/i,/\bsfx\b/i,/ringtone/i,/1\s*hour\s*(loop|version|mix)?/i,/10\s*hour/i,/\breaction\b/i,/\breview\b/i,/\btutorial\b/i,/\bhow\s*to\b/i];function getDurationMs(t){var e=F,r={pUFDL:function(t,e){return t*e},OJWNT:function(t,e){return t+e},soglv:function(t,e){return t+e}};return t[e(240)+e(237)]?t.durationMS:t[e(240)+"on"]?3===(t=t.duration.split(":").map(Number)).length?r.pUFDL(r[e(248)](3600*t[0],r[e(263)](t[1],60))+t[2],1e3):2===t.length?1e3*r.soglv(60*t[0],t[1]):0:0}function isUnwantedResult(t){var e,r=F,n={WhUTY:r(249)},s=(t.title||"")[r(246)+r(292)]();for(e of UNWANTED_TITLE_PATTERNS){if(n[r(281)]!==n.WhUTY)return{success:!0,result:n,type:"soundc"+r(288)};if(e.test(s))return!0}return!1}function scoreTrack(t,e){var r=F,n={twffg:function(t,e){return t(e)},vOMzM:function(t,e){return t*e},EBVZk:function(t,e){return t/e}};let s=100;var u,i=(t.title||"")[r(246)+r(292)](),a=(t[r(293)]||"")[r(246)+"rCase"](),e=e.toLowerCase()[r(274)](),o=getDurationMs(t),c=(0<o&&o<MIN_SONG_DURATION_MS?s-=50:o>MAX_SONG_DURATION_MS&&(s-=30),n[r(294)](isUnwantedResult,t)&&(s-=80),(a+" "+i)["toLowe"+r(292)]()),o=(c[r(275)+"es"](e)&&(s+=40),e.split(/[\s\-]+/)[r(271)](t=>1<t.length));let l=0;for(u of o)c.includes(u)&&l++;return 0<o[r(242)]&&(s+=n[r(284)](n.EBVZk(l,o.length),30)),s}function selectBestTrack(t,e){const r=F,n=function(t,e){return t===e};var s;return!t||n(t.length,0)?null:n(t.length,1)||0===(s=t.filter(t=>{t=getDurationMs(t);return 0===t||t>=MIN_SONG_DURATION_MS}))[r(242)]?t[0]:((t=s.map(t=>({track:t,score:scoreTrack(t,e)}))).sort((t,e)=>e.score-t[r(287)]),t[0][r(236)])}async function searchWithFuzzy(r,e){let s=F,u={LeQLv:function(t){return t()},WKdbd:"spotif"+s(295)+"h",mkNhD:function(t,e){return t===e},AnvKY:function(t,e){return t!==e},JLLHI:"UWYMr",eOjRs:function(t,e){return e<t},ScBfI:s(241)},i=u.LeQLv(useMainPlayer);if(!i)return{success:!1,error:s(291)+" not a"+s(278)+"le"};try{let t=await i.search(r,{requestedBy:e,searchEngine:u.WKdbd});if(0<t?.[s(238)]?.length){if(u[s(282)](s(264),"pDsAW")){if(!m||0===n.length)return null;if(1===o.length)return p[0];let e=q[s(271)](t=>{t=w(t);return 0===t||t>=e});if(0===e[s(242)])return w[0];let r=e[s(244)](t=>({track:t,score:e(t,r)}));return r[s(243)]((t,e)=>e.score-t[s(287)]),r[0].track}if(1<t.tracks.length){let e=selectBestTrack(t.tracks,r);if(e&&e!==t[s(238)][0]){var a;if(!u.AnvKY(u.JLLHI,s(252)))return a=[e,...t.tracks.filter(t=>t[s(258)]!==e.url)],{success:!0,result:{...t,tracks:a},type:"spotify"};if(u[s(256)](i))return!0}}return{success:!0,result:t,type:"spotify"}}return 0<(t=await i[s(266)](r,{requestedBy:e,searchEngine:"soundcloud"}))?.tracks?.[s(242)]?{success:!0,result:t,type:"soundc"+s(288)}:(t=await i[s(266)](r,{requestedBy:e}),u[s(247)](t?.[s(238)]?.length,0)?{success:!0,result:t,type:u.ScBfI}:{success:!1,suggestions:[]})}catch(t){return console.error("Error in searchWit"+s(273)+":",t),{success:!1,error:t.message}}}async function findSimilarSongsLive(e,n=5,a=new Set){const o=F,c={wUeKd:function(t,e){return t/e},uqKWa:o(260)+"y",GOVbl:function(t){return t()},bwviY:o(239)+"op",stojV:o(251)+o(289),Hbvqa:"BxHBO",xThoc:function(t,e){return t===e},pieit:function(t,e){return t(e)},ZwzTP:function(t,e){return t!==e},gFWSd:function(t,e){return e<=t},JLTnt:function(t,e){return t+e}},l=c.GOVbl(useMainPlayer);if(!l)return[];var f,g=e.author||e.artist||"",h=e[o(280)]||"",y=[g+" songs",g+" popular",""+g].filter(t=>2<t[o(274)]().length),d=[],p=new Set;for(f of y[o(259)](0,2)){try{var M,D=await l.search(f,{requestedBy:{id:c[o(269)],username:c[o(267)],bot:!0},searchEngine:"spotif"+o(295)+"h"});if(0<D?.tracks?.[o(242)]){if(c[o(250)]!==c.Hbvqa){if(1<h[o(238)][o(242)]){let e=s(t[o(238)],u);if(e&&e!==v[o(238)][0]){let t=[e,...t[o(238)].filter(t=>t[o(258)]!==e.url)];return{success:!0,result:{...z,tracks:t},type:c[o(276)]}}}return{success:!0,result:r,type:c.uqKWa}}for(var S of D[o(238)][o(259)](0,10))if(c.xThoc("MeEyE","aZNxl"))c+=30*c.wUeKd(l,g[o(242)]);else{let t=c[o(272)](getDurationMs,S);if(0<t&&t<MIN_SONG_DURATION_MS){if(o(283)===o(283))continue;{let e=i(j.tracks,h);if(e&&e!==y.tracks[0])return M=[e,...f.tracks.filter(t=>t.url!==e.url)],{success:!0,result:{...D,tracks:M},type:"spotify"}}}if(!isUnwantedResult(S)){let t=normalizeString(S.author+" "+S[o(280)]),e=normalizeString(g+" "+h);a.has(t)||p.has(t)||!c.ZwzTP(t,e)||(d.push({artist:S.author,title:S[o(280)],searchQuery:S[o(293)]+" "+S.title,url:S[o(258)],similarity:.8,source:f}),p.add(t))}}}}catch(t){continue}if(c[o(279)](d.length,2*n))break}for(let e=d[o(242)]-1;0<e;e--){let t=Math[o(254)](Math[o(257)]()*c.JLTnt(e,1));[d[e],d[t]]=[d[t],d[e]]}return d[o(259)](0,n)}function b(s,t){let u=a();return(b=function(t,e){t-=236;let r=u[t];void 0===b.vzkjkV&&(b.ldXbgQ=function(s){let u="",r="";for(let t=0,e,r,n=0;r=s.charAt(n++);~r&&(e=t%4?64*e+r:r,t++%4)&&(u+=String.fromCharCode(255&e>>(-2*t&6))))r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,e=u.length;t<e;t++)r+="%"+("00"+u.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(r)},s=arguments,b.vzkjkV=!0);var t=t+u[0],n=s[t];return n?r=n:(r=b.ldXbgQ(r),s[t]=r),r})(s,t)}function normalizeString(t){var e=F;return t?t[e(246)+e(292)]()[e(277)+"e"](/[^\w\s]/g,"")[e(277)+"e"](/\s+/g," ")[e(274)]():""}module.exports={searchWithFuzzy:searchWithFuzzy,findSimilarSongsLive:findSimilarSongsLive,normalizeString:normalizeString,getDurationMs:getDurationMs,isUnwantedResult:isUnwantedResult,scoreTrack:scoreTrack,selectBestTrack:selectBestTrack};