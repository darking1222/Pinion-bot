let Y=b;function a(){let e=["cVcFJQ8GkKzV","yLjewNK","DhjVvey","pYbzB3uG","rvHdC3u","whnAvK0","r2Plq2W","DwX0CW","u0vmrunu","t25fBMq","Aw4GCgXH","Aw9Uugf0","BhvTztOG","yxv0B1nH","iIWGy2HL","tM90AgLU","CMvWBhK","yNnhsfC","AwLxu2S","BMCGCgXH","qNj2qxi","Ae9szwu","vvDVy28","r1bvshy","DxbKyxrP","CMnOkG","C3nHz2vZ","C2v0rw1V","BgjHy2SG","iIWGzhvY","igLUigD1","lcbIDxqG","igvTChr5","mtiZnte4n0fjDM9OAa","CxvLDwu","vxPhufe","yxKGBxvZ","ru5frNy","ywDLx2LK","CgXHEwLU","BMDZoIa","zhPmrfq","ywrK","CNqGzxzL","cGRWN461icOQ","zgfS","AxnOoIa","igvYCM9Y","BYbIzsbP","CM9YoIa","ug9ZDgvK","vLb0D0i","DwuGzw5K","v3HnENK","x2v2zw50","lNDLyNa","zYb1CcbY","igzLDgnO","Aw1PDcbY","B3aGqwn0","zwqGDg8G","zgf0zq","zML4Aw5N","sgLRyuG","u3vJy2vZ","Dwv1zvnH","CNjVCIbV","CMvHzgrP","BxvZAwm6","BM9xB0i","BwvZC2fN","zwqGDg90","DhrPBMDZ","u3rVCej1","zxnZywDL","DxiGC2vH","DMvszxn0","ywWGzxjY","EwDoywi","B25Jzq","C3vNz2vZ","igrPCMvJ","lI4U","8j+uGcbtAhvM","ierLzxPL","qNv0Dg9U","DhjHy2TZ","C2f2zq","DMKV","lNbUzW","ChGGC2fU","DhrVBG","z2v0u291","zYb1Ccbn","ywjLBd0I","Dg9UigLU","BMCGzMfS","yw5Hz2vY","BJOG","Eu5zrxO","rxjYB3iG","Dw5KihnP","B3DWBgf5","vxbKyxrL","qMjos3K","C3nHz2vj","A3HwsNm","lwXVB3a6","zMLSBfrL","C2vHCMnO","AgvZ","z2v0DgLU","CYb0BYb0","x2vTChr5","C3bVBMqG","q3LPsg8","DM9Py2u","ihrOzsbI","tgLtC1i","AxzXrw4","AxnqBgf5","BgvHDMvp","BhrqCfi","EwXL","qxvmvhu","y3rPB24","iokaOIbuB3q","Bgf5zxi6","ycdIGkiG","yw5KBgLU","C2LUzYb2","ihnHBwuG","twf4uxvL","t25fBxb0","rMfPBgvK","BuzYufC","D1bSyxLP","DhDmD2i","BM93ugXH","y2fJAgu","DgH1BwjU","nwTXDunXva","AxnJB25U","uM5JsLy","vw5Oyw5K","rxjYB3jZ","BvbHDgnO","BwLU","lMPWzW","iIWGDxjS","yMnrEKi","tg9VCevU","BYbHy3rP","D0Xqy2S","rhn6DMi","vxbcDxr0","DgvK","venUAum","z3jLC3m9","Axnvv24","zgP1C3q6","C3rVCa","BMDZ","zxHzCvm","rKPNzfa","qK1Wu0q","DxnPyW","zMLSDgvY","yvziD1q","BgvUz3rO","D3jPDgvg","C2v0u3r5","yxLPBMCG","CIbZzwfY","iZbKmgqW","BMCGDg8G","EfHYDeG","tu9otM0","DgLVBNm","x2XLyxzL","zZOG","Bwf0y2G","thrPqNC","C2vSAw5L","ywXkB2LU","igfKzdOG","Aw4GDM9P","CgXHEwvY","ANzzq24","zMLUze9U","igrPC3bS","x2n1C3rV","BNrLCNzH","BwfW","C2f2zvf1","twTZzuq","Eg9bD1a","Dwv1zvnL","vfHrvgO","EwLUz0nH","AwnLq2HH","BMrSzxi6","zvn0yxrL","DMfZ","Cg9Uzw50","rw1WDhLo","Cvb4y1y","DguGCMvJ","EvLOtxC","Aw5N","yw5UzwXj","y2XLyw51","DgvTCcbM","BwTzyNO","B25nuW","zw5Kzwq","uxvLDwu","twfUEq","DgLVBNnq","DwuGzgvS","Dgf0Dxm","u0Div1a","tg9VCej1","x3nJAgvK","EM9cqLi","DxnPyY4","C29YDa","ugfNzq","yMvNAw5q","whrxr1u","ANffEg4","wfrZAwu","BM9Kzxm","Aw4GAgfU","iIbMCM9T","ANLfC1m","CcbKAxjL","B3Hosw0","wLvuExK","zsbZDgf0","teH0rwm","Dgv4DenO","lK5VuMvZ","zsbXDwv1","vgvADg0","zxDevKS","Aw4GBw9K","qNzdyw4","lI4Vy29Y","u3LUyW","u2HVD1nR","AguGCxvL","zM9SBg93","sgLNAfDH","AgfUzgXL","C2v0uMvX","zw1IzwrZ","BwuGAw5J","EuLvtLG","vgLTzxjZ","CxDPC08","DgfIBguG","vgLTzw91","Aw9U","kZeWjq","uhjLDMLV","wKfZtwq","zgrLza","zxr1CM5P","z2v0vgLT","u0TWq20","ugXHEwvY","DgLVBKnY","CIaTihrL","zxvLugfN","qKX4D3C","r2X6rgu","AYbHzNrL","C0HYuK4","y2n1CNjL","zersDhm","te5xvg4","DxnLqNv0","zw5KzwqG","ywLS","EgnJvgq","zxvLC09U","B25NB0rc","DerRsK8","quP6B0y","BwfUywDL","ywn0AxzL","BwvHC3vY","kIPB","DMHMA2m","vxLVteO","lMaGwW","B3bLBIbW","BIbHihzV","yxrLigHH","DejTCwq","zLPpuMu","twz2BwS","Bxb0Aw5N","DgfYDa","r1LwqLy","DfrYywnR","rMDRD1q","Dg90ywW","qxr0ywnO","ywXZ","B09Zyvm","DxjYzwqG","Aw4GDgHL","ywrKq29T","C1jLz2LZ","s3DhCee","8j+oPYboB3CG","y3jLyxrL","B3zPzgvK","vuTmDNK","z3vPBgq","Dg9Tswq","zsbPCYbU","rgvxA3q","B2LJzq","Dw9IBey","w05VD1bS","zYb2B2X1","ysbZB25N","C2Ttsfa","yxLPBMC","kIPoB3rO","BMvJDgvK","u2HVD1bY","zhjHD0LT","z3PnEfu","B3jLzcbX","ywrKvhjH","BMCGzxHP","yKjsCu8","CIbbueKG","zsbMB3iG","4O+T77IpifnRAxa","BIb0AguG","zvrqtge","lcb0CMLN","Dw1L","vxDQqK4","ievYCM9Y","ihnHDMu6","mti2nJeXndvKENbkue0","Bg9VCa","CgrHDgvi","yxzLl3jL","CMvWzwf0","BMf2AwDH","q3vywKC","uvzwt2e","s0r2ExC","BY1SB29W","B2LJzunO","zc5QCW","zwn0","BMDZlcbY","BNzHCW","AM9PBLzV","swHWq04","DfnswgG","AwXKia","zxmGv0Hf","mda6mda","igLUia","rg1Wr0O","yMXL","wLLiA0m","C3nHz2vF","DKj1t3u","Bgf5zxi","wxfov0e","C2f2Aw5N","C2TPChbP","ihrVihbS","Dg9bCNjH","ndaWideX","ihrPBwvZ","rM9Tvha","ignVBM5L","twvZC2fN","iZy2nG","zMLLBgrZ","Dhvcv2q","psa/iefo","B25Uzwn0","lY9PBwCU","tNbwCei","C2fgz0u","ig5VD1bS","q1b2veK","Bxb0EurL","y3rPB246","C3rVCcbW","C2v0qxv0","BJ0I","zxrLoIa","EhrdAgfU","y2uGC3rH","BMCGDgLT","DxnL","tufiCNC","AgLZDg9Y","x3bHDgnO","AKjrwK4","B3uGvxa","zdOG","pYbfCNjV","uMvZDgfY","CcbPCYbL","ANHUy3m","B2q6ia","CLn0yxj0","C2TPCa","wwHewLi","DgX5oIa","rgLZCgXH","q1DbBMe","AxnszwfK","BhvTzunV","vxnttw4","zxrHzgf0","z2v0rxzL","rg93BKj1","C3rYAw5N","CxfmDKS","y3jLyxrP","yLv1yKu","zhvYyxrP","Dgv4DefS","C3bVDgLM","ihbSyxLI","zcbXDwv1","twTdyKO","C2H1zMzS","zKXpyui","txvZAwm","v0LLCKe","BgfIzwW","y3vZDg9T","CMfJAZOG","ywrKB25m","iIWGCMf3","zxjuAw1L","C2LJ","Eg1vB1y","Dwu6ia","DwuU","zYbWBgf5","AxmGzM9Y","tgLZDgvU","tvH4tg4","sxnoq3i","Aw4Gy2XL","DMLVDxmG","BuXLyxzL","Dg9tDhjP","B20Gqvbj","r3DvANm","zgvJCMvH","igdIJ7hVUi8G","ig9Uihn0","Bwf4","EsbWBgf5","BcbHCYb0","zMXVB3i","yxv0Ag9Y","zwf0zq","Aw5Zzxj0","u2vUze1L","Aw5NigLZ","yvrPrLe","vfjbq0S","lMr1CMf0","C2v0rM9V","zgvSzxrL","zwfYy2G","BMPsCuu","tc4UlG","y2f0zsbX","A3Dey2W","yxbWBhLw","CY5qyxvZ","C3rHy2S","BMv4Da","y2XLyxi","ChbLza","rezXCKy","uMXTDNa","txD3tNu","zenVDw50","B3DqBgf5","Aw4GCgf0","zYb1CcbX","y0TeC2W","D2L0AcbL","zenqufO","rxbOzw1L","DMfS","Ehz6uha","DgHSsLm","yvHozwu","AwqGpsa/","AM9PBG","zwfUDxa","AxnqyxvZ","uwrLwfi","ign1CNjL","ChHkrLy","Bs9bzKzW","qxvqr2W","CxvLDwve","zxjZ","y3rPB24U","ihrVicOQ","ztOG","BMCGzw1W","D1bsAKK","ifvZAw5N","DcbHzNrL","B0XSsuK","ig11C2LJ","zgDyBhG","zwfUDxbm","zMvVEgG","y2nft1i","zs5JB20","ifrYywnR","DM9Py2vt","zLD2tKC","DgvYywn0","uxvLDwvZ","ywrHDge6","iZmZmW","rKzbAMC","ANnlC3e","sfjpr0m","C3PTqKu","q29UDhjV","DM9SDw1L","CgXHEq","vhjHy2S","Aw5ZDgfU","AwXHCLnV","4PYfifnVBMC","Ee9RA2m","zxvLigzV","zMv0y2G","q1jpweO","q1n0CLK","igfMDgvY","C2v0vM9S","Dgv4Da","zxzLBNrZ","rvbREvi","C3rHBMnL","u3vrEe0","q2rPA0u","ug5iq3G","x2vUzfrP","DgvKqNK","Dg9U","uMvWzwf0","y2rNBe0","DMLUzYbX","Bgf5zxjn","B25qyxrJ","DvHWAva","CgXHExbH","u3rHCNqG","ww5ttxu","DhjHy2S","Bw9Uz29V","zK9eEha","zNbxAuS","zgfSu3vI","zw1YCeW","zw5HyMXP","rKHcsfu","A3rnzuW","Cgf0y2HL","uxvLDwvo","y2XLyxjs","igf1Dg8T","C2v0uMvW","sMLMuNG","ChjLC2vY","zhvWBgLJ","Aw5Nign1","CMvWBgLL","x3bYB2nL","jsOQcLvZ","B3iGvvjm","ksbIzwXV","CMvZ","zujHC2vK","C2v0Dxbd","iff1zxvL","C2LVBNng","EsbMB3iG","tKXIAMi","CxvLDwvf","ugXHEsbn","pYbbBIbL","lI9HDxrV","zhPcqw8","DgLHBgL6","z2vZoIa","zw50CMLL","rgvMyxvS","tenszMq","yxrHigfM","ihrVia","C3bSAxq","zwfUihvW","CMvXDwvZ","ChjVy2vZ","zhHcyKe","C2v0","ywf2tu8","Dg9cDwzM","zwqGAw4G","qxfJwxu","txfYzKy","wfjWCLG","EfL2BMC","tM9Uzq","AZOG","zvrLEhq","zwz3v1y","zM9YrwfJ","zKvjuuG","BNfTCKK","Aw1LB3v0","CxDqyvC","ywDLCIbJ","yu5br2C","zeXYtgi","vwHjwMC","CMnLswnV","Bw9Uz29e","BMCGDhjH","DgvYzwq","4O+U77IpieDVAw4","zgvZDhjV","B3iGB2nJ","AwvSzhm6","q2voy3O","Aw5JCMvH","yMfZzw5H","zg93BG","n3b1lNbU","s092D0u","y29UzMLN","yxrJAgvY","wvbsquK","zw50ihzV","zM9YihLV","vM5YDuG","DhjHy2S6","igfKzcbT","y29UBMvJ","swvoCfe","CgXHEsbT","x3zVAwnL","tg9VCa","vMfSDwu","AxnuzxH0","DfPrC2C","CxvLDwuG","Ew5J","B2zM","Dw5SAw5R","DYb0BYbH","DwLSza","CIbWzxjM","D2LKDgG","C29UzY4","wvrSwgu","DxnLCM5H","lY9PlMLT","qxv0B1bH","BMqGzM9S","zwrPDfjL","igf2ywLS","BhnLDuO","Dwv1zwq","yxbWBhK","y2HrDwv1","yxvSDc5Q","zgvSzxrH","DMfSDwu","qMfZzwq","BM9Kzq","tfv2EMC","zhKGAw5P","ihn0yxrL","EwLUz0nO","zevTChr5","igD1AwXK","C3ncyxi","iezPBMfS","Dwv1zwqG","DxjYzw50","zgLZy29U","CxPjBxG","BwLKzgXL","rLfxq1K","C3rYzwfT","uxvLDwuG","zwn0zwq","EwjHy2S6","rgLKihLV","zgvIDwC","ven0Bhm","B25wB2LJ","Ahr0Chm6","BMDnzxnZ","ihjHDYbM","lsbrDwv1","zxi6ia","zxn0yw1W","tw9Kzq","z1H0B1C","y2XVC2vq","BuPVzxG","AwXLCZOG","Aw5RCW","ig1LC3nH","C2vUza","D2HPBguG","CNjVCJOG","lI4VlI4V","Dw5RBM93","B0f4txu","Bgf5","Bej1DhrV","zuf1Dg9m","DgftDhj1","Cgf0y2HP","DwvYEq","C3rYB3K","zMLSBa","Cev2zw50","ywnRCZOG","vxnLic9W","BMvK","CYbHzgq6","Dg9TihzV","y2XPzw50","zePVAw5w","zMzwBwK","Aw5KzxGU","C3vIC3rY","AguGyM90","ywDL","Cgf0y2Hr","CIbYzxn0","DgvTCa","CM91BMrs","q1beA2O","CIb2B2LJ","igzVCIbN","B2rLigrP","C2LUzYbJ","D0PiuMu","y0PfAfu","DxnLCG","zMLSBfn0","vM9SDw1L","ruPyzvq","AgvZoIa","q29UzMLN","txvZAwmG","DhKGBM93","BMfSq2XL","y2XPCa","C2v0q3vZ","qLnXwuC","z2vY","twDoD3O","q0zgz1u","tvPyBuu","sfP0sey","r0TIzfa","u29UzYbr","tM93ugXH","B3jPz2LU","zLz4zKG","AgfZ","C2HVD01V","mJu5mdKXndDiy1DjBgm","AM9sqxu","C2v0tgfI","rxjYB3i6","iZfHmweX","q2HLy2Tj","qw5Ku2vU","zgLZywjS","rgfUz2vY","ndaWideZ","ChvZAa","BM5Ly3ru","vxvlAMK","y29UDgvU","DxnPy1f1","EvnLyxjJ","v3fkA3O","C2L6zsbS","mdOWma","BhLYt2u","zevWr0O","zsb2B2LJ","zxvLCZOG","uMvTB3zL","Dwv1ztOG","s2PSCgG","uKTKwxi","ugXHEwLU","zw5KC1DP","A2v5CW","C291BMrJ","BxvZAwne","z2v0qxv0","vMHOCuO","zgf0yunS","r2TkA0y","uwDjEu0","zxjZoIa","CMrQCY92","CgvK","zca9id8G","CgfKu3rH","zwXKCZOG","DhvWignV","zxjYB3i","BNbFzw1W","BwvVDxq","sw50zxj2","Aw4GzgLZ","u0Lhsu5u","AwmU","zgvMzxjY","CgrHDgu","ywrKrMLL","Aw5Nsw50","yw5KBgvY","DeLhAK4","rfHSB3O","ywHVBwy","DgvYDMfS","DgvYigvU","v21tzgG","t0Tby0y","tuDQEgm","u3rHCNq","yMfJAW","DM9Py2uG","CMfS","CY5tDg9W","nJu4mtK0nvvuq0rLtW","B3rOAw5N","CMvZDg9Y","ifvWzgf0","mty5ntaZEfD1twrX","yxrH","Dhj1y3r1","igDLDhrP","AwXLu3LU","zw1PDfnH","ChjLDMLV","yxvKAw9u","ihrYywnR","yw5KigLZ","tKXTuu0","DMrVDwy","EwLUzW","CMvZDgfY","y2XLyw5P","Dw5KzwzP","EwLUz01L","CdOG","iZG4oa","tgvHDMvf","y2fSBa","BMPprNO","Aw5NihrY","y2S6ia","vK5jExm","yxnkq1a","zwXHEq","pYbgywLS","ywXHzvC","r1r0z20","y3vYCMvU","Dwv1zxmG","igLUChv0","igv4Axn0","y2f0y2G","igvUzcbO","B2X1Bwu6","rLzwDhy","u2HVD1bH","Dgf0zq","DgLVBG","zNL1wwG","CgX5","BxvZDcbI","Cgf0y2Hd","zgLZCgXH","vM9Py2vd","ywnRCYbP","ywDLigzV","thPoCMO","CgfSwMW","B29WigfK","B2fKzxi","Dg8TBg9V","wg1krxG","BIbWyxrJ","ywWGDg90","A2XtBfq","zM9YihrY","ANmGzMLY","C29Tzq","BwTKAxjt","sgfUzgXL","BNjqzKS","u3bSCu0","CNqGyxv0","AxfkDuC","BgfUzW","CKznB2u","Cefpwfa","BM8GDhjH","BMvJDa","ywnRCW","Bwv0ywrH","y1jXu1e","BM5LBa","zvf1zxvL","uNfJzfu","yxrHoIa","zc1WBgf5","iZfKyJK1","ywjSzs4G","qxv0B1nH","zMLUza","C2v0rgLZ","8j+uGsa","Aw5Nq2fU","txvZAwnn","CMf3","zM9VDgvY","BMCGBM93","ihrVihnL","qgrPC2nV","s0nAuKO","z2u6ia","Ce9ZDhC","zxvLigD1","DhDlDhC","DxbKyxrL","t0vXDNu","Aw5NigzV","C2LJigj1","AgfUzgXP","z2uG","zNjVBq","BM93","Bgv0zunV","BMCGBMv3","EhDlBLm","AguGy29Y","ihrVihbH","mJHivwHjA3i","uK9xBwW","wwDSr3O","sgnPzuq","Aw5JBhvK","rcbTzxnZ","yw5UzwWG","C3Pty3q","yxrO","y3rPB24G","CYbIzwXV","yxK6ign1","Aw5ezKu","BMrezwXH","DMvjBNrL","C2v0Dxbr","r3vAB2C","vg1xsuO","Ahrgy04","8j+uIIbdDxjY","B3bnyw5H","BMCGDgvT","uhjVz3jL","D1DgEKm","CMvNAxn0","DMnpD1m","ig5VDcbP","yxv0B0XV","t3zmAva","B3b0Aw9U","zvz2EeK","B3CGCgXH","DhjVBhm6","Bev2zKm","zxvLoIa","qu5eig1L","EwvYu3rH","zgf0yq","DxnuCMfJ","rMLUAxnO","C3bSAwnL","sgTIq08","BxvZAwnF","zYbMB3iG","CMfJAYbP","DMfSDwvZ","AxzL","CeDJBwi","Dwv1zsbK","Aw5NigzY","CM91A3C","lI4UiG","BfrmAxq","Bgf0zwqG","s3rSsMG","x2HHC0nS","C2XPy2u","ze1LC3nH","zcbPBIbX","y2TZigLU","BxmGka","C3vJy2vZ","C2v0Dxbq","zxj2ywW","x29YAwDP","zgvKihnV","C3nHz2u","zwrwB2LJ","sKrYEge","zYbTzxnZ","zcbLEgLZ","B0XVB3bt","BgvHDMvu","Aw5NigLU","ywDLig9U","l211C2LJ","qIbJB25U","EwLUz0LU","sLbzBwS","BKvTChr5","igvUzdOG","y2HHBM5L","ihbSyxLL","zs9SB2DN","C2v0vgL0","DK5bsLm","vgLTzq","zKHlDwG","zxvLCW","zYb1CcbW","rMHsBK0","mJCWmZu2vNrntu92","zxDdB25U","Dgv4DejH","AxnwB2LJ","B20GCxvL","z3vPBgrj","rxPOsLi","AwmGCgXH","BKvUza","Aw5MAwO","sLLjyK0","AgfUBMvS","Dgf0zvvW","y3r1CMvZ","zYbJDxjY","ihbSyxLP","q3jZCgi","l21XzgvM","ihvWy29T","pYbuAgvY","ihf1zxvL","zgvMzxjs","CNjjr2q","sw50zxjH","DxjS","CerHDgft","DxnLCNm","zxjfDMvU","BwvTyMvY","DgL0Bgu","CgXHEwXP","sM95r24","z3vPBgrZ","u2f2zvf1","ugXHEuj1","AxDczwW","C2L6zq","DwvtAxPL","sK9etw8","q3LxCvO","Aw4GBxvZ","Dg90ywXm","B2DIrMS","Dg9pyMPL","CxvLDwvF","tgvHDMvp","igHHBMrS","z2vYAw5N","Aw91CYb0","tKftvvu","CMvJB25U","DwvMELa","C3DmCwC","Aw4Gy3vZ","u2vJB25K","D1jtrMG","BcbMB3vU","EM1xsLm","Awz5","C3qU","BMfTzq","z1zktgu","Du9Tu0i","yxLPBMDD","CNvU","C2nVCMqT","Dwv1zxm6","BwL0","ndu0ode2mgngtfDMDG","DgLHs1G","qKTit0m","v1HLEMK","Evf1zxvL","BM93CgXH","4P2mievYCM8","zef0","Efbzy3K","iokaOIdWN5seiee","DKn2su4","u0Lhvevs","CYKGzM9Y","ue9tqKm","uxvLDwvf","tLnYs00","BMzPzW","zgvMzxjv","igr1CgXP","yMuGAw5P","EwLUzY5t","ihjHDY5K","tMz1wgK","zwXLDgu","C2HVD2LU","BMCGDxaG","CNzHBa","tLLWquC","t0zg","y2SGC3rV","ihjLC3rV","tg9VCcbT","zxHWB3j0","AwnLihn0","EwLUzY5o","lcbHDhrL","CLHcEuC","zcb3AgLS","CMvHC2vK","Bgz6qw0","DM13s1a","EMzRrxO","iezst00G","DgnOigrP","y0DYy3K","zvDoEfq","ihrOzsbX","sNHwCNO","BKz4wNu","zwrPDa","q2HHBM5L","CLn5BMm","Aw5KzxHp","A3m6ia","zxbSEq","Aw4GC2nO","CM9YigLU","CY1ZzxjP","ywjSzwq","Bd0I","r29UBMeG","BeLK","zM9UDa","CIbbueK","DgLVBKrL","igv2zw50","qNHRshG","wfzwvNe","yxj5","yxrLihf1","Dgu6ia","zwqGlsbY","Aw5Nihf1","nLPHrgzXDa","oIOQcG","x2LK","EMDHzwK","rgv1te8","z2v0","BMCGBwvZ","Ew91DhvI","y2HPBMC6","u2TPCej1","igfJDgLV","zKXLC0G","tfvYEvy","C3rPBMCG","zgLZy29Y","BM5Ly3q","zYb0AguG","DM9Py2vd","C3nLzfrY","AguGC2fT","AwnLignO","AxnbDxrV","z2v0q29U","BgLJyxrL","C2HPzNq","x2rPC2nV","qwrKzwqG","kIPszwfK","zs5JB20V","twn0uNy","qw5Xwhy","z28GDg8G","BgLUzvrV","t25L","s1fMuw8","BMCGCxvL","ignOzwnR","qMfY","z3vYlMnV","DwXLzfnH","igfSCMvH","ogPuy1fZvq","B2LJzunV","BMfSrgLZ","u3rHDgvv","A0XWDuy","B3jL","ig11C3qG"];return(a=function(){return e})()}(()=>{for(var e=b,t=a();;)try{if(990589==+parseInt(e(1291))*(-parseInt(e(961))/2)+-parseInt(e(759))/3*(-parseInt(e(870))/4)+parseInt(e(755))/5*(parseInt(e(1102))/6)+parseInt(e(1501))/7*(-parseInt(e(1143))/8)+-parseInt(e(1183))/9+-parseInt(e(1029))/10+parseInt(e(686))/11)break;t.push(t.shift())}catch(e){t.push(t.shift())}})();let{Client,EmbedBuilder,ActionRowBuilder,ButtonBuilder,ButtonStyle,ApplicationCommandOptionType,AttachmentBuilder,ActivityType,MessageFlags,ModalBuilder,TextInputBuilder,TextInputStyle,QueueRepeatMode}=require(Y(1116)+Y(1512)),{useMainPlayer,useQueue}=require(Y(1116)+Y(838)+"er"),Logger=require(Y(1398)+Y(953)+"er").Logger,fs=require("fs"),path=require("path"),mongoose=require(Y(467)+"se"),MusicQueue=require(Y(627)+"models"+Y(945)+Y(1366)),{createCanvas,loadImage}=require("canvas"),searchWithFuzzy=require("./fuzz"+Y(701)+"h").searchWithFuzzy,autoLoopManager=require(Y(499)+Y(560)),{isDeezerTrackUrl,getDeezerTrackInfo}=require("./deezerHelper");function getMusicLang(e,t={}){const n=Y,r="object",a=e.split(".");let i=global[n(826)]?.Music;for(var o of a){if(!i||typeof i!==r)return e;i=i[o]}return typeof i!==n(1582)?e:Object[n(503)+"s"](t).reduce((e,[t,n])=>e.replace(new RegExp("{"+t+"}","g"),n),i)}function b(i,e){let o=a();return(b=function(e,t){e-=376;let n=o[e];void 0===b.HzCdVZ&&(b.LoszRY=function(a){let i="",n="";for(let e=0,t,n,r=0;n=a.charAt(r++);~n&&(t=e%4?64*t+n:n,e++%4)&&(i+=String.fromCharCode(255&t>>(-2*e&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(let e=0,t=i.length;e<t;e++)n+="%"+("00"+i.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(n)},i=arguments,b.HzCdVZ=!0);var e=e+o[0],r=i[e];return r?n=r:(n=b.LoszRY(n),i[e]=n),n})(i,e)}let _instance=null;function ensureTempDir(){var t=Y,n={dzBAo:function(e,t){return e(t)},YxhDc:"drakobot"};try{var r=path.join(process.cwd(),t(653));return fs["exists"+t(1399)](r)||fs["mkdirS"+t(565)](r,{recursive:!0}),r}catch(e){Logger.error("Error creati"+t(891)+t(1386)+"ctory: "+e);r=n[t(500)](require,"os").tmpdir(),n=path[t(398)](r,n.YxhDc);try{if(t(1430)===t(1430))return fs.existsSync(n)||fs[t(820)+t(565)](n,{recursive:!0}),n;r[t(1119)+t(1543)+t(1413)]&&i["connec"+t(1368)+t(549)]["patchC"+t(1543)+"ion"](j["voiceC"+t(1543)+"ion"])}catch(e){return Logger.error(t(1250)+t(1584)+t(1246)+t(1178)+"temp directory: "+e),r}}}function createTempFile(e="np",t=".png"){var n=Y,r=ensureTempDir();return path[n(398)](r,e+"_"+Date[n(864)]()+t)}function cleanupTempFiles(){let c=Y,g={vdouf:"troTF",SuQxM:function(e,t){return t<e},szSct:function(e,t){return e*t}};try{if("LbJLF"===c(1095))d[c(1633)]();else{let o=ensureTempDir(),e=fs[c(1217)+c(1080)](o),s=Date.now(),u=g[c(877)](1800,1e3),l=0;e.forEach(n=>{var r=c;{let e=path[r(398)](o,n);try{if(r(1152)!==g[r(770)]){if(100<u[r(1119)+"hannelConfigs"].size){let e=this[r(644)]?new m(this[r(644)][r(993)][r(1289)].keys()):new e;for(var[a]of q[r(1119)+r(972)+"Configs"].entries())e[r(684)](a)||t[r(1119)+"hannel"+r(667)+"s"][r(1633)](a)}}else{var i=fs.statSync(e);g[r(451)](s-i.mtime[r(1419)+"e"](),u)&&(fs.unlinkSync(e),l++)}}catch(e){}}}),l}}catch(e){Logger[c(730)]("Error "+c(773)+c(1054)+c(1362)+c(621)+e)}}let tempCleanupInterval=null;class MusicManager{constructor(e){let r=Y,a={mFrPW:"xywaz",AJzoF:function(e,t){return e(t)},fpWiK:function(e,t){return e===t},xOkkc:"MusicM"+r(1247)+" already initializ"+r(1100)+r(1418)+"ng exi"+r(1115)+r(437)+"ce",FgkwT:function(e,t){return e*t},kaYhO:r(720)+r(399),twKtw:"discon"+r(1483),RBNdH:r(556)+r(1306)};if(_instance)return Logger.warn(a[r(440)]),_instance;this.client=e,this[r(548)]=global[r(548)].Music,this["player"+r(1538)+"es"]=new Map,this[r(857)+"Interv"+r(1460)]=new Map,this.activeTimers=new Map,tempCleanupInterval=tempCleanupInterval||setInterval(cleanupTempFiles,9e5),this["active"+r(1409)][r(513)]("tempCl"+r(399),tempCleanupInterval),this["cleanupInter"+r(393)]=setInterval(()=>{this[r(1361)+"pDataStructures"]()},1e3*a[r(1457)](5,60)),this[r(1441)+r(1409)][r(513)](a.kaYhO,this["cleanupInter"+r(393)]),this.autoLoopManager=autoLoopManager,global[r(717)+r(760)]?global["musicD"+r(760)]["nowPla"+r(775)+"ssages"]||(global[r(717)+"ata"][r(1288)+r(775)+"ssages"]={}):global[r(717)+"ata"]={nowPlayingMessages:{}};try{mongoose["connec"+r(799)].on(a[r(856)],()=>{var e=r;this[e(535)+e(1292)+e(605)]=!0}),mongoose["connec"+r(799)].on(a.RBNdH,()=>{var e=r;if(e(1593)===a[e(1285)])return h["exists"+e(1399)](i)||m.mkdirSync(n,{recursive:!0}),l;this.mongoDisconnected=!1}),mongoose[r(556)+r(799)].on(r(730),e=>{var t=r;a[t(469)](t(1338),t(722))?(a[t(1439)](f,g._emptyTimeout),h[t(1263)+t(1412)+"t"]=null):(Logger[t(730)]("MongoD"+t(946)+"ection"+t(1197)+": "+e),this[t(535)+"isconn"+t(605)]=!0)})}catch(e){a[r(469)](r(827),r(1387))?e[r(730)]("Error patchi"+r(866)+" conne"+r(1550)+" "+f):Logger.error(r(1250)+"settin"+r(1243)+"ongoDB event handl"+r(723)+e)}this["setupP"+r(1528)](),this["setupQ"+r(1215)+r(1226)+r(1148)](),this["_voiceStateUpdateH"+r(741)+"s"]=[],this["_patch"+r(937)+r(1352)+r(1253)+"Handlers"]=[],process.on("exit",()=>this[r(1361)+"pEventListeners"]()),process.on("SIGINT",()=>this["cleanu"+r(638)+r(1608)+r(407)]()),process.on("SIGTERM",()=>this[r(1361)+"pEventListen"+r(407)]())}async[Y(932)+Y(1528)](){let i=Y,o={bZZkB:function(e,t,n){return e(t,n)},ygNab:i(1309),bjbPM:"No player in"+i(450)+" avail"+i(840)+"Player"+i(1149)+i(1048)+"tializ"+i(516)+"index."+i(818)+"st.",FhRnM:i(1390),JoyGn:function(e,t){return e===t},wuKAr:function(e,t){return e===t},UwjBN:"hKQQx",ZymaE:i(1250)+"settin"+i(959)+i(1277)};try{if(this[i(1337)]=global[i(1337)]||useMainPlayer(),!this[i(1337)]){if("isUWn"===o[i(1228)])return Logger.error(o.bjbPM),{success:!1,error:new Error("Player"+i(896)+"nitialized")};e[i(730)]("Failed"+i(869)+"tch di"+i(1026)+i(1337)+i(1231)+i(1573)+f)}this["applyV"+i(1144)+"nnecti"+i(461)+i(1260)](),this[i(491)+"onnect"+i(1161)+"ching"]();try{let t=await MusicQueue.find({}),e={};for(var s of t)e[s.guildId]||(e[s[i(966)+"d"]]=[]),e[s.guildId][i(696)](s);let n=0;for(var[u,l]of Object.entries(e)){var c;1<l.length&&(i(1525)!==o[i(960)]?(l[i(1376)]((e,t)=>new Date(t["update"+i(1036)])-new Date(e["update"+i(1036)])),c=l[0],await MusicQueue[i(1633)+i(1367)]({guildId:u}),await MusicQueue[i(1468)](c.toObject()),n++):t.error("Error saving"+i(981)+" after"+i(1537)+i(879)+"create: "+e))}n;let r=await MusicQueue.find({}),a=0;for(var d of r){let e=!1;if(d["curren"+i(1456)]&&null===d[i(789)+"tTrack"].requestedBy&&(d.currentTrack[i(510)+i(455)]=void 0,e=!0),d.queue&&0<d.queue.length)for(var v of d.queue)o[i(992)](v[i(510)+"tedBy"],null)&&("Vyqon"!==i(822)?(v.requestedBy=void 0,e=!0):this[i(1373)+i(1141)+"ve"]=o.bZZkB(t,()=>{let n=i;this["_sched"+n(1141)+"ve"]=null,this.saveQueues(!0).catch(e=>{var t=n;r[t(730)]("Error in scheduled"+t(981)+t(1500)+" "+e)})},2e3));e&&(await MusicQueue[i(857)+"One"]({_id:d[i(1104)]},{currentTrack:d[i(789)+i(1456)],queue:d.queue}),a++)}a}catch(e){o.wuKAr(o[i(1498)],i(424))?(f[i(730)](i(1294)+"led er"+i(1085)+" playerStart event: "+g),h=!1):Logger[i(730)](i(1250)+"during queue"+i(478)+"fixing"+i(1619)+"artup: "+e)}return this.registerEvents(),this[i(885)+i(1215)+"veRestore"](),await this["restor"+i(835)+"s"](),{success:!0,player:this.player}}catch(e){return Logger.error(o.ZymaE,e),{success:!1,error:e}}}[Y(885)+"ueueSa"+Y(1226)+"ore"](){let n=Y,r={GKbdP:function(e,t){return e(t)},GuZog:function(e,t){return e(t)},wLIGz:"prev",gVJLe:function(e,t){return e===t}};try{if(global.config[n(1594)]?.SaveQueuesOnRestart){this[n(548)][n(841)+n(884)+n(1055)]&&(this["autoSa"+n(884)+"rval"]=setInterval(()=>{this[n(1344)+"eues"]()},this.config["AutoSa"+n(884)+n(1055)]||3e4));let t=async e=>{var t=n;global.isShuttingDown=!0,this[t(1163)+t(884)+t(1055)]&&(clearInterval(this["autoSa"+t(884)+t(1055)]),this[t(1163)+"veInte"+t(1055)]=null),this[t(1373)+"uledSave"]&&(r.GKbdP(clearTimeout,this._scheduledSave),this["_sched"+t(1141)+"ve"]=null),await new Promise(e=>setTimeout(e,500))};var e,a;process.once("SIGINT",async()=>{var e=n;await t(e(735))}),process.once("SIGTERM",async()=>{var e=n;await t(e(1040))}),mongoose&&mongoose["connec"+n(799)]?(this[n(535)+"isconn"+n(605)]=!mongoose[n(556)+"tion"].readyState,mongoose["connec"+n(799)].on("discon"+n(1483),()=>{var e=n;this[e(535)+e(1292)+"ected"]=!0}),mongoose[n(556)+"tion"].on("connec"+n(1306),()=>{this["mongoDisconn"+n(605)]=!1})):n(600)===n(1076)?(e=o[n(1220)+"e"].embeds[0].footer[n(447)].match(/Page (\d+)\/(\d+)/))&&(A=r[n(679)](B,e[1]),a=r[n(886)](C,e[2]),D===r.wLIGz?L=M.max(1,N-1):r[n(1022)](H,"next")&&(O=P.min(a,Q+1))):this[n(535)+n(1292)+n(605)]=!0}}catch(e){Logger.error("Error settin"+n(388)+"ueue s"+n(1504)+"store: "+e)}}async["saveQueues"](e=!1){let o=Y,r={LtiBw:function(e,t){return e/t},szmBE:function(e,t){return e%t},WwTrY:function(e,t){return e<t},YHyAb:function(e,t){return e!==t},iwPgA:"htFcN",SheiE:function(e,t){return e===t},DeuLO:"ljLEX",MkCbJ:o(1583),OlDKn:"@disco"+o(724)+"oice",nEdcu:function(e,t){return e(t)},AoeFW:function(e,t){return e===t},CnLLy:"BmCBP"};if(global[o(548)].Music?.[o(994)+"euesOn"+o(1566)+"t"]){let a=Date.now();if(!e&&this._lastSaveTime&&r.WwTrY(a-this._lastSaveTime,2e3)){if(!this._scheduledSave)if("njRqE"===o(1635))this["_sched"+o(1141)+"ve"]=setTimeout(()=>{let t=o,r={NSrKM:"KwGpA"};this[t(1373)+t(1141)+"ve"]=null,this[t(1344)+t(958)](!0)[t(793)](e=>{let n=t;n(1466)===r[n(1044)]?Logger.error("Error "+n(1084)+"eduled queue save: "+e):(this[n(1373)+n(1141)+"ve"]=null,this[n(1344)+n(958)](!0)[n(793)](e=>{var t=n;a[t(730)](t(1250)+t(1084)+"eduled"+t(981)+" save: "+e)}))})},2e3);else try{i.joinVoiceChannel(j)}catch(e){l[o(730)](o(1284)+" to reconnect afte"+o(656)+o(1389)+"e update: "+e.message)}}else{this._lastSaveTime=a,this[o(1373)+"uledSave"]&&(r.YHyAb(o(888),r.iwPgA)?r["musicD"+o(760)][o(1288)+o(775)+o(1176)]={}:(clearTimeout(this._scheduledSave),this[o(1373)+o(1141)+"ve"]=null));try{if(!r.SheiE(r[o(1106)],"ljLEX"))return 0;if(!this["mongoD"+o(1292)+o(605)]){var t,n=this[o(1337)][o(1382)][o(1289)];if(0!==n[o(997)]||e){try{let e=Array[o(863)](n.keys());for(var s of e)if(r[o(1591)]!==o(828)){let e=await MusicQueue.find({guildId:s});1<e[o(1319)]&&(e[o(1376)]((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt)),t=e[0][o(1104)],await MusicQueue["delete"+o(1367)]({guildId:s,_id:{$ne:t}}))}else this[o(1561)+o(937)+o(1352)+"Update"+o(821)+"rs"][o(525)+"h"](e=>{var t=o;this[t(644)]&&e&&this.client.off("voiceStateUp"+t(1211),e)}),this["_patchedVoic"+o(1352)+o(1253)+o(821)+"rs"]=[]}catch(e){Logger[o(730)](o(1250)+o(773)+o(1054)+o(482)+o(1098)+"eues: "+e)}let e=new Map;for(var[u,c]of n)if(!e[o(684)](u)){e.set(u,!0);try{let e=null;c.connection&&c.connection.channel?e=c["connec"+o(799)][o(951)+"l"].id:c.channel?e=c[o(951)+"l"].id:(g=require(r.OlDKn).getVoiceConnection,(f=r.nEdcu(g,u))&&(e=f["joinCo"+o(1045)]["channe"+o(1090)]));var g,f,d=c.metadata&&c.metadata["nowPla"+o(775)+o(1176)]&&0<c[o(832)+"ta"]["nowPla"+o(775)+"ssages"][o(1319)];if(!c[o(789)+"tTrack"]&&0===c[o(1236)].size&&!d){if(!r.AoeFW("PVFne",r.CnLLy)){var h=await MusicQueue[o(1339)+"e"]({guildId:u});h&&(h[o(1288)+o(775)+"ssageId"]||h[o(1288)+o(592)+"annelId"])?"fLesH"===o(1113)?await MusicQueue[o(857)+"One"]({guildId:u},{$set:{currentTrack:null,queue:[],updatedAt:new Date}}):this["cleanu"+o(986)+o(761)+o(489)]():await MusicQueue[o(1633)+"Many"]({guildId:u});continue}r(this["_sched"+o(1141)+"ve"]),this._scheduledSave=null}let t=null,n=null;c[o(832)+"ta"]&&c.metadata.nowPlayingMessages&&0<c.metadata.nowPlayingMessages.length&&(t=c.metadata.nowPlayingMessages[c.metadata[o(1288)+o(775)+"ssages"][o(1319)]-1],n=c[o(832)+"ta"].channel?.id);var v=c.currentTrack?.[o(510)+"tedBy"]?.id||void 0,w={guildId:u,nowPlayingMessageId:t,nowPlayingChannelId:n,currentTrack:c["curren"+o(1456)]&&c.isPlaying()?{title:c[o(789)+"tTrack"][o(990)],url:c[o(789)+"tTrack"].url,author:c.currentTrack[o(1624)],duration:c[o(789)+o(1456)].duration,thumbnail:c[o(789)+o(1456)][o(1290)+o(1434)],durationMS:c.currentTrack[o(1586)+"onMS"],requestedBy:v}:null,queue:c.tracks.toArray()[o(1343)](e=>({title:e[o(990)],url:e[o(985)],author:e.author,duration:e.duration,thumbnail:e.thumbnail,durationMS:e[o(1586)+"onMS"],requestedBy:e[o(510)+o(455)]?.id||void 0})),volume:c[o(588)].volume,repeatMode:c["repeat"+o(617)],voiceChannelId:e,textChannelId:c[o(832)+"ta"]?.channel?.id||null,isPaused:c[o(588)].isPaused(),updatedAt:new Date};await MusicQueue.findOne({guildId:u})?await MusicQueue["update"+o(1135)]({guildId:u},{$set:w}):await MusicQueue[o(1468)](w)}catch(e){Logger.error(o(1250)+o(1530)+" queue for guild "+u+": "+e)}}}}}catch(e){Logger[o(730)](o(1250)+o(1530)+o(981)+"s to MongoDB: "+e)}}}}async[Y(757)+"eQueues"](){let d=Y,v={biyWN:"#333",cJEhU:function(e,t){return e+t},vpVDa:function(e,t){return e-t},FpTKc:function(e,t){return e+t},CQbBX:"600 18px san"+d(1086)+"f",lfzAm:"#ffffff",swLqg:function(e,t){return e/t},Mfvmk:d(601),ccEOR:function(e,t){return e/t},dEpGJ:"ogbFk",KCZRJ:function(e,t){return e===t},UbbVf:d(531),UPPDx:d(1250)+d(773)+d(1054)+"music manager:",HvnOf:function(e,t){return e===t},NpVpB:"np_empty",aottX:function(e,t){return e*t},IsWjd:function(e,t){return t<e},qwPaW:"spotif"+d(701)+"h",GaRar:function(e,t){return e===t},YPRAI:"eSOPt",Cxmop:function(e,t){return e!==t},OEqvu:function(e,t,n){return e(t,n)},MwwNu:"iwBel",wJHRe:"mJoex",KDvyw:function(e,t){return e!==t}};try{if(global[d(548)].Music?.[d(994)+d(1436)+"Restart"]){this[d(644)][d(1576)+"y"]()||await new Promise(e=>{var t=d;this.client[t(1229)](t(644)+"Ready",e)});const C=await MusicQueue[d(842)]({});if(0===C[d(1319)]){if(d(1326)!==d(1388))return;f(g[d(942)+"imeout"]),h[d(942)+d(528)]=null}try{await this["fixDup"+d(1125)+d(426)]();let e=await MusicQueue.find({});if(e.length<C.length&&0===e[d(1319)])return}catch(e){Logger.error(d(1250)+d(1212)+d(1047)+d(1637)+d(790)+"during"+d(1059)+"re: "+e)}for(let c of await MusicQueue[d(842)]({}))try{if("zhOgl"!==d(1156)){let u=c["nowPla"+d(775)+d(1255)+"d"]&&c[d(1288)+"yingChannelId"];if(!(c.currentTrack||c[d(1184)]&&0!==c.queue[d(1319)]||u)){if("fEIQH"===d(526))continue;{let e=f(500,100),t=e.getContext("2d");t.clearRect(0,0,500,100),t.save(),t[d(663)+d(1273)]="#0d0d0d",t.beginPath(),t["roundR"+d(1513)](0,0,500,100,12),t.fill(),t[d(757)+"e"]();t[d(1237)](),t[d(663)+"yle"]="#1a1a1a",t[d(1378)+"ath"](),t.roundRect(22,22,56,56,8),t[d(637)](),t[d(757)+"e"](),t[d(1237)](),t.fillStyle=v.biyWN;var n=v[d(661)](22,28),a=(t.beginPath(),t.moveTo(v.vpVDa(50,8),n-12),t.lineTo(42,n+12),t.lineTo(60,n),t[d(619)+d(878)](),t.fill(),t[d(757)+"e"](),v.FpTKc(22,56)+16);return t[d(1237)](),t.font=v.CQbBX,t.fillStyle=v[d(1068)],t.textBaseline=d(601),t[d(1258)+"xt"](g(d(681)+"ying.N"+d(756)+"Playing"),a,v.vpVDa(v[d(1013)](100,2),8)),t[d(757)+"e"](),t[d(1237)](),t.font=d(695)+"px sans-serif",t.fillStyle=d(1539),t[d(963)+d(1333)]=v[d(1452)],t.fillText(c(d(681)+d(1049)+"tartPl"+d(1481)),a,v[d(420)](100,2)+14),t.restore(),e}}let l=await this.client.guilds.fetch(c[d(966)+"d"])[d(793)](e=>null);if(l){let i=null;if((i=!(i=c[d(1288)+d(592)+"annelId"]?await l[d(951)+"ls"].fetch(c[d(1288)+"yingCh"+d(1360)+"d"])[d(793)](e=>null):i)&&c["textCh"+d(1360)+"d"]?await l[d(951)+"ls"][d(442)](c[d(1391)+d(1360)+"d"])[d(793)](t=>{var n=d;return n(1003)===v[n(706)]?null:(e[n(730)]("No player instance"+n(579)+"able. "+n(1421)+" must be initialized in "+n(647)+"js fir"+n(1020)),{success:!1,error:new f(n(1421)+n(896)+"nitialized")})}):i)||(i=l[d(951)+"ls"][d(1289)].find(e=>e.isTextBased()&&e["permis"+d(493)+"or"](l.members.me)[d(684)](d(1627)+"ssages")))){let n=null;if(c["nowPlayingMe"+d(1255)+"d"]&&i)try{d(784)!==d(784)?(u[d(934)+"nalDis"+d(556)+"t"]=l["discon"+d(830)],i[d(599)+d(830)]=()=>{var e=d,t=!0===o.config.Music?.[e(1006)+"nEmpty"],n=v[e(852)](p.config[e(1594)]?.["LeaveO"+e(969)],!0);return t||n?q[e(934)+"nalDisconnect"]():null}):n=await i.messages[d(442)](c[d(1288)+d(775)+d(1255)+"d"])[d(793)](()=>null)}catch(e){}if(c[d(789)+"tTrack"]&&c["curren"+d(1456)].url||c[d(1184)]&&0!==c[d(1184)][d(1319)]){if(c[d(1119)+"hannelId"]){var t=await l[d(951)+"ls"][d(442)](c[d(1119)+"hannelId"])[d(793)](e=>{var t=d;return"YglGz"===t(872)?null:(l&&i.guildId&&q["voiceC"+t(972)+t(667)+"s"].set(r.guildId,s),o.originalJoinVoiceChannel(p))});if(t&&t[d(964)+d(490)]()){let a=this.player.nodes.create(l,{metadata:{channel:i,client:l[d(989)+"s"].me,guild:l,requestedBy:this[d(644)][d(662)]},volume:c[d(434)]||global.config.Music?.[d(504)+"tVolume"]||80,leaveOnEmpty:!0===global[d(548)][d(1594)]?.["LeaveO"+d(949)],leaveOnEmptyCooldown:global.config[d(1594)]?.["LeaveE"+d(1549)+d(630)]||6e4,leaveOnEnd:!0===global[d(548)][d(1594)]?.["LeaveO"+d(969)],leaveOnStop:!0===global[d(548)][d(1594)]?.[d(1006)+d(969)],leaveOnEndCooldown:global[d(548)][d(1594)]?.[d(778)+"ndDelay"]||3e5,skipOnNoStream:!0,connectionTimeout:3e4,bufferingTimeout:2e4,pauseOnEmpty:!1!==global[d(548)].Music?.AutoPause,highWaterMark:1024*v.aottX(global.config[d(1594)]?.[d(1403)+"terMark"]||1,1024)});try{await a[d(556)+"t"](t);var w=[];if(c[d(1184)]&&v.IsWjd(c[d(1184)][d(1319)],0)){for(var y of c[d(1184)])try{let t=null;if(y["reques"+d(455)])try{t=await this.client[d(987)].fetch(y[d(510)+"tedBy"])[d(793)](()=>this.client.user)}catch(e){t=this.client.user}else t=this.client[d(662)];var m=await this[d(1337)].search(y[d(985)],{requestedBy:t,searchEngine:v.qwPaW});0<m.tracks[d(1319)]&&w[d(696)](m.tracks[0])}catch(e){Logger[d(730)]("Error "+d(511)+"sing q"+d(597)+d(554)+" "+e)}0<w.length&&("WXezi"===d(1032)?a[d(1488)+"ck"](w):e[d(730)](d(1250)+"saving queue"+d(445)+d(1537)+"ction "+d(539)+"y: "+f))}if(c[d(789)+d(1456)])try{if("DmpGJ"===d(1523)){let t=null;if(c.currentTrack[d(510)+d(455)]){if(v.GaRar("MpBSj",d(417)))return 0;try{t=await this.client.users[d(442)](c.currentTrack[d(510)+d(455)]).catch(()=>this.client.user)}catch(e){if("nIJYM"===v[d(550)]){var L,M=this[d(644)]?new g(this.client[d(993)][d(1289)].keys()):new c;for([L]of i[d(1119)+"hannel"+d(667)+"s"].entries())M[d(684)](L)||a[d(1119)+d(972)+d(667)+"s"].delete(L)}else t=this[d(644)][d(662)]}}else t=this.client.user;var z=await this[d(1337)][d(1259)](c[d(789)+"tTrack"].url,{requestedBy:t,searchEngine:v[d(529)]});0<z[d(1236)][d(1319)]?(await a[d(588)].play(z[d(1236)][0]),a[d(588)][d(446)+"ume"](c[d(434)]||global.config[d(1594)]?.DefaultVolume||80),v.Cxmop(c["repeat"+d(617)],void 0)&&("Eianp"!==d(1374)?a[d(479)+"eatMode"](c[d(1505)+d(617)]):e(this.activeTimers[d(1107)](f))),c.isPaused&&a[d(588)].pause(),v[d(858)](setTimeout,async()=>{var t=d;try{if(a&&a.currentTrack&&i){if(c["nowPla"+t(775)+"ssageId"]&&c[t(1288)+t(592)+t(1360)+"d"])try{if(await i[t(1220)+"es"][t(442)](c[t(1288)+t(775)+t(1255)+"d"]).catch(()=>null))return a.metadata["nowPla"+t(775)+"ssages"]=[c.nowPlayingMessageId],void await this[t(1404)+t(681)+t(775)+"ssage"](a,a["curren"+t(1456)])}catch(e){}await this[t(1404)+"NowPla"+t(775)+t(936)](a,a[t(789)+"tTrack"])}}catch(e){t(675)!==v.UbbVf?Logger.error("Error creating nowplaying mess"+t(807)+"r restored q"+t(710)+e):(g[t(1184)][t(696)](c),u.add(l[t(985)]))}},2e3)):0<w.length?v[d(384)]!==d(996)?e[d(730)](v.UPPDx,f):(await a.node.play(),setTimeout(async()=>{var n=d;try{if(n(787)===n(1470))return this[n(897)+n(890)+"ger"][n(718)+"oLoopStatus"](C);a&&a[n(789)+n(1456)]&&i&&await this[n(1404)+"NowPla"+n(775)+n(936)](a,a[n(789)+n(1456)])}catch(t){n(867)!==n(1077)?Logger[n(730)](n(1250)+n(1584)+n(849)+"playing message fo"+n(652)+n(1487)+"ueue: "+t):e[n(730)]("Error updating now"+n(713)+n(939)+"age to"+n(1182)+" state: "+f)}},2e3)):(a.delete(),c[d(1288)+d(775)+"ssageId"]&&c.nowPlayingChannelId?await MusicQueue.updateOne({guildId:c[d(966)+"d"]},{$set:{currentTrack:null,queue:[],updatedAt:new Date}}):await MusicQueue.deleteMany({guildId:c.guildId}))}else try{g.unlinkSync(c)}catch(e){}}catch(t){d(620)!==v[d(660)]?C=this.client[d(662)]:(Logger[d(730)]("Error proces"+d(659)+d(598)+" track: "+t),0<w.length?(await a[d(588)].play(),v.OEqvu(setTimeout,async()=>{var n,r=d;try{a&&a["curren"+r(1456)]&&i&&await this.handleNowPlayingMessage(a,a[r(789)+"tTrack"])}catch(t){v.HvnOf(r(825),"iqJuG")?Logger.error(r(1250)+"creating nowplayin"+r(939)+"age fo"+r(652)+r(1487)+r(710)+t):(n=e.match(/\/vi(?:_webp)?\/([^\/]+)\//))?.[1]&&(g=r(611)+"//img."+r(1109)+r(1130)+r(1238)+n[1]+"/mqdef"+r(584)+"pg")}},2e3)):a[d(1633)]())}else 0<w.length?(await a.node.play(),v[d(858)](setTimeout,async()=>{var t=d;try{a&&a["curren"+t(1456)]&&i&&await this[t(1404)+"NowPlayingMe"+t(936)](a,a[t(789)+t(1456)])}catch(e){Logger.error(t(1250)+t(1584)+"ng now"+t(1189)+"g message fo"+t(652)+t(1487)+"ueue: "+e)}},2e3)):v[d(1509)](d(1272),d(1272))?this.client&&e&&this[d(644)][d(566)](d(423)+"tateUpdate",g):a.delete()}catch(e){Logger[d(730)](d(1250)+"settin"+d(1206)+"estore"+d(1590)+d(1492)+"guild "+c[d(966)+"d"]+": "+e),a&&a[d(1633)]()}}}}else if(n)try{let e=await this["create"+d(1355)+d(386)+"ingCan"+d(1353)](),t=createTempFile(v[d(1545)],".png");fs[d(1320)+"ileSync"](t,e.toBuffer()),await n.edit({content:null,embeds:[],files:[{attachment:t,name:path.basename(t)}]}),setTimeout(()=>{var e=d;try{fs["unlink"+e(1399)](t)}catch(e){}},5e3);continue}catch(e){Logger.error(d(1250)+d(1174)+d(849)+"Playing message to empty"+d(591)+": "+e)}}}}else this["mongoD"+d(1292)+"ected"]=!f["connec"+d(799)]["readyS"+d(798)],g[d(556)+"tion"].on("disconnected",()=>{var e=d;this["mongoD"+e(1292)+e(605)]=!0}),c.connection.on("connected",()=>{this[d(535)+"isconnected"]=!1})}catch(e){Logger[d(730)]("Error "+d(757)+d(1101)+d(441)+"r guild "+c[d(966)+"d"]+": "+e)}}}catch(e){Logger[d(730)](d(1250)+d(757)+d(1101)+d(708)+e)}}[Y(894)+Y(988)+"ts"](){let o=Y,w={wZTrf:function(e,t){return e(t)},CROXJ:function(e,t){return e!==t},ahomf:"undefined",nzZXx:o(1105),xPYcy:function(e,t){return e(t)},BXiEm:function(e,t){return e!==t},fnMlM:o(1435),HEnGh:o(1218)+"trackA"+o(1417),lTLit:function(e,t){return e===t},uOmSB:"CtyqR",mIvCx:function(e,t){return e===t},hYXlo:function(e,t){return e===t},SGHWP:"MONNm",PzGUs:function(e,t){return t<e},ffVmi:function(e,t){return e&&t},SKpCm:function(e,t){return e===t},wQLRy:o(1051),VTrVc:function(e,t){return e+t},WIerA:"unknown",ZhGdf:"You must be "+o(1463)+o(1281)+"voice channe"+o(1622)+o(649)+o(1532)+"ay mus"+o(736),OKAcF:"QzcUS",IsNCr:o(406)+o(1052)};try{if(!this["_event"+o(1465)+o(537)]){let v=!(this[o(1204)+o(1465)+o(537)]=!0);this.player[o(448)].on(o(1337)+o(750),async(t,u)=>{let l=o;try{if("gjZtZ"===l(395))u["addCom"+l(1354)+"s"]((new g).setCustomId(l(912)+l(1502))[l(1177)+"ji"]("üîÅ").setStyle(h["Second"+l(1097)]));else if(!v){v=!0,global.addonLoader&&global[l(1599)+"oader"][l(1580)+"ntMana"+l(674)]().emitSafe("music:trackS"+l(1454),{track:u,queue:{size:t.size,repeatMode:t[l(1505)+l(617)],volume:t.node.volume},guild:t.metadata?.guild,channel:t[l(832)+"ta"]?.channel,requestedBy:u.requestedBy});let s=setTimeout(()=>{var e=l;e(673)===e(1527)?t["curren"+e(1456)]=u.queue[e(1126)]():v=!1},3e3);try{if(this.config?.[l(1574)+"yNowPlaying"])try{this[l(485)+"ssedTracks"]||(this["_proce"+l(1120)+l(831)]=new Map);let n=t.metadata?.guild?.id,a=u.id||u.url,i=n+"-"+a,o=this[l(485)+"ssedTr"+l(831)][l(1107)](i),e=Date.now();if(o&&e-o<5e3)return w.wZTrf(clearTimeout,s),void(v=!1);this["_proce"+l(1120)+l(831)][l(513)](i,e);var c,f,d=e-6e4;for([c,f]of this["_proce"+l(1120)+l(831)].entries())if(f<d)if(w[l(443)]("bNeBC","UbPvm"))this[l(485)+l(1120)+"acks"].delete(c);else{for(;a["measur"+l(523)](i+"...")[l(571)]>o&&0<e.length;)q=r[l(926)](0,-1);f+=l(1232)}await new Promise(e=>setTimeout(e,1e3)),Logger.debug("PlayerStart "+l(614)+"e metadata channel: "+(t.metadata?.channel?t[l(832)+"ta"].channel[l(1021)]+" ("+t.metadata[l(951)+"l"].id+")":w.ahomf)),Logger[l(608)]("Player"+l(464)+l(614)+"e guild: "+(t.guild?t.guild.name+" ("+t.guild.id+")":w[l(744)])),await this.handleNowPlayingMessage(t,u).catch(e=>{var t=l;if("CGCtF"===t(676))return s.error("Error search"+t(859)+"r trac"+t(1082)+(n.stack||a)),i["editRe"+t(801)]("‚ùå Erro"+t(1323)+"ching for tr"+t(639)+o[t(1220)+"e"]);Logger[t(730)]("Error handli"+t(849)+t(976)+"ng message: "+e)});try{if(this["autoLo"+l(890)+"ger"][l(1123)+"LoopEnabled"](t[l(1471)].id)){let e=t.tracks[l(997)];if(e<=2)if(w.CROXJ(w.nzZXx,"dmrcP"))Logger[l(608)]("Queue "+l(1261)+"g low ("+e+(l(767)+l(1041)+l(594))+" "+t.guild.id+(l(1496)+l(1008))+" auto-loop in playerStart"),await this[l(897)+l(890)+"ger"]["addSim"+l(438)+"ngs"](t);else try{g[l(567)+"Sync"](s)}catch(e){}}}catch(e){Logger[l(730)]("Error "+l(1160)+l(906)+"rt aut"+l(1510)+" check: "+e)}}catch(e){Logger[l(730)]("Error in pla"+l(906)+l(1193)+"nt: "+e)}try{await this[l(1344)+l(958)]()}catch(e){Logger.error("Error "+l(1530)+" queue"+l(445)+l(952)+l(1570)+": "+e)}}finally{w[l(1037)](clearTimeout,s),v=!1}}}catch(e){Logger.error(l(1294)+"led er"+l(1085)+l(952)+l(1570)+" event: "+e),v=!1}}),this[o(1337)][o(448)].on("audioTrackAdd",(e,t)=>{let n=o;this[n(1344)+"eues"]().catch(e=>{var t=n;Logger.error("Error saving queue after"+t(767)+t(1335)+e)}),global[n(1599)+n(811)]&&(w.BXiEm(w.fnMlM,"GQutJ")?global[n(1599)+n(811)].getEventManager().emitSafe(w.HEnGh,{track:t,queue:{size:e[n(997)],repeatMode:e[n(1505)+"Mode"],volume:e[n(588)][n(434)]},guild:e.metadata?.guild,channel:e[n(832)+"ta"]?.channel,requestedBy:t.requestedBy}):e["origin"+n(1334)+"VoiceChannel"]=t)}),this.player.events.on(o(766)+"racksAdd",(e,t)=>{let n=o;w[n(922)](w[n(1023)],w.uOmSB)?this.saveQueues()[n(793)](e=>{var t=n;Logger[t(730)](t(1250)+t(1530)+t(981)+t(445)+" track"+t(642)+" "+e)}):g["_disco"+n(697)+n(528)]&&(k(l["_disco"+n(697)+"imeout"]),m._disconnectTimeout=null)}),this[o(1337)][o(448)].on(o(496)+"nd",async r=>{let a=o;if("wPRjI"===a(412)){this.saveQueues().catch(e=>{var t=a;Logger.error(t(1250)+"saving queue"+t(445)+t(981)+t(950)+e)});try{if(this.autoLoopManager["isAutoLoopEn"+a(1087)](r[a(1471)].id)&&(Logger[a(608)](a(604)+a(1433)+"but au"+a(812)+a(1567)+"nabled"+a(657)+"uild "+r[a(1471)].id+(a(1064)+a(1453))+" to add songs"),await this[a(897)+"opMana"+a(674)]["addSim"+a(438)+a(1312)](r),0<r[a(1236)][a(997)])){Logger.debug("Auto-l"+a(810)+a(935)+a(1514)+"estarting playback"+a(657)+"uild "+r[a(1471)].id);try{if(!w.BXiEm(a(1012),a(1012)))return void await r[a(588)][a(435)]();f&&g.deletable&&i[a(1633)]()[a(793)](()=>{})}catch(e){w.hYXlo(w[a(1371)],a(1327))?Logger[a(730)](a(1250)+a(772)+"ting playbac"+a(1427)+"r auto"+a(1257)+" "+e):r.error(a(1250)+a(1336)+a(1556)+"te rec"+a(1543)+" handl"+a(615)+f)}}}catch(e){Logger[a(730)]("Error in aut"+a(1510)+" queue"+a(794)+"andlin"+a(1330)+e)}if(this["handle"+a(1043)+"nd"](r)[a(793)](e=>{var t=a;Logger[t(730)]("Error handling que"+t(1202)+": "+e)}),!1===global[a(548)][a(1594)]?.["LeaveO"+a(969)]&&r["connec"+a(799)]){if(r.connection["_disco"+a(1117)]){let n=r[a(556)+"tion"]["_disco"+a(1117)];r["connec"+a(799)]._disconnect=function(...e){var t=a;t(434);return w.mIvCx(e[0],"manual")?n[t(582)](this,e):null}}r[a(556)+"tion"][a(942)+"imeout"]&&(clearTimeout(r["connec"+a(799)][a(942)+a(528)]),r[a(556)+a(799)][a(942)+"imeout"]=null);try{let n=r[a(832)+"ta"]?.guild?.id;if(n&&w.PzGUs(r[a(832)+"ta"]?.["nowPlayingMe"+a(1176)]?.[a(1319)],0)){if(a(1254)===a(967))return 0;{let e=r.metadata[a(1288)+"yingMe"+a(1176)][r.metadata.nowPlayingMessages[a(1319)]-1],t=r.metadata[a(951)+"l"]?.id;w[a(646)](e,t)&&MusicQueue[a(857)+"One"]({guildId:n},{$set:{nowPlayingMessageId:e,nowPlayingChannelId:t,currentTrack:null,queue:[],updatedAt:new Date}},{upsert:!0}).catch(e=>{var t=a;Logger.error(t(1250)+t(481)+t(459)+"ueue d"+t(837)+e)})}}}catch(e){Logger[a(730)](a(1250)+a(481)+a(459)+a(918)+a(506)+a(746)+a(1564)+e)}}}else i=j.duration,k=l[a(1586)+"onMS"]||0,m[a(608)]("[NowPl"+a(1024)+a(758)+a(1221)+'alLabel="'+n+a(1384)+" Deeze"+a(1092))}),this[o(1337)][o(448)].on("connectionCr"+o(1625),e=>{let i=o;if(this[i(1344)+i(958)]().catch(e=>{var t=i;Logger.error(t(1250)+"saving queue"+t(445)+" connection "+t(1468)+": "+e)}),e&&e.connection){let r=e["connec"+i(799)],a=r[i(1119)+i(1543)+"ion"][i(610)+i(1352)+"Update"];r["voiceC"+i(1543)+"ion"]["onVoic"+i(1352)+"Update"]=function(e,t){var n=i,e=a[n(779)](this,e,t);try{if(w.hYXlo(global.config.Music?.["LeaveO"+n(949)],!1))r[n(942)+n(528)]&&(clearTimeout(r[n(942)+"imeout"]),r["leaveT"+n(528)]=null);else if(!0===global[n(548)][n(1594)]?.[n(1006)+"nEmpty"]&&global.config[n(1594)]?.[n(778)+"mptyDe"+n(630)])if(w.BXiEm("LCRfd",n(505)))a[n(454)+"meout"]&&({ivqEn:function(e,t){return e(t)}}[n(1269)](e,l[n(454)+n(732)]),m["_endTi"+n(732)]=null);else global[n(548)].Music.LeaveEmptyDelay;w[n(1420)](global.config[n(1594)]?.[n(1006)+n(969)],!1)&&r["_disco"+n(697)+n(528)]&&(clearTimeout(r[n(1127)+n(697)+n(528)]),r["_disco"+n(697)+"imeout"]=null)}catch(e){if(w.wQLRy!==n(1051))return;Logger.error(n(1250)+n(1014)+n(643)+"ice st"+n(1449)+n(1351)+" "+e)}return e}}}),this[o(1337)].events.on("connec"+o(1093)+o(636),e=>{let n=o;this.saveQueues()[n(793)](e=>{var t=n;Logger.error(t(1250)+t(1530)+" queue after"+t(1537)+"ction "+t(539)+"y: "+e)})}),this.player.events.on(w[o(1610)],async e=>{var t=o;try{var n,r=e[t(832)+"ta"]?.guild?.id;r&&((n=await MusicQueue.findOne({guildId:r}))&&(n[t(1288)+"yingMe"+t(1255)+"d"]||n[t(1288)+t(592)+t(1360)+"d"])?"ENEFv"===t(1187)?await MusicQueue["update"+t(1135)]({guildId:r},{$set:{currentTrack:null,queue:[],isPaused:!1,updatedAt:new Date}}):e.error("Error "+t(1160)+t(906)+t(824)+t(1510)+t(1138)+": "+r):await MusicQueue["delete"+t(1367)]({guildId:r}))}catch(e){Logger[t(730)]("Error handling que"+t(1369)+t(1554)+e)}}),this.player[o(448)].on("error",(e,t)=>{var n=o,r={inDfE:function(e,t){return w.VTrVc(e,t)},WqJkz:function(e,t){return e*t}};if("dLrLb"!==n(532))return r[n(882)](3600*t[0],r[n(702)](r[1],60))+h[2];Logger[n(730)]("Player error: "+t.message+n(1180)+"ild "+(e[n(832)+"ta"]?.[n(1471)]?.id||"unknown"))}),this[o(1337)].events.on("playerError",(e,t)=>{var n=o;Logger[n(730)](n(1421)+" playback er"+n(1199)+t[n(1220)+"e"]+(n(1180)+n(1519))+(e[n(832)+"ta"]?.guild?.id||n(628)+"n"))}),this.player.events.on(o(556)+"tionError",(e,t)=>{var n=o;Logger[n(730)](n(1421)+" conne"+n(879)+"error: "+t.message+" in guild "+(e.metadata?.[n(1471)]?.id||w[n(1595)]))}),this.player.events.on(o(1337)+o(909),async(e,t)=>{var n=o;try{var r,a=e.metadata?.[n(1471)]?.id;0<e[n(1236)].size||a&&("HddCc"===w[n(748)]?a["_endTi"+n(732)]&&(k(l._endTimeout),m._endTimeout=null):(r=await MusicQueue.findOne({guildId:a}))&&(n(1268)!==n(1042)?(r[n(789)+"tTrack"]=null,r[n(857)+"dAt"]=new Date,await r[n(1237)]()):e.error(n(1284)+" to se"+n(577)+"low-up"+n(623)+"ge: "+t)))}catch(e){if(n(955)===n(1408))return{success:!1,message:w.ZhGdf};Logger[n(730)](n(1250)+n(861)+"ng track finish: "+e)}})}}catch(e){Logger.error(o(1250)+o(894)+"ering "+o(1337)+o(1094)+"s: "+e)}}async[Y(1404)+"NowPlayingMessage"](u,l){let c=Y,g={JifRx:"WmSdh",UuKji:"rADCn",oOsaS:"No sui"+c(1411)+c(951)+c(1017)+"d in t"+c(868)+"rect g"+c(569),iCMjK:function(e,t){return t<e},fODxp:c(1129)+c(494)+"music",UwCJO:"np_",nLLed:"Waitin"+c(913)+"your next track",kLpuF:"np_empty",AqcYu:function(e,t){return e===t},UhIZg:"FpWoZ",DaXBV:c(396),gltbA:function(e,t,n){return e(t,n)},QZYhk:function(e,t){return e!==t}};try{if(!this[c(548)]?.[c(1574)+"yNowPl"+c(1481)]){if(c(557)===c(557))return null;g(t)}if(!u||!l)return null;let t=u[c(1471)].id;if(!t)return null;var f,d=u.metadata?.[c(951)+"l"];if(Logger.debug("Music Manage"+c(1423)+c(1555)+"nel fr"+c(965)+"ue met"+c(427)+" "+(d?d.name+" ("+d.id+")":c(774)+c(641))),Logger.debug("Music Manager - Qu"+c(855)+"ild: "+(u[c(1471)]?u.guild.name+" ("+u.guild.id+")":"undefined")),!d||!d.isTextBased())return Logger.debug(c(668)+"Manager - No valid text "+c(951)+c(1017)+c(928)+"ueue m"+c(1579)+"a"),null;if(d[c(966)+"d"]!==u[c(1471)].id){Logger.error(c(1079)+"l guild mismatch! "+c(1079)+"l "+d[c(1021)]+" ("+d.id+c(488)+"ngs to"+c(594)+" "+d[c(966)+"d"]+(c(1181)+c(564)+c(1607))+" guild "+u[c(1471)].id);let e=u[c(1471)].channels[c(1289)].find(e=>e[c(562)+"Based"]()&&e.permissionsFor(u.guild.members.me)?.has([c(1627)+"ssages","EmbedL"+c(622),c(1459)+"Files"]));return e?(u.metadata[c(951)+"l"]=e,await this[c(1404)+c(681)+c(775)+c(936)](u,l)):("rADCn"!==g[c(698)]?g[c(730)](c(1250)+"creati"+c(411)+c(669)+" playing: "+t):Logger.error(g[c(1461)]),null)}let e=null;if(g.iCMjK(u.metadata?.nowPlayingMessages?.[c(1319)],0)){var h=u.metadata["nowPlayingMe"+c(1176)][u[c(832)+"ta"][c(1288)+"yingMe"+c(1176)].length-1];try{var v=await d[c(1220)+"es"].fetch(h).catch(()=>null);v&&v.author.id===this[c(644)].user.id&&(e=v)}catch(e){}}if(!e)if("LQURy"===c(1495))this[c(559)+"StateUpdateHandlers"][c(525)+"h"](e=>{var t=c;this.client&&e&&this.client[t(566)](t(423)+"tateUp"+t(1211),e)}),this["_voice"+c(1146)+"pdateH"+c(741)+"s"]=[];else try{if("YTlXe"===c(573)){for(f of(await d.messages.fetch({limit:5}))[c(915)]())if(f[c(1624)].id===this[c(644)][c(662)].id)if(f.content?.[c(874)+"es"]("**Now Playing")||f.content?.includes(g[c(468)])||f[c(699)+"t"]?.[c(874)+"es"](c(1482)+"ing currentl"+c(1621)+"ing")||f[c(1406)]?.[0]?.image?.[c(985)]?.[c(874)+"es"](g.UwCJO)){f[c(699)+"t"]?.includes(c(1165)+c(975)+"ently playing")||f[c(699)+"t"]?.includes("Ready for mu"+c(1602))||f.content?.includes(g.nLLed)||f[c(1406)]?.[0]?.image?.url?.includes(g[c(1147)])||f.embeds?.[0]?.[c(1540)]?.[c(819)](e=>e[c(586)]?.[c(874)+"es"]("No tra"+c(929)+" queue")||e.value?.[c(874)+"es"]("Queue "+c(1365))||e[c(586)]?.[c(874)+"es"](c(640)+"lay to"+c(555)+c(1316))||e.value?.includes("Playba"+c(1058)+c(381)));var w=l.title[c(648)+"ing"](0,40);if(!f.content?.includes(w)){e=f;break}if(g.AqcYu(g.UhIZg,g[c(533)]))return null;e.has(r)||(s(n),this.updateIntervals[c(1633)](o))}e}else g.error("Error preser"+c(459)+c(918)+c(506)+c(746)+"d: "+t)}catch(e){}global[c(717)+"ata"]||(global[c(717)+c(760)]={}),global.musicData.nowPlayingMessages||(global[c(717)+c(760)][c(1288)+"yingMe"+c(1176)]={}),global.musicData["nowPla"+c(775)+"ssages"][t]||(g[c(517)](c(887),g.DaXBV)?l="üë§":global[c(717)+"ata"].nowPlayingMessages[t]=[]),this[c(548)][c(709)+"OldNow"+c(713)+"g"]&&await this["cleanupOldMe"+c(1176)](t,c(1034)+c(771));let r=await this[c(1468)+c(681)+"yingCa"+c(1515)](u,l),a=g.gltbA(createTempFile,"np",".png");fs["writeF"+c(763)+"c"](a,r.toBuffer());var y=this[c(1468)+"ControlButtons"](u);let i;if(g.QZYhk(d.guildId,u[c(1471)].id))return Logger.error(c(1079)+"l guild mismatch: "+d.id+" vs "+u[c(1471)].id),null;let s={content:null,embeds:[],components:y,files:[{attachment:a,name:path.basename(a)}]};return e?(i=await e.edit(s),Logger[c(608)]("Update"+c(940)+"ting n"+c(901)+"ying message"+c(1522)+d.name+" ("+d.id+")")):(i=await d[c(624)](s),Logger.debug(c(1200)+" new n"+c(901)+"ying m"+c(1224)+" in "+d[c(1021)]+" ("+d.id+")")),global.musicData["nowPlayingMe"+c(1176)][t][c(874)+"es"](i.id)||global[c(717)+c(760)].nowPlayingMessages[t][c(696)](i.id),u[c(832)+"ta"][c(1288)+"yingMessages"]||(u.metadata["nowPla"+c(775)+"ssages"]=[]),u[c(832)+"ta"][c(1288)+"yingMe"+c(1176)][c(874)+"es"](i.id)||u[c(832)+"ta"][c(1288)+c(775)+c(1176)][c(696)](i.id),this["setupNowPlayingInt"+c(933)](u,d),await this["saveNowPlayi"+c(612)+c(650)](t,i.id,d.id,u),setTimeout(()=>{var e=c;try{e(747)===g[e(480)]?fs[e(567)+e(1399)](a):this.client.off("voiceStateUp"+e(1211),l)}catch(e){}},5e3),i}catch(e){return Logger.error("Error handli"+c(849)+" playi"+c(1108)+"sage:",e),null}}["setupN"+Y(386)+Y(740)+Y(933)](f,d){let a=Y,h={fVxfH:function(e,t){return e!==t},xvzPp:function(e,t){return e(t)},VhhqJ:function(e,t){return e===t},DXloz:a(1039),Kjlph:function(e,t,n){return e(t,n)},ZJHoF:".png",klSlT:function(e,t){return e(t)},LuwAW:"EeQku"};try{let t=f[a(832)+"ta"]?.guild?.id,c="nowplaying_"+t,g=(this[a(1441)+a(1409)][a(684)](c)&&(h[a(816)](clearInterval,this[a(1441)+a(1409)][a(1107)](c)),this["active"+a(1409)][a(1633)](c)),f[a(832)+"ta"]["nowPla"+a(947)+a(745)]&&(clearInterval(f[a(832)+"ta"]["nowPla"+a(947)+a(745)]),f[a(832)+"ta"][a(1288)+a(947)+a(745)]=null),setInterval(async()=>{let u=a,l={CeNcz:function(e,t){return e-t},edcjL:function(e,t){return e&&t},jBQZN:function(e,t){var n=b;return h[n(683)](e,t)},BvCan:u(589)};try{{if(!f||!f.metadata)return this[u(1441)+"Timers"][u(1633)](c),void clearInterval(g);var n=f.metadata.nowPlayingMessages&&0<f[u(832)+"ta"].nowPlayingMessages.length?f[u(832)+"ta"][u(1288)+"yingMessages"][f[u(832)+"ta"]["nowPla"+u(775)+u(1176)][u(1319)]-1]:null;if(!n)return this.activeTimers.delete(c),h[u(394)](clearInterval,g),void(f.metadata[u(1288)+u(947)+"terval"]=null);let a=await d.messages[u(442)](n)[u(793)](()=>null);if(!a||a[u(1633)+"d"]){if(h[u(719)](u(678),"HZtHF"))return this[u(1441)+u(1409)].delete(c),clearInterval(g),void(f[u(832)+"ta"][u(1288)+u(947)+"terval"]=null);this["_proce"+u(1120)+"acks"].clear()}if(!f.isPlaying()||!f[u(789)+"tTrack"])try{if("OGoeB"!==h[u(743)]){let e=await this[u(1468)+"EmptyN"+u(386)+"ingCanvas"](),n=createTempFile("np_empty",".png");return fs["writeF"+u(763)+"c"](n,e.toBuffer()),await a.edit({content:null,embeds:[],files:[{attachment:n,name:path.basename(n)}]}),void h[u(711)](setTimeout,()=>{let r=u;if(l[r(1562)]("LUvzg",l[r(1397)])){let n=a[r(832)+"ta"]?.guild?.id;var e,t;n&&0<i.metadata?.[r(1288)+r(775)+"ssages"]?.[r(1319)]&&(t=(e=s[r(832)+"ta"]["nowPlayingMe"+r(1176)][l[r(542)](n.metadata.nowPlayingMessages.length,1)])[r(832)+"ta"].channel?.id,l.edcjL(e,t))&&y.updateOne({guildId:n},{$set:{nowPlayingMessageId:e,nowPlayingChannelId:t,currentTrack:null,queue:[],updatedAt:new z}},{upsert:!0})[r(793)](e=>{var t=r;n.error(t(1250)+t(481)+"ving queue data: "+e)})}else try{fs.unlinkSync(n)}catch(e){}},5e3)}this.playerMessages.has(n)||this[u(1337)+u(1538)+"es"][u(513)](q,new r),this.playerMessages.get(t).set(e,{messageId:o,channelId:p})}catch(e){return Logger[u(730)]("Error "+u(1174)+u(1325)+"empty state: "+e),this[u(1441)+u(1409)].delete(c),h.xvzPp(clearInterval,g),void(f.metadata["nowPla"+u(947)+u(745)]=null)}let i=await this[u(1468)+"NowPla"+u(1349)+u(1515)](f,f["curren"+u(1456)]),t=createTempFile("np_update",h.ZJHoF),e=(fs[u(1320)+"ileSync"](t,i[u(515)+"er"]()),this.createControlButtons(f));await a[u(1078)]({content:null,embeds:[],components:e,files:[{attachment:t,name:path.basename(t)}]}),setTimeout(()=>{var e=u;try{fs[e(567)+"Sync"](t)}catch(e){}},5e3)}}catch(e){"DJpBw"!==u(1315)?(Logger.error("Error in now"+u(976)+"ng update interval: "+e),this["active"+u(1409)].delete(c),clearInterval(g),f&&f[u(832)+"ta"]&&(f[u(832)+"ta"][u(1288)+"yingIn"+u(745)]=null)):h[u(567)+"Sync"](t)}},1e4));if(!f[a(925)+a(418)+"istener"]){if(a(917)===h.LuwAW)return"üéµ";{let t=f[a(1633)];f[a(1633)]=function(){var e=a;return this.metadata&&this.metadata[e(1288)+e(947)+e(745)]&&(clearInterval(this.metadata[e(1288)+e(947)+e(745)]),this.metadata[e(1288)+"yingIn"+e(745)]=null),t.apply(this,arguments)},f[a(925)+"eanupListener"]=!0}}this["active"+a(1409)][a(513)](c,g)}catch(e){Logger.error("Error setting up n"+a(1252)+a(943)+"terval: "+e)}}async["createEmptyNowPlay"+Y(845)+Y(1353)](){var e=Y,t={KOvwE:function(e,t){return e-t},SplqM:e(690)+"a",ojohS:function(e,t){return e/t},BrvAr:"#666"},n=createCanvas(500,100),r=n[e(1124)+e(447)]("2d"),a=(r[e(477)+"ect"](0,0,500,100),r.save(),r[e(663)+e(1273)]="#0d0d0d",r.beginPath(),r.roundRect(0,0,500,100,12),r.fill(),r.restore(),t.KOvwE(100,56)/2),i=(r.save(),r["fillSt"+e(1273)]=t[e(823)],r[e(1378)+e(878)](),r["roundR"+e(1513)](22,a,56,56,8),r[e(637)](),r.restore(),r.save(),r[e(663)+e(1273)]=e(428),22+t.ojohS(56,2)),a=28+a;r["beginP"+e(878)](),r.moveTo(i-8,t[e(547)](a,12)),r.lineTo(t[e(547)](i,8),12+a),r[e(1134)](i+10,a),r[e(619)+e(878)](),r[e(637)](),r.restore();return r[e(1237)](),r[e(1091)]="600 18"+e(1240)+e(1086)+"f",r["fillSt"+e(1273)]="#ffffff",r[e(963)+e(1333)]=e(601),r.fillText(getMusicLang(e(681)+e(1063)+"othing"+e(713)+"g"),94,42),r[e(757)+"e"](),r[e(1237)](),r.font=e(695)+e(1240)+"s-serif",r[e(663)+e(1273)]=t[e(1170)],r["textBa"+e(1333)]=e(601),r.fillText(getMusicLang(e(681)+e(1049)+"tartPl"+e(1481)),94,64),r.restore(),n}[Y(1242)+Y(534)+"n"](e){const t=Y,n=t(1363);return e?e[t(874)+"es"](t(1109)+t(421))||e[t(874)+"es"]("youtu.be")?"mkYbz"!==n?null:"üì∫":e.includes(t(1588)+"y.com")?"üü¢":e[t(874)+"es"](t(716)+"loud.com")?"üü†":"üéµ":"üéµ"}[Y(1468)+Y(433)+Y(631)+"ns"](e){var t=Y,n={NASUU:function(e,t){return e*t},YnSMu:function(e,t){return e-t},RdNDA:"YqNWA",NOAZm:t(912)+t(434)+"down",pqLKo:function(e,t){return e!==t},pXLOZ:function(e,t){return e!==t},MXxLn:t(1426)},r=new ActionRowBuilder,a=new ActionRowBuilder;!1!==this[t(548)]?.Buttons?.[t(1484)+"evious"]&&r[t(1464)+"ponents"]((new ButtonBuilder)["setCus"+t(1472)]("music_"+t(765)+"us").setEmoji("‚èÆÔ∏è")[t(1321)+"le"](ButtonStyle[t(1015)+"ary"])),!1!==this[t(548)]?.[t(1235)+"s"]?.[t(797)+"useRes"+t(1497)]&&r[t(1464)+"ponents"]((new ButtonBuilder).setCustomId("music_"+t(463)+"use").setEmoji(e?.[t(588)]?.isPaused()?"‚ñ∂Ô∏è":"‚è∏Ô∏è")[t(1321)+"le"](e?.[t(588)]?.[t(400)+"ed"]()?ButtonStyle.Success:ButtonStyle[t(1015)+"ary"])),!1!==this.config?.Buttons?.[t(1400)+"ip"]&&r[t(1464)+"ponents"]((new ButtonBuilder).setCustomId("music_"+t(1571)).setEmoji("‚è≠Ô∏è")[t(1321)+"le"](ButtonStyle["Second"+t(1097)])),!1!==this[t(548)]?.Buttons?.ShowLoop&&r.addComponents((new ButtonBuilder)[t(672)+t(1472)](t(912)+"loop").setEmoji("üîÅ")[t(1321)+"le"](ButtonStyle[t(1015)+t(1097)])),!1!==this.config?.Buttons?.ShowShuffle&&r[t(1464)+"ponents"]((new ButtonBuilder)["setCus"+t(1472)](t(912)+t(1592)+"e")[t(1177)+"ji"]("üîÄ")[t(1321)+"le"](ButtonStyle["Second"+t(1097)]));let i=!1;if(!1!==this[t(548)]?.[t(1235)+"s"]?.["ShowVo"+t(1577)+"ntrols"]&&(n.RdNDA!==t(1529)?r["musicD"+t(760)]["nowPla"+t(775)+t(1176)][a]=[]:(a["addCom"+t(1354)+"s"]((new ButtonBuilder)[t(672)+"tomId"](n.NOAZm)[t(1177)+"ji"]("üîâ")[t(1321)+"le"](ButtonStyle[t(1015)+"ary"]),(new ButtonBuilder)["setCus"+t(1472)](t(912)+"volumeup").setEmoji("üîä").setStyle(ButtonStyle[t(1015)+"ary"])),i=!0)),n.pqLKo(this.config?.[t(1235)+"s"]?.ShowStop,!1))if(n.pXLOZ(n[t(1609)],t(1313)))a[t(1464)+"ponents"]((new ButtonBuilder)["setCus"+t(1472)]("music_stop").setEmoji("‚èπÔ∏è")[t(1321)+"le"](ButtonStyle[t(694)])),i=!0;else{e=i.node[t(1419)+"estamp"]();if(e&&e.total&&0<e[t(1458)][t(586)]){const o=e[t(1297)](e.current[t(586)]/e.total.value,1),s=20..floor(n[t(1010)](o,20)),u=n[t(465)](20,s);o="\n"+"‚ñ∞".repeat(s)+"‚ñ±"[t(1505)](u)+" `"+e[t(789)+"t"][t(1596)]+"/"+e[t(1458)][t(1596)]+"`"}}n=[r];return i&&n.push(a),n}["storeP"+Y(460)+"essage"](e,t,n,r){var a=Y;this[a(1337)+a(1538)+"es"][a(684)](e)||this[a(1337)+"Messages"][a(513)](e,new Map),this[a(1337)+a(1538)+"es"].get(e).set(t,{messageId:n,channelId:r})}async[Y(1361)+"pOldMe"+Y(1176)](r,s){let u=Y,c={TCniC:u(1060)+u(658)+"sabled",nFDXt:function(e,t,n){return e(t,n)},RncJV:"Errors.NoRes"+u(1157),xOdSM:u(1541),xTtXw:function(e,t){return e===t},rLQSy:u(1337),VnruH:u(1154),fyuYh:"nowplaying",Rtzfv:function(e,t){return t<e}};try{if(s===u(1034)+"ying"&&!this[u(548)][u(709)+"OldNow"+u(713)+"g"])return 0;if(!this[u(644)]||!r)return"GVpOD"===c.xOdSM?"manual"===e[0]?a[u(582)](this,i):null:0;let e;if("nowplaying"===s)if("RKdYr"!==u(712))c[u(789)+"tTrack"]=e["curren"+u(1456)];else{if(!global[u(717)+u(760)]?.[u(1288)+u(775)+"ssages"]?.[r])return 0;e=[...global[u(717)+u(760)][u(1288)+u(775)+"ssages"][r]]}else{if(!c.xTtXw(s,c.rLQSy))return 0;if(u(1304)!==u(1428)){if(!global["musicD"+u(760)]?.["player"+u(1538)+"es"]?.[r]){if("JOPiy"!==u(1629))return 0;s(this["autoSa"+u(884)+"rval"]),this["autoSaveInte"+u(1055)]=null}e=[...global[u(717)+"ata"][u(1337)+"Messages"][r]]}else e=t[u(1057)],y=c[u(1307)]}if(!e||0===e[u(1319)]){if(c.VnruH===c[u(553)])return 0;{let r=c.nFDXt(a,c[u(1293)],{query:i});return k[u(1230)+"tions"]&&0<l[u(1230)+"tions"].length&&(r+=u(1194)+u(607)+"u mean:**\n",o[u(1230)+"tions"].forEach((e,t)=>{var n=u;r+="‚Ä¢ "+e[n(990)]+"\n"})),n.editReply(r)}}let t=[];s===u(1034)+"ying"?t=e[u(926)](-2):"player"===s&&(t=e.slice(-1));const y=e[u(1317)](e=>!t[u(874)+"es"](e));if(0===y.length)return 0;let a=0,i=s===c[u(800)]?global[u(717)+"ata"].nowPlayingMessages:global[u(717)+"ata"]["player"+u(1538)+"es"];for(var g of y)try{var f,d,h=await this.db.get(u(1158)+" * FROM music_messages WHERE guild_i"+u(726)+u(905)+u(1526)+u(397)+" AND type = ?",[r,g,s]),v=(h&&(f=await this[u(644)][u(951)+"ls"].fetch(h[u(951)+"l_id"]).catch(()=>null))&&f["isText"+u(587)]()&&(d=await f[u(1220)+"es"][u(442)](g)[u(793)](()=>null))&&d[u(585)+u(1524)]&&(await d[u(1633)](),a++,await this.db[u(1025)]("DELETE"+u(1071)+u(912)+"messag"+u(1520)+"RE guild_id "+u(1542)+u(875)+u(1188)+" = ? AND type = ?",[r,g,s])),i[r][u(1081)+"f"](g));-1<v&&i[r][u(910)](v,1)}catch(e){Logger[u(730)]("Error deleting "+s+(u(623)+u(862))+g+": "+e);var w=i[r].indexOf(g);c.Rtzfv(w,-1)&&i[r][u(910)](w,1)}return a}catch(e){return Logger[u(730)](u(1250)+u(1611)+"anupOl"+u(927)+u(502)+e),0}}async["handleQueueEnd"](e){const a=Y,n={PIHNM:"TtnMU",ampcs:function(e,t){return e(t)},DWyui:function(e,t){return e!==t},lEvfC:function(e,t){return t<e},gzMxU:function(e,t){return e-t},tFuAS:a(1239),saFgE:"Error "+a(861)+"ng queue end:"};try{if(a(618)===a(618)){var r=e?.[a(832)+"ta"]?.channel;if(r){let t=await r.send({content:n.ampcs(getMusicLang,"NowPlaying.Nothing"+a(713)+"g")});if(this[a(548)]["AutoDe"+a(865)+"mmands"])if(n.DWyui(a(938),"JDrxa"))for(let e=e.length-1;0<=e;e--)l["insert"+a(436)](m[e]);else setTimeout(()=>{var e=a;t&&t[e(585)+"ble"]&&("HciIF"!==n.PIHNM?t[e(1633)]()[e(793)](()=>{}):n=this.client[e(662)])},this.config.CommandDeleteDelay||5e3)}if(n[a(903)](e.metadata?.[a(1288)+"yingMessages"]?.length,0)&&r)try{var t=e[a(832)+"ta"]["nowPlayingMe"+a(1176)][n[a(1486)](e[a(832)+"ta"][a(1288)+"yingMe"+a(1176)].length,1)],i=await r[a(1220)+"es"][a(442)](t).catch(()=>null);if(i){let e=await this[a(1468)+a(1355)+a(386)+"ingCanvas"](),t=createTempFile(a(731)+"ty",n.tFuAS);fs.writeFileSync(t,e.toBuffer()),await i.edit({content:null,embeds:[],files:[{attachment:t,name:path[a(544)+"me"](t)}]}),setTimeout(()=>{let n=a,r={noWoB:n(423)+n(973)+"date"};if("kxVJs"===n(1256))try{fs[n(567)+n(1399)](t)}catch(e){}else this["_patchedVoiceState"+n(1253)+n(821)+"rs"].forEach(e=>{var t=n;this.client&&e&&this[t(644)].off(r[t(1219)],e)})},5e3)}}catch(e){Logger[a(730)]("Error updating now"+a(1189)+a(939)+a(944)+a(981)+a(950)+e)}}else this._processedTracks=new n}catch(e){Logger[a(730)](n[a(1546)],e)}}async[Y(435)](n,r,a,i=!1,o={}){let s=Y,u={HrmiF:function(e,t){return e(t)},EJXeT:s(462),jYLbp:s(512),LEzVO:"ZCBId",cRqSQ:function(e,t){return e===t},EviHR:function(e,t){return e===t},tanwb:function(e,t){return t<e},wzbyw:function(e,t){return e===t},cdwKT:"ocCdS",ilPGE:function(e,t,n){return e(t,n)},iDUHa:function(e,t){return e!==t},eMkpj:s(1155)};try{if(u[s(665)]===u.jYLbp)return a.warn(s(846)+"anager"+s(1142)+s(590)+s(501)+s(1100)+s(1418)+s(1489)+"sting instance"),i;{var{playTop:l=!1,skipCurrent:c=!1}=o,g=a[s(1471)][s(989)+"s"].me.voice.channel;if(g)if("uvpYF"===u.LEzVO)a["mkdirS"+s(565)](i,{recursive:!0});else if(n.id!==g.id)return{success:!1,message:"You must be "+s(1463)+" same voice channe"+s(1622)+s(649)+" to pl"+s(1186)+"ic."};var f=a.guild.id;let t=null;try{if((t=await MusicQueue[s(1339)+"e"]({guildId:f}))&&t.nowPlayingMessageId&&t.nowPlayingChannelId){if(!u[s(833)](s(1096),"XVVVq"))return a.reply({content:"? An e"+s(1216)+s(1429)+"d while trying to play music.",flags:i[s(392)+"ral"]});t["nowPla"+s(775)+"ssageId"],t["nowPla"+s(592)+s(1360)+"d"]}}catch(e){Logger.error(s(1250)+"checking for"+s(792)+"ing queue: "+e)}let e;if(!0===i&&u.EviHR(typeof r,"object")&&r.tracks&&u.tanwb(r[s(1236)][s(1319)],0)){if(u.wzbyw(u.cdwKT,"sknnL"))return null;e=r}else e=await this[s(1337)].search(r,{requestedBy:a[s(662)],searchEngine:"spotif"+s(701)+"h"})[s(793)](e=>{var t=s;return Logger[t(730)]("Search"+t(1197)+": "+e),null});if(!e||0===e.tracks[s(1319)])return{success:!1,message:u.ilPGE(getMusicLang,s(1295)+s(1392)+s(1157),{query:"string"==typeof r?r:"the pr"+s(1469)+s(791)})};var d,h=this.player[s(1382)].create(a[s(1471)],{metadata:{channel:a.channel,client:a.guild.members.me,guild:a[s(1471)],requestedBy:a[s(662)],nowPlayingMessages:[]},volume:global[s(548)].Music?.[s(504)+"tVolume"]||80,leaveOnEmpty:!0===global[s(548)][s(1594)]?.[s(1006)+s(949)],leaveOnEmptyCooldown:global.config.Music?.[s(778)+s(1549)+s(630)]||6e4,leaveOnEnd:u.EviHR(global[s(548)][s(1594)]?.[s(1006)+s(969)],!0),leaveOnStop:!0===global.config[s(1594)]?.[s(1006)+"nEnd"],leaveOnEndCooldown:global.config[s(1594)]?.["LeaveE"+s(883)+"y"]||3e5,skipOnNoStream:!0,connectionTimeout:6e4,bufferingTimeout:3e4,pauseOnEmpty:u.iDUHa(global[s(548)][s(1594)]?.[s(576)+s(1558)],!1),selfDeaf:!0,nodeOptions:{leaveOnEmptyCooldown:global.config.Music?.["LeaveE"+s(1549)+s(630)]||6e4,leaveOnEndCooldown:global.config.Music?.["LeaveE"+s(883)+"y"]||3e5}}),v=(h.connection||await h[s(556)+"t"](n),global[s(548)].Music?.[s(1282)+s(998)]||100);if(e.playlist){var w=e.tracks;if(h[s(1236)][s(997)]+w[s(1319)]>v){var y=Math[s(1620)](0,v-h.tracks[s(997)]),m=w[s(926)](0,y);if(l)for(let e=m[s(1319)]-1;0<=e;e--)"roukw"!==s(920)?o[s(1263)+s(1412)+"t"]&&(u.HrmiF(g,f[s(1263)+"Timeout"]),t[s(1263)+s(1412)+"t"]=null):h[s(1626)+s(436)](m[e]);else u.eMkpj==u.eMkpj?h.addTrack(m):r="üîÑ Auto Loop";return h[s(1270)+s(1359)]()?c&&await h.node[s(1571)]():await h.node[s(435)](),{success:!0,message:s(1128)+m[s(1319)]+(s(767)+s(1262)+"he queue"),playlist:e.playlist,tracks:m,limitReached:!0}}if(u.iDUHa(s(452),"YxUqx")){if(l)for(let e=w[s(1319)]-1;0<=e;e--)h["insert"+s(436)](w[e]);else h[s(1488)+"ck"](w);return h["isPlay"+s(1359)]()?c&&await h.node[s(1571)]():await h[s(588)].play(),{success:!0,message:"Added "+w.length+" tracks to the queue",playlist:e[s(991)+"st"],tracks:w}}return"üü†"}return d=e[s(1236)][0],h[s(1236)][s(997)]>=v?{success:!1,message:"Cannot add t"+s(1598)+s(604)+s(703)+"imit reached",limitReached:!0}:(l?h[s(1626)+"Track"](d):h.addTrack(d),h.isPlaying()?c&&("ERzyx"!==s(1517)?await h[s(588)].skip():a[s(730)]("Error updati"+s(849)+"playin"+s(939)+"age on queue"+s(950)+i)):await h.node.play(),{success:!0,message:s(680)+s(581),track:d})}}catch(e){return Logger[s(730)](s(1250)+"in play meth"+s(1569)+e),{success:!1,message:s(689)+" "+e.message}}}async["fixDuplicateQueues"](){let r=Y,a={AbpTM:function(e,t){return e!==t},GPUHv:"Buibm",BLxww:function(e,t){return e-t},vhfkc:r(419),hORee:r(1070)};try{if(!a.AbpTM("Buibm",a[r(1173)])){const e=await MusicQueue.find({}),f={};for(var i of e)f[i[r(966)+"d"]]||(f[i.guildId]=[]),f[i.guildId][r(696)](i);let t=0,n=0;for(var[o,s]of Object[r(503)+"s"](f))if(1<s[r(1319)]){n+=a[r(1425)](s[r(1319)],1),s.sort((e,t)=>new Date(t["update"+r(1036)])-new Date(e.updatedAt));var u={...s[0].toObject()};!u[r(789)+"tTrack"]&&u[r(1184)]&&0<u[r(1184)][r(1319)]&&(u[r(789)+"tTrack"]=u.queue.shift());for(let t=1;t<s[r(1319)];t++)if(a.AbpTM(a[r(1444)],a.vhfkc))e=f;else{var l=s[t][r(1004)+"ct"]();if(!u[r(789)+"tTrack"]&&l["curren"+r(1456)]&&(u["curren"+r(1456)]=l["curren"+r(1456)]),l[r(1184)]&&0<l[r(1184)][r(1319)]){var c,g=new Set(u.queue[r(1343)](e=>e[r(985)]));for(c of l[r(1184)])g.has(c[r(985)])||(u.queue[r(696)](c),g[r(1192)](c.url))}}await MusicQueue.deleteMany({guildId:o}),await MusicQueue.create(u),t++}return{fixedGuilds:t,totalDuplicates:n}}e[r(567)+r(1399)](f)}catch(e){if("WxJcO"!==a[r(1171)])return Logger.error(r(1250)+r(1212)+" dupli"+r(1637)+r(1027)+" "+e),{error:e[r(1220)+"e"]};d.metadata[r(1288)+"yingMe"+r(1176)]=[]}}async["cleanM"+Y(700)+"eues"](){var t=Y;try{return(await MusicQueue.deleteMany({}))[t(1633)+t(385)]}catch(e){return"bBRqO"===t(1490)?(Logger[t(730)]("Failed to cl"+t(509)+t(416)+t(981)+"s: "+e),0):void 0}}[Y(651)+Y(1347)+Y(1222)](i){let n=Y,o={AuPGl:function(e,t){return e(t)},AYACj:function(e){return e()},qzKCf:n(1474)};try{if(i&&(i[n(1341)+n(1613)+"OnEnd"]=!0===global.config.Music?.LeaveOnEnd,i["_custo"+n(1613)+n(1283)+"y"]=!0===global.config.Music?.[n(1006)+n(949)],i._customLeaveEndDelay=global[n(548)].Music?.["LeaveE"+n(883)+"y"]||3e5,i[n(1341)+"mLeaveEmptyD"+n(785)]=global[n(548)].Music?.[n(778)+"mptyDe"+n(630)]||6e4,i.once("connec"+n(1422)+"eate",t=>{let r=n;if(t)try{if(!t[r(934)+"nalDisconnect"]&&t[r(599)+r(830)]&&(t["_origi"+r(1145)+"connect"]=t.disconnect,t[r(599)+"nect"]=()=>{var e=r;if(i["_customLeave"+e(1159)]||i["_customLeave"+e(1283)+"y"])return t[e(934)+"nalDisconnect"]()}),t[r(1119)+"onnection"]){var e=()=>{var e=r;!i._customLeaveOnEmpty&&t._emptyTimeout&&(clearTimeout(t._emptyTimeout),t["_empty"+e(1412)+"t"]=null),!i["_customLeave"+e(1159)]&&t._endTimeout&&(o[e(405)](clearTimeout,t._endTimeout),t["_endTi"+e(732)]=null)},a=(o.AYACj(e),setInterval(e,5e3));t[r(1329)+r(691)+"nterval"]=a;let n=t[r(539)+"y"];t.destroy=function(...e){var t=r;return this["_leave"+t(691)+"nterval"]&&(clearInterval(this._leaveCheckInterval),this["_leave"+t(691)+t(1342)+"l"]=null),n[t(582)](this,e)}}}catch(e){Logger[r(730)](r(1250)+r(634)+"ng voice connectio"+r(1248)+e)}}),i[n(556)+n(799)]))try{if("fStMH"===o.qzKCf)return f.error("Error in play meth"+n(1569)+g),{success:!1,message:"Error: "+h[n(1220)+"e"]};{let t=i[n(556)+n(799)];!t["_originalDis"+n(556)+"t"]&&t[n(599)+n(830)]&&(t["_origi"+n(1145)+n(556)+"t"]=t[n(599)+n(830)],t[n(599)+"nect"]=()=>{var e=n;if(i[e(1341)+"mLeave"+e(1159)]||i["_custo"+e(1613)+e(1283)+"y"])return t._originalDisconnect()}),!i["_custo"+n(1613)+n(1283)+"y"]&&t[n(1263)+"Timeout"]&&(clearTimeout(t[n(1263)+n(1412)+"t"]),t["_empty"+n(1412)+"t"]=null),!i._customLeaveOnEnd&&t[n(454)+"meout"]&&(clearTimeout(t[n(454)+"meout"]),t[n(454)+"meout"]=null)}}catch(e){Logger.error(n(1250)+"patching existing "+n(752)+"connection: "+e)}}catch(e){Logger[n(730)]("Error "+n(387)+n(583)+"eSetti"+n(1190)+e)}}[Y(376)+"oiceConnecti"+Y(461)+"hes"](){let n=Y,s={CPDkj:function(e,t){return e!==t},KQfQo:"HmXGA",bcQzB:n(1398)+n(953)+"er",jHwff:n(1395),ECzYd:n(1348)};try{let o=require(s[n(1300)]).Logger;this[n(1561)+n(937)+n(1352)+n(1253)+n(821)+"rs"]&&this[n(1561)+"edVoic"+n(1352)+"Update"+n(821)+"rs"].forEach(e=>{var t=n;this[t(644)]&&e&&this.client[t(566)]("voiceStateUp"+t(1211),e)}),this["_patchedVoic"+n(1352)+"UpdateHandlers"]=[];try{let e=require("@discordjs/voice").joinVoiceChannel;global[n(1119)+n(972)+"Configs"]=global.voiceChannelConfigs||new Map,global["originalJoinVoiceC"+n(972)]||(global["originalJoin"+n(805)+n(972)]=e),global[n(475)+n(645)+"oiceChannel"]=function(e){var t=n;return e&&e.guildId&&global[t(1119)+"hannelConfigs"][t(513)](e[t(966)+"d"],e),global["originalJoin"+t(805)+"hannel"](e)},global[n(1516)+n(1350)+"nnel"]=global[n(475)+n(645)+n(1511)+"annel"]}catch(e){o.error(n(1284)+n(869)+n(1072)+n(1026)+"player"+n(1231)+"tly: "+e)}try{var t;this.client&&this[n(644)].on&&(t=(r,t)=>{let a=n;if(s[a(655)](r[a(989)].id,this.client[a(662)].id)&&t[a(989)].id!==this[a(644)].user.id){if("mBAZS"!==s[a(1136)])return;this.client&&e&&this.client[a(566)](a(423)+"tateUpdate",g)}if(r.channel&&!t.channel)if("xOoEh"===a(609))e.unlinkSync(f);else if(!1===global.config[a(1594)]?.[a(1006)+"nEmpty"])try{var i=this[a(1337)];if(i){let e=r.guild,n=i[a(1382)][a(1107)](e.id);n&&setTimeout(async()=>{var t=a;try{r[t(951)+"l"].joinable&&await n[t(556)+"t"](r[t(951)+"l"])}catch(e){o.error(t(1250)+t(1011)+"ecting to vo"+t(1122)+"annel: "+e)}},1e3)}}catch(e){o.error("Error "+a(1336)+"ce sta"+a(1357)+a(1543)+a(1007)+a(615)+e)}},this.client.on("voiceS"+n(973)+n(1211),t),this["_patchedVoic"+n(1352)+n(1253)+n(821)+"rs"]=this[n(1561)+"edVoic"+n(1352)+n(1253)+n(821)+"rs"]||[],this["_patchedVoiceState"+n(1253)+n(821)+"rs"].push(t))}catch(e){o[n(730)](n(1284)+" to patch vo"+n(1062)+"ate ha"+n(1351)+" "+e)}}catch(t){if(s.jHwff===s.ECzYd)return e.apply(this,f);Logger[n(730)]("Error applying voice connectio"+n(814)+n(666)+t)}}async["saveNo"+Y(1286)+"ngMess"+Y(650)](e,t,n,r=0){var a,i=Y;try{e&&t&&n&&((a=await MusicQueue[i(1339)+"e"]({guildId:e}))?(a[i(1288)+"yingMessageId"]=t,a["nowPla"+i(592)+"annelId"]=n,a.updatedAt=new Date,await a.save()):await MusicQueue[i(1468)]({guildId:e,nowPlayingMessageId:t,nowPlayingChannelId:n,textChannelId:n,updatedAt:new Date}))}catch(e){Logger.error(i(1250)+"saving nowPlaying "+i(1220)+"e to M"+i(1437)+": "+e)}}async["createNowPla"+Y(1349)+"nvas"](t,n){let r=Y,a={peeQb:function(e,t){return e/t},pwVvx:function(e,t){return e%t},wLPck:r(704),GYVBV:function(e,t){return e(t)},Rlmvp:"music_"+r(1311),fqykA:function(e,t){return e!==t},emrpL:function(e,t){return e===t},AOvyx:r(389),ROWml:function(e,t){return e(t)},WxMzy:function(e,t){return t<e},xEQaQ:"nnQOU",njOFz:function(e,t){return e(t)},IOyHq:function(e,t,n){return e(t,n)},DhvLW:"IefBn",jZTaO:"ytimg.com",bUubE:r(1358),CyWqZ:function(e,t){return e-t},xXfzJ:"middle",TyvTU:r(1232),zBBhO:"#333",BTQZC:function(e,t){return e*t},EPkyR:function(e,t){return e+t}},i=0,o="0:00",s=e=>{var t=r;return!e||e<=0?null:(e=Math[t(1623)](e/1e3),Math.floor(a.peeQb(e,60))+":"+a.pwVvx(e,60).toString()[t(727)+"rt"](2,"0"))};Logger[r(608)]("[NowPlaying]"+r(422)+' info: title="'+n?.[r(990)]+r(1299)+'="'+n?.url?.substring(0,60)+r(921)),Logger.debug(r(1477)+r(1024)+" Track duration fi"+r(728)+r(1586)+'on="'+n?.[r(1586)+"on"]+r(1179)+"ationMS="+n?.["durati"+r(1364)]),Logger[r(608)]("[NowPl"+r(1024)+" Track"+r(613)+r(541)+r(1050)+"uratio"+r(1553)+n?.[r(847)]?.duration+(r(1600)+r(1631))+"ionMS="+n?.[r(847)]?.durationMS);const u=()=>{var e=r;return n?.duration&&n[e(1586)+"on"]!==a[e(1303)]&&n[e(1586)+"on"]!==e(1521)?n.duration:0<n?.[e(1586)+e(1364)]?a.GYVBV(s,n["durati"+e(1364)]):n?.raw?.duration?n[e(847)].duration:0<n?.[e(847)]?.["durati"+e(1364)]?s(n.raw["durati"+e(1364)]):null};let l=u()||"0:00",c=n?.[r(1586)+"onMS"]||0;if(Logger[r(608)](r(1477)+"aying] Initi"+r(815)+"alLabe"+r(1088)+l+r(1164)+"cking if Deezer UR"+r(1636)),"0:00"===l&&n?.[r(985)]&&isDeezerTrackUrl(n[r(985)])){Logger.debug(r(1477)+"aying] Duration is 0:00 "+r(768)+r(1234)+"r URL, fetch"+r(919)+r(1615)+r(1232));try{var g=await a[r(1455)](getDeezerTrackInfo,n.url);Logger[r(608)]("[NowPlaying]"+r(1234)+r(1491)+"returned: "+JSON[r(1582)+r(1019)](g)),g?.[r(1586)+"on"]&&(l=g.duration,c=g[r(1586)+r(1364)]||0,Logger[r(608)](r(1477)+"aying]"+r(758)+r(1221)+'alLabel="'+l+'" from Deeze'+r(1092)))}catch(e){Logger[r(730)]("[NowPl"+r(1024)+r(1499)+r(1207)+"ing Deezer info: "+e[r(1220)+"e"])}}try{var f=t.node["getTim"+r(616)]();if(Logger[r(608)](r(1477)+"aying] Timestamp: current="+f?.[r(789)+"t"]?.value+r(930)+f?.current?.label+"), total="+f?.[r(1458)]?.[r(586)]+r(930)+f?.total?.[r(1596)]+")"),f&&f[r(1458)]&&0<f[r(1458)].value)i=Math[r(1297)](f.current.value/f.total[r(586)],1),o=f[r(789)+"t"][r(1596)]||"0:00",f.total.label&&"0:00"!==f[r(1458)].label&&f[r(1458)][r(1596)]!==r(1521)?a.fqykA(r(1394),"TeZtm")?(i[r(1464)+r(1354)+"s"]((new o)["setCus"+r(1472)](a[r(383)]).setEmoji("‚èπÔ∏è")[r(1321)+"le"](s.Danger)),u=!0):(l=f.total[r(1596)],Logger.debug("[NowPl"+r(1024)+r(413)+" timestamp.total.l"+r(1244)+l+'"')):l===r(704)&&(a[r(471)]("cKDsl",a.AOvyx)?(l=a[r(871)](s,f[r(1458)].value)||"0:00",Logger[r(608)](r(1477)+"aying] Calcu"+r(923)+r(1002)+r(1244)+l+(r(1384)+r(1535))+"tamp.total.value")):l.addonLoader["getEventMana"+r(674)]()[r(764)+"fe"]("music:trackA"+r(1417),{track:c,queue:{size:w[r(997)],repeatMode:y["repeat"+r(617)],volume:m.node[r(434)]},guild:L.metadata?.[r(1471)],channel:p[r(832)+"ta"]?.channel,requestedBy:M["reques"+r(455)]}));else if(a[r(1203)](c,0)){if(a.xEQaQ===r(1065))return;var d=t.node[r(603)+r(956)]||0,h=(i=Math.min(d/c,1),Math.floor(a.peeQb(d,1e3))),v=Math.floor(h/60);o=v+":"+a.pwVvx(h,60).toString()[r(727)+"rt"](2,"0")}}catch(e){if(a.emrpL(r(783),"YRgxd"))return a[r(1341)+r(1613)+"OnEnd"]||i["_customLeave"+r(1283)+"y"]?o._originalDisconnect():void 0;Logger.error("[NowPl"+r(1024)+" Error"+r(762)+r(1557)+"estamp: "+e.message)}Logger[r(608)](r(1477)+r(1024)+r(596)+r(1340)+r(881)+'rrentLabel="'+o+'", totalLabe'+r(1088)+l+'", pro'+r(1308)+i),!a[r(780)](isNaN,i)&&isFinite(i)||(i=0);let w=500,y=100,m=a.IOyHq(createCanvas,w,y),L=m[r(1124)+r(447)]("2d"),p=(L[r(477)+r(1513)](0,0,w,y),L[r(1237)](),L[r(663)+"yle"]=r(1324)+"d",L[r(1378)+r(878)](),L.roundRect(0,0,w,y,12),L.fill(),L.restore(),56),M=22,z=(y-p)/2,C;try{if(r(1345)!==a.DhvLW){let t=n?.["thumbn"+r(1434)]||r(611)+r(575)+"gur.co"+r(404)+r(546)+"g";(t=t?.[r(874)+"es"](a.jZTaO)&&(b=t[r(1331)](/\/vi(?:_webp)?\/([^\/]+)\//))?.[1]?"https:"+r(1544)+"youtube.com/"+r(1238)+b[1]+r(978)+"ault.jpg":t)?.[r(714)+"th"](r(1205))&&(a[r(1585)]===a.bUubE?t=t.replace(r(1205),r(1298)):e=a[r(510)+r(455)][r(574)+"me"]),C=await loadImage(t)}else this[r(535)+"isconn"+r(605)]=!0}catch(e){C=await loadImage(r(611)+r(575)+r(1140)+r(404)+r(546)+"g")}L[r(1237)](),L[r(1378)+"ath"](),L.roundRect(M,z,p,p,8),L[r(671)]();var g=C[r(571)],f=C.height,t=Math[r(1297)](g,f),d=a[r(1e3)](g,t)/2,v=(f-t)/2,h=(L[r(1485)+"age"](C,d,v,t,t,M,z,p,p),L[r(757)+"e"](),M+p+16),D=a.CyWqZ(a.CyWqZ(w,h),20);L.save(),L[r(1091)]="600 16"+r(1240)+"s-serif",L[r(663)+"yle"]="#ffffff",L["textBa"+r(1333)]=a.xXfzJ;let B=n?.title||"Unknown";if(a[r(1203)](L[r(1442)+"eText"](B).width,D)){for(;L.measureText(B+a.TyvTU)[r(571)]>D&&0<B.length;){if("vHidn"===r(1249))return e.error(r(1284)+" to clean up music queues: "+a),0;B=B[r(926)](0,-1)}B+="..."}L.fillText(B,h,32),L[r(757)+"e"](),L.save(),L.font="400 13px sans-serif",L["fillSt"+r(1273)]=r(777),L["textBa"+r(1333)]="middle",L[r(1258)+"xt"](n?.[r(1624)]||"Unknown",h,50),L[r(757)+"e"]();var b=h,g=D;return L.save(),L["fillSt"+r(1273)]=a.zBBhO,L[r(1378)+r(878)](),L[r(654)+r(1513)](b,72,g,4,2),L[r(637)](),L[r(757)+"e"](),L[r(1237)](),L["fillSt"+r(1273)]=r(839)+"4",L["beginP"+r(878)](),L.roundRect(b,72,a.BTQZC(g,i),4,2),L[r(637)](),L.restore(),L[r(1237)](),L.font=r(1534)+"px san"+r(1086)+"f",L[r(663)+"yle"]=r(1539),L["textBa"+r(1333)]="middle",L[r(1258)+"xt"](o,b,a[r(449)](72,14)),L[r(1587)+"ign"]="right",L[r(1258)+"xt"](l,b+g,a.EPkyR(72,14)),L.restore(),m}[Y(491)+"onnect"+Y(1161)+"ching"](){let f=Y,d={cVAvJ:function(e,t){return e===t},APvst:f(687),LUryV:"bRDZy",AnqXv:function(e,t){return e(t)},aIHOA:function(e,t){return e!==t},RASmN:function(e,t,n){return e(t,n)},RqcdU:f(1167),VPtwB:function(e,t){return e(t)},UyoLJ:"tuRmw",skSHP:function(e,t){return t<e},UzGPQ:f(423)+"tateUp"+f(1211)};try{if("bsGHW"!==d[f(836)])this[f(535)+"isconnected"]=!1;else{let{joinVoiceChannel:e,VoiceConnectionStatus:n,entersState:r}=d[f(1201)](require,f(851)+f(724)+f(1475)),s=require(f(1116)+f(838)+"er").useQueue,c=require(f(1398)+f(953)+"er").Logger,g=(this[f(559)+f(1146)+"pdateH"+f(741)+"s"]=this[f(559)+"StateUpdateH"+f(741)+"s"]||[],new Map);if(!global[f(682)+"alJoinVoiceC"+f(972)]){if("Nikxt"===d[f(1445)])return;global["originalJoin"+f(805)+f(972)]=e}global[f(1516)+f(1350)+"nnel"]=function(e){var t=f;return e&&e[t(966)+"d"]&&(d.cVAvJ(t(687),d.APvst)?g.set(e.guildId,e):(n(r[t(454)+t(732)]),s[t(454)+"meout"]=null)),global[t(682)+t(1334)+"VoiceC"+t(972)](e)},d[f(1480)](this["_voiceStateU"+f(1503)+"andlers"].length,0)&&(this[f(559)+"StateU"+f(1503)+f(741)+"s"].forEach(e=>{var t=f;d[t(1114)]!==t(1151)?n["voiceC"+t(972)+"Configs"].set(r[t(966)+"d"],s):this[t(644)]&&e&&this[t(644)][t(566)](t(423)+t(973)+t(1211),e)}),this["_voice"+f(1146)+"pdateH"+f(741)+"s"]=[]);var a=(n,e)=>{let r=f,a={oHaAA:"NViwy"};if(n[r(989)].id===this.client[r(662)].id&&n.channel&&!e.channel){e=d[r(1132)](s,n[r(1471)].id);if(e){const i=!1!==e.node[r(899)+"s"]?.[r(1271)+r(949)],o=d.aIHOA(e[r(588)].options?.["leaveO"+r(969)],!1);if((!i||!o)&&(e[r(1270)+r(1359)]()||0<e[r(1236)][r(907)][r(1319)])){let e=g[r(1107)](n.guild.id);e&&d.RASmN(setTimeout,()=>{var n=r;if("imUEf"===a.oHaAA)return g?i:l?(o=new e(t),u):null;try{global["joinVo"+n(1350)+n(834)](e)}catch(e){c[n(730)](n(1284)+" to re"+n(556)+n(414)+"r voic"+n(1389)+"e upda"+n(1099)+e[n(1220)+"e"])}},5e3)}}}};this.client.on(d[f(1185)],a),this["_voice"+f(1146)+f(1503)+f(741)+"s"][f(696)](a)}}catch(e){Logger[f(730)]("Failed to se"+f(729)+"nnection pat"+f(1110)+" "+e.message)}}["patchN"+Y(962)+"ection"](r){let a=Y,i={Liigg:function(e,t){return e===t},fHKuh:"Repeat"+a(483)+"rrent "+a(466),HROGC:function(e,t){return e===t},DCDDg:function(e,t){return e===t},Ecmna:a(382)};try{if(r&&!r["_custo"+a(1296)+"ed"]){if(r[a(1341)+"mPatched"]=!0,global[a(556)+"tionsP"+a(549)]&&i[a(431)](typeof global[a(556)+a(1368)+a(549)][a(803)+a(1543)+a(1413)],"function")){if(!i.DCDDg(i.Ecmna,i.Ecmna))return null;r["voiceC"+a(1543)+a(1413)]&&global[a(556)+a(1368)+a(549)]["patchC"+a(1543)+a(1413)](r[a(1119)+"onnection"])}r[a(599)+"nect"]&&i.HROGC(typeof r[a(599)+a(830)],"function")&&!r["_origi"+a(1145)+"connect"]&&("cGwwe"!==a(580)?(r._originalDisconnect=r["discon"+a(830)],r[a(599)+"nect"]=()=>{var e=a,t=i.Liigg(global.config[e(1594)]?.["LeaveO"+e(949)],!0),n=!0===global[e(548)][e(1594)]?.[e(1006)+e(969)];return t||n?r[e(934)+e(1145)+"connect"]():null}):(f=g.TRACK,h=i[a(957)]))}}catch(e){Logger[a(730)]("Error patching new"+a(1537)+a(1550)+" "+e)}}async["handle"+Y(1235)+Y(984)+Y(1275)](n){var r=Y,a={xoAwP:function(e,t){return e!==t},ktMeL:"pCyjC",KlzBl:r(1379),jVUPa:"? Ther"+r(1473)+r(1302)+"ve music que"+r(1605),infij:"shuffle",CtnqB:r(434),DUdIQ:"music_volume"+r(545),pxJFV:"music_volumeup",XNKWz:r(1414),NhTbR:r(434)+r(545),nqmrI:"TtwQH"};try{const e=n[r(1597)+"Id"].split("_")[1];if(e===r(435))return this[r(1404)+"PlayButton"](n);let t=this[r(1337)].nodes[r(1107)](n[r(966)+"d"]);if(!t||!t["connec"+r(799)]){if(a[r(1346)](a[r(474)],a.KlzBl))return await n.followUp({content:a.jVUPa,flags:MessageFlags.Ephemeral});e=t[r(510)+r(455)][r(574)+"me"]}switch(e){case"playpause":await this["handlePlayPa"+r(1432)+"ton"](n,t);break;case r(1571):await this[r(1404)+"SkipButton"](n,t);break;case"previous":await this["handle"+r(1415)+"usButton"](n,t);break;case r(1311):await this["handle"+r(1223)+r(1241)](n,t);break;case"loop":await this["handle"+r(1372)+r(1241)](n,t);break;case a[r(970)]:await this[r(1404)+"ShuffleButton"](n,t);break;case a.CtnqB:try{let e=(new ActionRowBuilder)[r(1464)+"ponents"]((new ButtonBuilder)["setCus"+r(1472)](a.DUdIQ).setEmoji("üîâ")[r(688)+"el"]("-10%")[r(1321)+"le"](ButtonStyle["Second"+r(1097)]),(new ButtonBuilder).setCustomId(a[r(403)])[r(1177)+"ji"]("üîä").setLabel(a.XNKWz)[r(1321)+"le"](ButtonStyle.Secondary));await n.followUp({content:r(889)+r(551)+r(1162)+"**"+t.node.volume+r(486)+"e the button"+r(880)+r(568)+r(1310),components:[e],flags:MessageFlags["Epheme"+r(753)]})}catch(e){if(r(453)===r(430))throw t[r(730)]("Error "+r(734)+"playQu"+r(1424)+r(410)+g),h;Logger[r(730)]("Error "+r(1053)+r(1478)+"me con"+r(902)+" "+(e[r(378)]||e))}break;case r(434)+"up":await this["handle"+r(664)+r(1305)+"on"](n,t);break;case a.NhTbR:await this["handleVolumeDownBu"+r(1241)](n,t);break;default:await n.followUp({content:"? Unknown mu"+r(860)+"tton a"+r(408),flags:MessageFlags.Ephemeral})}}catch(e){Logger.error(r(1250)+"handling music but"+r(1245)+r(425)+"ion: "+(e[r(378)]||e));try{return n.deferred||n[r(484)+"d"]?n.followUp({content:r(1565)+"r performing music"+r(1112)+r(1248)+e[r(1220)+"e"],flags:MessageFlags.Ephemeral}).catch(()=>{}):n[r(1166)]({content:r(1565)+r(570)+"orming music"+r(1112)+"n: "+e[r(1220)+"e"],flags:MessageFlags[r(392)+r(753)]})[r(793)](()=>{})}catch(e){a[r(527)]!==r(563)?Logger[r(730)](r(1284)+r(850)+"nd fin"+r(1227)+"or message: "+e):f[r(730)](r(1421)+" playback er"+r(1199)+g.message+r(1180)+"ild "+(h[r(832)+"ta"]?.guild?.id||r(628)+"n"))}}}async["handle"+Y(995)+"tton"](a){const i=Y,o={NYpAG:i(497)+i(1316),fVooL:"Never "+i(1089)+"Give Y"+i(1563),ZpHIQ:"fDvIi"};try{let e=a[i(989)].voice.channel;if(!e)return a.reply({content:"? You need to be i"+i(1448)+"ice channel to play music.",flags:MessageFlags[i(392)+"ral"]});let t=(new ModalBuilder)[i(672)+"tomId"]("music_play_s"+i(1634))[i(954)+"le"](o[i(1056)]),n=(new TextInputBuilder)[i(672)+i(1472)]("song_q"+i(635)).setLabel("Enter "+i(1479)+" name "+i(487)).setStyle(TextInputStyle.Short).setPlaceholder(o.fVooL)[i(1405)+"uired"](!0),r=(new ActionRowBuilder)["addCom"+i(1354)+"s"](n);t[i(1464)+"ponents"](r),await a[i(685)+i(1195)](t)}catch(t){i(1575)!==i(1575)?o="```\nNo"+i(979)+i(781)+i(806)+i(1494)+"queue.\n```":(Logger[i(730)]("Error showin"+i(1606)+" music modal: "+(t[i(378)]||t)),a[i(484)+"d"]||(i(749)===o.ZpHIQ?e.error("Error checking for"+i(792)+"ing queue: "+f):await a[i(1166)]({content:"? Failed to "+i(1447)+"lay dialog: "+t[i(1220)+"e"],flags:MessageFlags[i(392)+i(753)]})))}}async["handlePlayPa"+Y(1432)+Y(456)](t,e){var n=Y,r={GWBdN:function(e,t){return e/t},VtSuM:function(e,t){return e===t},MBSCU:n(1559)};try{if(e.node.isPaused())e.node.resume(),await t.followUp({content:getMusicLang(n(1214)+"s.Resumed"),flags:MessageFlags.Ephemeral});else if(r.VtSuM(n(1559),r.MBSCU))e[n(588)].pause(),await t.followUp({content:getMusicLang(n(1214)+n(377)+"ed"),flags:MessageFlags[n(392)+n(753)]});else{var a,i=r.from(this["player"+n(1538)+"es"][n(503)+"s"]());for([a]of i[n(926)](0,f.floor(r.GWBdN(i[n(1319)],3))))this[n(1337)+"Messages"][n(1633)](a)}}catch(e){if("palZl"!==n(809))return 0;Logger[n(730)](n(1250)+"toggli"+n(1169)+n(606)+" "+(e[n(378)]||e)),await t[n(1402)+"Up"]({content:"? Fail"+n(1210)+"toggle"+n(1589)+"ack: "+e[n(1220)+"e"],flags:MessageFlags[n(392)+n(753)]})}}async["handle"+Y(1111)+Y(1241)](t,e){var n,r=Y,a={pZrAt:function(e,t){return e/t},rrIGd:function(e,t){return e/t},GTtgm:function(e,t){return e%t},FJgdP:function(e,t){return e%t},tDkJO:"current track"};try{return e[r(1270)+"ing"]()?(n=e.currentTrack,await e[r(588)].skip(),await t.followUp({content:r(1493)+"ped **"+(n?.title||a[r(1438)])+"**",flags:MessageFlags[r(392)+"ral"]})):await t[r(1402)+"Up"]({content:"? Nothing is"+r(402)+"ntly playing.",flags:MessageFlags[r(392)+r(753)]})}catch(e){if(r(1213)===r(1018)){let e=h.floor(a.pZrAt(e,3600)),t=t[r(1623)](a[r(983)](a[r(788)](n,3600),60)),n=a[r(1314)](l,60);return 0<e?e+":"+t.toString().padStart(2,"0")+":"+n[r(1614)+"ng"]()[r(727)+"rt"](2,"0"):t+":"+n[r(1614)+"ng"]().padStart(2,"0")}Logger[r(730)](r(1250)+r(1531)+r(536)+r(782)+(e.stack||e)),await t[r(1402)+"Up"]({content:r(786)+r(1210)+"skip t"+r(1598)+e[r(1220)+"e"],flags:MessageFlags[r(392)+r(753)]})}}async["handle"+Y(1415)+"usButton"](t,e){var n,r=Y;try{return e["isPlay"+r(1359)]()?e[r(1560)+"y"]&&e.history[r(765)+r(908)+"k"]?(n=e[r(1560)+"y"][r(765)+"usTrack"]?.title||"previous track",await e[r(1560)+"y"][r(751)](),await t[r(1402)+"Up"]({content:r(538)+"g back"+r(409)+n+"**",flags:MessageFlags[r(392)+"ral"]})):await t[r(1402)+"Up"]({content:"? Ther"+r(1473)+"o prev"+r(1009)+r(914)+"n the "+r(1560)+"y.",flags:MessageFlags[r(392)+"ral"]}):await t[r(1402)+"Up"]({content:"? Noth"+r(1628)+" currently playing.",flags:MessageFlags.Ephemeral})}catch(e){Logger.error("Error going to pre"+r(1612)+r(554)+" "+(e.stack||e)),await t.followUp({content:r(786)+"ed to "+r(1133)+r(765)+"us track: "+e.message,flags:MessageFlags[r(392)+r(753)]})}}async[Y(1404)+Y(1223)+"tton"](n,a){let o=Y,s={FMTBx:function(e,t){return t<e},NLmQM:function(e,t){return t<e},jqExn:function(e,t){return e-t},CuXZG:function(e,t){return e===t},npDLX:o(1274),JYIbM:"np_empty",ZBzKy:o(1214)+o(754)+o(725),eVvxI:function(e,t){return e!==t},OZYqw:o(1638)};try{if("xmUoV"!==o(1603))return null;{let t=s.FMTBx(a.tracks.size,0),r=n[o(951)+"l"];if(s[o(769)](a[o(832)+"ta"]?.[o(1288)+o(775)+"ssages"]?.length,0)&&r){if("xSmcW"===o(1074))return this["active"+o(1409)][o(1633)](r),h(i),void(j.metadata[o(1288)+o(947)+"terval"]=null);try{let e=a.metadata[o(1288)+"yingMe"+o(1176)][s[o(1380)](a[o(832)+"ta"]["nowPlayingMe"+o(1176)][o(1319)],1)],n=await r.messages.fetch(e)[o(793)](()=>null);if(n&&!t)if(s[o(1507)](s.npDLX,o(1031)))s[o(696)](t.tracks[0]);else{let e=await this["createEmptyN"+o(386)+"ingCanvas"](),t=createTempFile(s[o(971)],".png");fs[o(1320)+"ileSync"](t,e[o(515)+"er"]()),await n.edit({content:null,embeds:[],components:[],files:[{attachment:t,name:path[o(544)+"me"](t)}]}),setTimeout(()=>{var e=o;try{fs[e(567)+e(1399)](t)}catch(e){}},5e3)}}catch(e){}}a[o(1633)](),await n.followUp({content:getMusicLang(s.ZBzKy),flags:MessageFlags["Epheme"+o(753)]})}}catch(e){s[o(900)](o(1638),s.OZYqw)?s[o(730)]("[NowPl"+o(1024)+" Error"+o(762)+"ng tim"+o(616)+": "+f.message):(Logger[o(730)](o(1250)+"stoppi"+o(1169)+o(606)+" "+(e[o(378)]||e)),await n[o(1402)+"Up"]({content:"? Fail"+o(1210)+o(1551)+"laybac"+o(522)+e[o(1220)+"e"],flags:MessageFlags[o(392)+o(753)]}))}}async[Y(1404)+"LoopBu"+Y(1241)](s,u){var l=Y,c={HeRlf:function(e,t){return e!==t},XTsie:l(458),pOstw:function(e,t){return e===t},MZXmE:"CPvTI",NkCYo:"Loop m"+l(658)+"sabled",piSPS:function(e,t){return e===t},jyEsS:"qytIg"};try{if(!c.HeRlf("cdglM",c[l(1381)])){let e=require(l(1116)+l(838)+"er").QueueRepeatMode,t=u.repeatMode,a,i;return t===e[l(1057)]?(a=e[l(1630)],i="Repeating current track"):c[l(854)](t,e[l(1630)])?(a=e.QUEUE,i=l(457)+"ing entire queue"):l(1548)===c[l(677)]?(a=e.OFF,i=c.NkCYo):(i[k[l(966)+"d"]]||(q[r[l(966)+"d"]]=[]),n[o[l(966)+"d"]][l(696)](p)),u.setRepeatMode(a),await s.followUp({content:l(844)+i,flags:MessageFlags.Ephemeral})}u=!1}catch(e){c.piSPS(l(742),c[l(1385)])?f<g&&this[l(485)+"ssedTr"+l(831)][l(1633)](i):(Logger[l(730)](l(1250)+"setting loop mode: "+(e[l(378)]||e)),await s.followUp({content:"? Fail"+l(1210)+"set loop mode: "+e.message,flags:MessageFlags[l(392)+l(753)]}))}}async["handleShuffleButton"](t,e){var n=Y,r={wzgjB:n(980)+"e are "+n(829)+n(929)+n(1075)+"ueue to shuffle."};try{return 0===e[n(1236)][n(997)]?await t[n(1402)+"Up"]({content:r.wzgjB,flags:MessageFlags[n(392)+"ral"]}):(e.tracks.shuffle(),await t[n(1402)+"Up"]({content:n(1233)+"fled t"+n(1401)+"ue ("+e.tracks.size+n(767)+"s)",flags:MessageFlags.Ephemeral}))}catch(e){Logger.error("Error "+n(1592)+n(1101)+n(904)+(e.stack||e)),await t.followUp({content:"? Fail"+n(1210)+"shuffl"+n(1393)+"e: "+e[n(1220)+"e"],flags:MessageFlags["Epheme"+n(753)]})}}async[Y(1404)+"PlayMo"+Y(470)+Y(1028)](a){var i=Y,o={KtlJh:i(1153)+"need t"+i(1198)+i(1448)+"ice ch"+i(876)+"to play music.",OvLiP:"? You "+i(802)+"e in t"+i(1121)+i(707)+"e channel as"+i(1267)+"ot to "+i(558)+i(1375),FQWCY:i(1568),LzNrj:"BheMT",QVVOa:function(e,t,n){return e(t,n)},vcOwS:function(e,t){return t<e},UsSMn:function(e,t){return e===t},vcAgv:i(473),aVHwT:function(e,t){return e!==t},VNlVO:function(e,t){return e!==t},CyiHo:"dlRKm",GcvqS:"? An error occurre"+i(1066)+"e tryi"+i(1325)+"play music."};try{let t=a.fields["getTextInput"+i(561)]("song_query"),r=(await a[i(982)+i(1083)]({flags:MessageFlags[i(392)+i(753)]}),a[i(989)][i(1266)].channel);if(!r)return a[i(578)+"ply"](o[i(924)]);var n=a.guild[i(989)+"s"].me.voice.channel;if(n&&r.id!==n.id)return a["editRe"+i(801)](o[i(898)]);try{if("Croru"!==o[i(602)]){var s=await searchWithFuzzy(t,a.user);if(!s[i(931)+"s"]){if("BheMT"===o[i(808)]){let n=o[i(1508)](getMusicLang,i(1295)+".NoResults",{query:t});return s[i(1230)+"tions"]&&o[i(895)](s[i(1230)+"tions"][i(1319)],0)&&(o[i(1578)](i(473),o.vcAgv)?(n+=i(1194)+i(607)+"u mean"+i(1103),s[i(1230)+i(1328)][i(525)+"h"]((e,t)=>{n+="‚Ä¢ "+e.title+"\n"})):delete t["musicD"+i(760)].nowPlayingMessages[r]),a.editReply(n)}t[i(730)]("Error "+i(1584)+"ng now"+i(1189)+"g mess"+i(807)+i(652)+i(1487)+i(710)+r)}var u,l=await this[i(435)](r,s.result,a,!0,{playTop:!1,skipCurrent:!1});let e=i(439)+i(492)+"d";return("fuzzy"===s.type&&(o[i(1318)]("JhoKD","JhoKD")?t[i(730)]("Error "+i(1530)+i(981)+" after queue end: "+r):e+=i(1150)+i(1251)+"milar match "+i(552)+i(1225)+i(1175)),l[i(931)+"s"])?a[i(578)+i(801)](e):o.VNlVO(i(1451),"fZORe")?(u=t.slice(-5),void this["player"+i(1538)+"es"][i(513)](r,u)):a[i(578)+i(801)]("‚ùå "+(l.message||"An err"+i(540)+i(1462)+i(625)+i(1189)+i(1118)+i(572)))}}catch(e){return Logger[i(730)]("Error searching for trac"+i(1082)+(e[i(378)]||e)),a[i(578)+i(801)](i(1035)+"r searching "+i(817)+i(639)+e[i(1220)+"e"])}}catch(t){Logger[i(730)]("Error "+i(1396)+"al mus"+i(968)+"y handler: "+(t.stack||t));try{return a[i(737)+"ed"]?o[i(1265)]!==i(514)?a[i(578)+i(801)](i(498)+"rror occurred while trying to "+i(558)+"usic."):void e["joinVoiceCha"+i(834)](f):a[i(1166)]({content:o.GcvqS,flags:MessageFlags[i(392)+i(753)]})}catch(e){Logger[i(730)](i(1284)+" to re"+i(1264)+i(390)+i(626)+e)}}}async[Y(1404)+Y(476)+"avigation"](t,n,r){var a,i,o=Y,s={yeUuL:function(e,t){return e(t)},NkjkY:function(e,t){return e(t)},QdeXR:"prev",TQiWx:o(379)};try{t.deferred||t[o(484)+"d"]||await t[o(1046)+o(738)]();let e=1;t[o(1220)+"e"][o(1406)][0]&&t.message[o(1406)][0][o(848)]&&(a=t[o(1220)+"e"][o(1406)][0].footer[o(447)].match(/Page (\d+)\/(\d+)/))&&(e=s.yeUuL(parseInt,a[1]),i=s.NkjkY(parseInt,a[2]),r===s[o(401)]?e=Math[o(1620)](1,e-1):r===s.TQiWx&&(e=Math.min(i,e+1))),await this[o(804)+o(1033)+o(1377)](t,n,e)}catch(e){Logger[o(730)]("Error "+o(1383)+"dleQueueNavigation: "+(e.stack||e)),await t[o(1402)+"Up"]({content:"? Failed to "+o(1506)+"te que"+o(1604)+e[o(1220)+"e"],flags:MessageFlags["Epheme"+o(753)]})[o(793)](()=>{})}}async["displayQueue"+Y(1377)](d,v,w){let y=Y,m={Crspb:"clientReady",wWFzC:function(e,t){return e===t},XmJEx:function(e,t){return e+t},NLbjb:function(e,t){return e*t},FomTp:function(e,t){return e+t},UWoco:function(e,t){return e%t},wdUEt:function(e,t){return e(t)},GGtuL:"0:00",YOowI:function(e,t){return e(t)},uoblF:function(e,t){return e-t},Ancnf:function(e,t){return e&&t},bmDHu:"autoloop",lyrOe:function(e,t){return e(t)},pifUQ:"onuXm",JODMo:function(e,t){return e(t)},FFAjg:function(e,t){return e/t},wkclm:"wjDWO",CTihD:y(1410),ggLbt:function(e,t){return e===t},oHXsi:"queue_page",XyDDb:"queue_next",eyiFp:y(1005)+"refresh"};try{if("HeKbw"===m.pifUQ)this[y(644)].once(m[y(977)],v);else{let t=v.tracks[y(1533)+"y"](),r=Math.max(Math.ceil(t.length/10),1),a=Math[y(1297)](Math[y(1620)](w,1),r),i=10*(a-1),n=Math[y(1297)](10+i,t.length),o=e=>{var t=y;return e?(e=e[t(508)](":")[t(1343)](Number),m[t(893)](e.length,3)?m[t(813)](m[t(495)](e[0],3600),m[t(495)](e[1],60))+e[2]:2===e[t(1319)]?m.FomTp(60*e[0],e[1]):0):0},s=e=>{var t=y;if(t(444)===t(444))return e=Math[t(1623)](e/1e3),Math[t(1623)](e/60)+":"+m[t(1172)](e,60)[t(1614)+"ng"]()[t(727)+"rt"](2,"0");w(m),this["update"+t(733)+t(1460)][t(1633)](h)},u=v[y(789)+y(1456)],l=u.duration||(0<u[y(1586)+y(1364)]?m[y(999)](s,u["durati"+y(1364)]):y(704));if(l===m.GGtuL&&isDeezerTrackUrl(u[y(985)]))try{var L=await getDeezerTrackInfo(u[y(985)]);L?.duration&&(l=L.duration)}catch(e){}var p=o(l),M=t.reduce((e,t)=>{var n=y,t=t[n(1586)+"on"]||(0<t["durati"+n(1364)]?m.wdUEt(s,t.durationMS):m.GGtuL);return m[n(1536)](e,m.YOowI(o,t))},p);let c="Unknown",g=(u[y(510)+"tedBy"]&&("autoloop"===u["reques"+y(455)].id?c="üîÑ Auto Loop":u["reques"+y(455)].id?c="<@"+u[y(510)+"tedBy"].id+">":typeof u[y(510)+y(455)]===y(1582)?c=u.requestedBy:u[y(510)+"tedBy"].username&&(c=u.requestedBy[y(574)+"me"])),"");if(global.config[y(1594)]["ShowProgress"+y(1139)])try{var z,C,D,B=v[y(588)][y(1419)+y(616)]();B&&B[y(1458)]&&0<B.total.value&&(z=Math.min(m[y(429)](B[y(789)+"t"].value,B[y(1458)][y(586)]),1),D=20-(C=Math.floor(20*z)),g="\n"+"‚ñ∞".repeat(C)+"‚ñ±".repeat(D)+" `"+B.current[y(1596)]+"/"+B.total[y(1596)]+"`")}catch(e){}let f="";if(m[y(893)](t[y(1319)],0))if(m.wkclm!==m.CTihD)f="```\nNo"+y(979)+"ing tr"+y(806)+y(1494)+"queue.\n```";else{let n=t.metadata[y(1288)+y(775)+y(1176)][m[y(1476)](r[y(832)+"ta"]["nowPla"+y(775)+y(1176)].length,1)],e=a.metadata.channel?.id;m.Ancnf(n,e)&&s["update"+y(1135)]({guildId:u},{$set:{nowPlayingMessageId:n,nowPlayingChannelId:e,currentTrack:null,queue:[],updatedAt:new l}},{upsert:!0})[y(793)](e=>{var t=y;n.error("Error "+t(481)+"ving queue data: "+e)})}else{if(m.wWFzC(y(1450),y(1572)))return null;f=t.slice(i,n)[y(1343)]((e,t)=>{var n=y;let r="";e[n(510)+n(455)]&&(e.requestedBy.id===m.bmDHu?r="üîÑ":e["reques"+n(455)].id?r="üë§":typeof e.requestedBy===n(1582)?r=e[n(510)+n(455)]:e[n(510)+"tedBy"][n(574)+"me"]&&(r=e[n(510)+"tedBy"][n(574)+"me"]));var a=e[n(1586)+"on"]||(0<e["durati"+n(1364)]?m[n(705)](s,e[n(1586)+"onMS"]):n(704));return"`"+(""+(i+t+1)).padStart(2,"0")+n(1446)+e.title+"]("+e.url+")\n    "+n(1618)+a+"` "+r}).join("\n")}var b,x=this["getAutoLoopS"+y(1370)](d.guild.id)?y(1038)+"uto Lo"+y(1209)+y(916):"",q=(new EmbedBuilder).setColor(parseInt(global.config.Music.EmbedColor?.replace("#","")||"5865F2",16))[y(1552)+"hor"]({name:"üéµ Music Queue",iconURL:d[y(1471)].iconURL()})[y(739)+"lds"]({name:y(1467)+"Playing",value:y(1443)+u.title+"]("+u.url+")**\n`‚è±Ô∏è "+l+y(1278)+c+g,inline:!1},{name:"üìã Upcoming Tracks ("+t[y(1319)]+")",value:f||y(521),inline:!1})[y(1632)+"ter"]({text:"Page "+a+"/"+r+y(1276)+"al Duration: "+(t=>{var n,r,a=y;if("sHWfF"!==a(948))return n=Math.floor(t/3600),r=Math.floor(t%3600/60),t=t%60,0<n?n+":"+r.toString()[a(727)+"rt"](2,"0")+":"+t.toString()[a(727)+"rt"](2,"0"):r+":"+t[a(1614)+"ng"]().padStart(2,"0");e.voiceChannelConfigs[a(1633)](w)})(M)+x}),P=[];1<r&&(b=(new ActionRowBuilder)[y(1464)+"ponents"]((new ButtonBuilder)[y(672)+y(1472)]("queue_prev").setEmoji("‚èÆÔ∏è").setStyle(ButtonStyle.Primary)[y(843)+y(1087)](m.ggLbt(a,1)),(new ButtonBuilder).setCustomId(m.oHXsi).setLabel(a+" / "+r)[y(1321)+"le"](ButtonStyle[y(1015)+"ary"])["setDis"+y(1087)](!0),(new ButtonBuilder)[y(672)+"tomId"](m.XyDDb)[y(1177)+"ji"]("‚è≠Ô∏è")[y(1321)+"le"](ButtonStyle.Primary)[y(843)+y(1087)](a===r),(new ButtonBuilder)["setCus"+y(1472)](m.eyiFp).setEmoji("üîÑ").setStyle(ButtonStyle[y(1015)+y(1097)])),P.push(b)),await d.editReply({embeds:[q],components:P})}}catch(e){throw Logger.error(y(1250)+y(734)+"playQueuePag"+y(410)+e),e}}["create"+Y(892)+Y(595)](e,t,n=15,r="?",a="?"){var i=Y,o={dzLDT:function(e,t){return e*t},mgWBp:function(e,t){return e-t},Dgfnk:function(e,t){return e+t}};return t&&0!==t?(e=Math.min(Math.max(e/t,0),1),t=Math.round(o[i(1191)](n,e)),e=o.mgWBp(n,t),o.Dgfnk(r.repeat(t),a[i(1505)](e))):a.repeat(n)}async["handle"+Y(664)+"UpButton"](t,e){var n=Y;try{var r=e.node.volume,a=Math[n(1297)](r+10,100);return e.node[n(446)+n(1497)](a),await t[n(1402)+"Up"]({content:"üîä Volu"+n(1407)+n(1067)+n(507)+a+"%",flags:MessageFlags.Ephemeral})}catch(e){Logger[n(730)](n(1250)+n(543)+n(1280)+"olume: "+(e[n(378)]||e));try{await t[n(1402)+"Up"]({content:"? Fail"+n(1210)+"increase volume: "+e.message,flags:MessageFlags["Epheme"+n(753)]})}catch(e){Logger.error("Failed"+n(850)+"nd follow-up"+n(623)+"ge: "+e)}}}async[Y(1404)+Y(664)+Y(1581)+"tton"](t,e){var n=Y;try{var r=e[n(588)][n(434)],a=Math[n(1620)](r-10,0);return e[n(588)]["setVol"+n(1497)](a),await t.followUp({content:"üîâ Volume decreased"+n(507)+a+"%",flags:MessageFlags[n(392)+n(753)]})}catch(e){Logger.error(n(1250)+"decrea"+n(1280)+n(795)+" "+(e.stack||e));try{await t[n(1402)+"Up"]({content:n(786)+n(1210)+n(1617)+"se volume: "+e.message,flags:MessageFlags.Ephemeral})}catch(e){Logger[n(730)](n(1284)+n(850)+"nd follow-up"+n(623)+n(853)+e)}}}[Y(1361)+Y(638)+"Listeners"](){let r=Y,a={wRSFh:function(e,t){return e!==t},LNWTn:"gAPxe",MqrfF:r(1416),oLlII:"voiceS"+r(973)+r(1211),XRprX:r(1131),cGrcy:function(e,t){return e(t)},paTxl:function(e,t){return t<e}};try{if("MctRv"!==a[r(519)])e.error("Error "+r(1584)+"ng nowplayin"+r(939)+"age fo"+r(652)+r(1487)+r(710)+f);else{for(let[e,t]of this["active"+r(1409)][r(503)+"s"]())clearInterval(t);this.activeTimers[r(380)](),this[r(1361)+"pInterval"]&&(a[r(1073)](clearInterval,this.cleanupInterval),this.cleanupInterval=null),tempCleanupInterval&&clearInterval(tempCleanupInterval),this["autoSa"+r(884)+r(1055)]&&(clearInterval(this[r(1163)+"veInterval"]),this.autoSaveInterval=null),this["_voiceStateU"+r(1503)+"andlers"]&&a.paTxl(this["_voiceStateU"+r(1503)+r(741)+"s"].length,0)&&(this[r(559)+"StateUpdateHandlers"][r(525)+"h"](e=>{var t=r;this[t(644)]&&e&&this[t(644)][t(566)](t(423)+"tateUp"+t(1211),e)}),this[r(559)+"StateU"+r(1503)+r(741)+"s"]=[]),this["_patchedVoiceState"+r(1253)+r(821)+"rs"]&&0<this[r(1561)+"edVoiceStateUpdateHandlers"][r(1319)]&&(this["_patch"+r(937)+r(1352)+"Update"+r(821)+"rs"][r(525)+"h"](t=>{let n=r;a[n(1016)](a[n(1431)],n(1356))?this[n(644)]&&t&&(a[n(518)]!==n(524)?this[n(644)].off(a[n(415)],t):i["update"+n(1135)]({guildId:j},{$set:{nowPlayingMessageId:k,nowPlayingChannelId:l,currentTrack:null,queue:[],updatedAt:new m}},{upsert:!0})[n(793)](e=>{var t=n;o.error(t(1250)+t(481)+"ving q"+t(918)+t(837)+e)})):e[n(730)](n(1250)+n(861)+n(1137)+"ue end: "+f)}),this[r(1561)+"edVoiceStateUpdate"+r(821)+"rs"]=[]),this[r(1337)+r(1538)+"es"][r(380)](),this.updateIntervals.clear()}}catch(e){console.error("Error "+r(773)+"ng up music "+r(1440)+"r:",e)}}async["create"+Y(692)+Y(593)+"NowPlaying"](i,o){const s=Y,u={tiaKX:function(e,t){return t<e},tSRXh:function(e,t){return e/t},sLcCc:"uEnNN",jRXnX:"sdOnd",DvWKn:"dGBLX"};try{if(!i||!i.isTextBased()){if("ulpdE"!==u.jRXnX)return null;var l,c=r[s(715)](e.musicData[s(1288)+s(775)+s(1176)]);if(u[s(1030)](c[s(1319)],100))for(l of c[s(926)](0,c[s(1623)](u[s(1518)](c[s(1319)],3))))delete n["musicD"+s(760)][s(1288)+s(775)+"ssages"][l]}let t=await this[s(1468)+"EmptyNowPlayingCan"+s(1353)](),r=createTempFile(s(731)+"ty",".png"),e=(fs[s(1320)+s(763)+"c"](r,t.toBuffer()),(new ActionRowBuilder).addComponents((new ButtonBuilder)[s(672)+s(1472)](s(912)+s(435))[s(1177)+"ji"]("‚ñ∂Ô∏è").setStyle(ButtonStyle["Second"+s(1097)]))),a=await i[s(624)]({embeds:[],components:[e],files:[{attachment:r,name:path.basename(r)}]});return setTimeout(()=>{var e=s;if("uEnNN"!==u.sLcCc)u.error(e(1250)+"in aut"+e(1510)+e(981)+e(794)+e(1279)+e(1330)+t);else try{fs[e(567)+e(1399)](r)}catch{}},5e3),o&&await this["saveNowPlayingMess"+s(650)](o.id,a.id,i.id),a}catch(e){if("dGBLX"===u.DvWKn)return Logger.error("Error creati"+s(411)+"ty now"+s(976)+"ng: "+e),null;u=s(611)+"//img.youtub"+s(1130)+"vi/"+f[1]+s(978)+"ault.jpg"}}async["enableAutoLoop"](e){var t=Y;try{return await this["autoLo"+t(890)+t(674)].enableAutoLoop(e)}catch(e){if(t(1069)===t(1069))return Logger[t(730)](t(1250)+t(472)+"ng auto-loop: "+e),!1;this["saveQu"+t(958)]()}}async["disabl"+Y(632)+"oop"](e){var t=Y;try{return await this["autoLo"+t(890)+"ger"][t(693)+t(632)+"oop"](e)}catch(e){return Logger[t(730)](t(1250)+t(693)+"ing auto-loo"+t(776)+e),!1}}[Y(1123)+Y(1301)+Y(1087)](e){var t=Y;return this[t(897)+t(890)+t(674)]["isAutoLoopEn"+t(1087)](e)}[Y(718)+Y(941)+Y(1370)](e){var t=Y;return this[t(897)+t(890)+"ger"][t(718)+"oLoopS"+t(1370)](e)}["cleanupDataS"+Y(761)+"res"](){var n=Y,r={dCPPZ:function(e,t){return t<e},oAxMu:function(e,t){return e===t},XiLZl:n(1168),GwUjs:"xsYCE"};try{if(100<this[n(1337)+"Messages"][n(997)]){let e=Array[n(863)](this["player"+n(1538)+"es"][n(503)+"s"]()),t=e[n(926)](0,Math.floor(e[n(1319)]/3));for(let[e]of t)this["player"+n(1538)+"es"].delete(e)}if(r[n(391)](this["updateInterv"+n(1460)].size,50)){let e=Array[n(863)](this[n(857)+n(733)+n(1460)].entries()),t=e.slice(0,Math.floor(e[n(1319)]/2));for(var[a,i]of t){if(!r[n(629)]("iiWSk",r.XiLZl))return d["editRe"+n(801)]("? You need t"+n(1198)+"n a vo"+n(1122)+n(876)+"to play music.");clearInterval(i),this[n(857)+n(733)+n(1460)].delete(a)}}if(global[n(717)+n(760)]&&global.musicData["nowPlayingMe"+n(1176)]){var t,o=Object[n(715)](global[n(717)+n(760)]["nowPla"+n(775)+n(1176)]);if(100<o[n(1319)])for(t of o.slice(0,Math.floor(o[n(1319)]/3)))"twLwb"===n(1287)?delete global.musicData[n(1288)+n(775)+n(1176)][t]:e.error("Error handli"+n(536)+"ck fin"+n(1196)+f)}if(global[n(1119)+"hannelConfigs"]&&global["voiceC"+n(972)+"Configs"]instanceof Map&&100<global["voiceC"+n(972)+"Configs"].size){var s,u=this.client?new Set(this[n(644)][n(993)][n(1289)].keys()):new Set;for([s]of global[n(1119)+"hannelConfigs"][n(503)+"s"]())u.has(s)||("OFLHK"!==r[n(1616)]?global["voiceChannel"+n(667)+"s"].delete(s):(f(g),this["updateInterv"+n(1460)].delete(h)))}}catch(e){"keKPw"!==n(721)?console.error("Error "+n(1001)+"ic man"+n(530)+"leanup:",e):(f(this.activeTimers.get(g)),this.activeTimers.delete(h))}}[Y(934)+Y(670)+"anupDa"+Y(633)+Y(974)](){var n,r=Y,a={HcieD:function(e,t){return e!==t},UfJGT:function(e,t){return t<e},xYvng:"knliy"};try{if(a[r(873)]("fUMza","EZULl")){for(let[e,t]of this[r(1337)+r(1538)+"es"].entries())a.UfJGT(t[r(1319)],5)&&(n=t[r(926)](-5),this[r(1337)+"Messages"].set(e,n));var t,i,o=new Set(this[r(1337)]?.nodes?.[r(1289)]?.[r(715)]()||[]);for([t,i]of this.updateIntervals[r(503)+"s"]())o[r(684)](t)||(a[r(520)]!==r(911)?(clearInterval(i),this["update"+r(733)+"als"][r(1633)](t)):e.error("Error "+r(1530)+r(1547)+r(1322)+r(1220)+"e to M"+r(1437)+": "+f));this[r(485)+"ssedTr"+r(831)]&&1e3<this[r(485)+"ssedTr"+r(831)].size&&this[r(485)+"ssedTracks"].clear()}else e[r(479)+"eatMode"](f[r(1505)+"Mode"])}catch(e){Logger[r(730)](r(1250)+r(1001)+"ic man"+r(530)+"leanup: "+e)}}[Y(894)+Y(1601)+"r"](e,t){var n=Y;return this.activeTimers.has(e)&&clearInterval(this.activeTimers[n(1107)](e)),this[n(1441)+n(1409)][n(513)](e,t),t}}function getMusicManager(e=null){return _instance||(e?_instance=new MusicManager(e):null)}module[Y(1061)+"s"]={MusicManager:MusicManager,getMusicManager:getMusicManager};