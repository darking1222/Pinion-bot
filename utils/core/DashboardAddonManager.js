let Q=b,fs=((()=>{for(var e=b,r=a();;)try{if(269622==+parseInt(e(377))+-parseInt(e(355))/2*(-parseInt(e(428))/3)+parseInt(e(399))/4+-parseInt(e(401))/5+-parseInt(e(393))/6+parseInt(e(429))/7*(-parseInt(e(422))/8)+-parseInt(e(405))/9*(parseInt(e(439))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}})(),require("fs")),path=require(Q(394));function b(n,e){let o=a();return(b=function(e,r){e-=355;let t=o[e];void 0===b.IxqqLf&&(b.zZxjjM=function(a){let n="",t="";for(let e=0,r,t,s=0;t=a.charAt(s++);~t&&(r=e%4?64*r+t:t,e++%4)&&(n+=String.fromCharCode(255&r>>(-2*e&6))))t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(t);for(let e=0,r=n.length;e<r;e++)t+="%"+("00"+n.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(t)},n=arguments,b.IxqqLf=!0);var e=e+o[0],s=n[e];return s?t=s:(t=b.zZxjjM(t),n[e]=t),t})(n,e)}class DashboardAddonManager{constructor(){var e=Q;this[e(370)]=new Map,this[e(360)+"ms"]=new Map,this["apiRou"+e(367)]=new Map,this.addonAssets=new Map}[Q(441)+"erPage"](e,r){var t=Q,s=e+":"+r.path;return this[t(370)][t(362)](s,{addonName:e,path:r[t(394)],component:r[t(416)+t(427)],title:r.title||e,permission:r[t(388)+t(409)]||null,requiredRoles:r.requiredRoles||null,props:r[t(419)]||{}}),s}[Q(441)+"erNavI"+Q(412)](e,r){var t=Q,s=e+":"+r[t(394)];return this[t(360)+"ms"][t(362)](s,{addonName:e,name:r[t(414)],path:r[t(394)],icon:r.icon||null,emoji:r.emoji||"ðŸ“¦",permission:r[t(388)+t(409)]||null,requiredRoles:r[t(423)+t(426)+"s"]||null,order:r.order||100}),s}["registerApiR"+Q(356)](e,r){var t=Q,s=(r[t(408)]||t(363))["toLowe"+t(433)](),a=e+":"+s+":"+r.path;return this[t(447)+t(367)][t(362)](a,{addonName:e,method:s,path:r.path,handler:r.handler,middleware:r.middleware||[],requiredRoles:r[t(423)+t(426)+"s"]||null}),a}["registerAssets"](e,r){var t=Q;this.addonAssets[t(362)](e,r)}[Q(397)+"sterAddon"](e){let t=Q,r={PXPcB:t(381)};for(var[s,a]of this.pages){if("sbbLV"===t(432))return r.from(this.navItems[t(372)]()).sort((e,r)=>e[t(373)]-r.order);a[t(369)+t(390)]===e&&this.pages.delete(s)}for(var[n,o]of this.navItems)o["addonN"+t(390)]===e&&this[t(360)+"ms"].delete(n);for(var[i,h]of this.apiRoutes)r[t(407)]===r[t(407)]?h[t(369)+"ame"]===e&&this.apiRoutes.delete(i):this[t(370)].delete(r);this[t(366)+t(395)].delete(e)}["getPages"](){var e=Q;return Array[e(396)](this[e(370)].values())}[Q(420)+Q(357)](){var e=Q;return Array.from(this[e(360)+"ms"][e(372)]())[e(398)]((e,r)=>e.order-r.order)}["getApiRoutes"](){var e=Q;return Array[e(396)](this.apiRoutes.values())}[Q(434)+Q(385)+"ts"](e){var r=Q;return this[r(366)+"ssets"][r(363)](e)}["getAll"+Q(435)](){var e=Q;return Object.fromEntries(this[e(366)+"ssets"])}["getCli"+Q(402)+"fig"](){let r=Q;return{pages:this.getPages()[r(411)](e=>({path:e.path,component:e["compon"+r(427)],title:e.title,permission:e[r(388)+r(409)],requiredRoles:e[r(423)+r(426)+"s"],addonName:e.addonName})),navItems:this["getNav"+r(357)]()[r(411)](e=>({name:e.name,path:e[r(394)],icon:e.icon,emoji:e.emoji,permission:e.permission,requiredRoles:e[r(423)+r(426)+"s"],addonName:e.addonName}))}}async[Q(384)+Q(371)+"hboard"](r,e){let t=Q,s={jkLJD:function(e,r){return e===r},UqxJb:t(413)+"hboard"+t(380)+"r",xSvyZ:function(e,r){return e(r)},OJrTf:t(430)},a=path.join(e,t(415)+"ard");if(!fs[t(400)+"Sync"](a))return{success:!1,reason:s[t(361)]};var n={pages:0,navItems:0,apiRoutes:0,components:[]},o=path.join(a,"config"+t(376));if(fs["exists"+t(437)](o))try{delete require.cache[require[t(382)+"e"](o)];var i=s[t(379)](require,o);if(i.pages)for(var h of i.pages)s.jkLJD("VRwlG",s.OJrTf)?this.navItems.delete(e):(this[t(441)+"erPage"](r,h),n[t(370)]++);if(i.navItems)for(var d of i.navItems)this[t(441)+t(421)+"tem"](r,d),n.navItems++;if(i["apiRou"+t(367)])for(var u of i.apiRoutes)"UsLrD"===t(444)?s.jkLJD(a.addonName,n)&&this[t(447)+"tes"].delete(f):(this.registerApiRoute(r,u),n[t(447)+t(367)]++)}catch(e){return console[t(438)](t(418)+"OARD ADDON] Error "+t(404)+"g config for "+r+":",e),{success:!1,error:e.message}}let f=path[t(440)](a,t(416)+"ents");fs[t(400)+t(437)](f)&&(this[t(441)+t(387)+"ts"](r,f),n[t(416)+t(417)]=fs[t(389)+t(436)](f).filter(e=>e.endsWith(".jsx")||e[t(443)+"th"](t(383))||e.endsWith(t(376))));var m,o=path.join(a,t(370));if(fs[t(400)+t(437)](o))for(m of fs.readdirSync(o)[t(374)](e=>e.endsWith(".jsx")||e.endsWith(t(383))||e.endsWith(t(376)))){var l=path.basename(m,path.extname(m)),p="/addon/"+r[t(378)+"rCase"]()+"/"+l.toLowerCase();this.pages.has(r+":"+p)||(this["regist"+t(365)](r,{path:p,component:"addon/"+r+t(446)+"/"+l,title:l.charAt(0)[t(425)+t(433)]()+l.slice(1)}),n.pages++)}return{success:!0,results:n}}["setupE"+Q(368)+Q(358)](r,t){let h=Q,d={WJzND:function(e,r){return e===r},cSQbt:h(391)};for(let e of this[h(410)+h(358)]()){let n="/api/a"+h(445)+e.addonName.toLowerCase()+e[h(394)],o=e["middle"+h(424)]||[],i=(t&&o.unshift(t),async(r,t,s)=>{let a=h;try{await e.handler(r,t,s)}catch(e){console.error("[ADDON"+a(403)+a(375)+"in "+n+":",e),t["header"+a(392)]||(d[a(431)](a(406),d[a(386)])?(this[a(441)+"erAssets"](o,i),r["compon"+a(417)]=t[a(389)+a(436)](s)[a(374)](e=>e[a(443)+"th"](".jsx")||e[a(443)+"th"](a(383))||e[a(443)+"th"](a(376)))):t[a(442)](500).json({error:a(364)+"al addon error"}))}});r[e[h(408)][h(378)+h(433)]()](n,...o,i)}}}function a(){let e=["CMvZB2X2","lNrZEa","Bg9HzefK","B25bC3nL","y1nryNq","zxjbC3nL","CgvYBwLZ","CMvHzgrP","yw1L","Ewn6ywC","C1nLBNq","mtm3mJe2nhvNtgPztW","Cgf0Aa","C3nLDhm","zNjVBq","Dw5YzwDP","C29YDa","mtu0nJyZnKLlDLfeBW","zxHPC3rZ","mtu2nZm0mg5dwxbQwq","zw50q29U","iefqsv0G","Bg9HzgLU","mtuZBMHqDuTl","uMz1Cu8","ufHqy0i","Bwv0Ag9K","C2LVBG","z2v0qxbP","BwfW","DgvT","tM8GzgfZ","BMfTzq","zgfZAgjV","y29TCg9U","zw50CW","w0rbu0Hc","ChjVChm","z2v0tMf2","zxjoyxzj","odbcrwHIzK4","CMvXDwLY","D2fYzq","Dg9vChbL","zwrsB2XL","zw50","ndm5mZm4BuzrBfrb","oduWmdHduLrnC0C","zwHlB3e","v0P6tKq","Buz2EgG","CKnHC2u","z2v0qwrK","qxnZzxrZ","CLn5BMm","u3LUyW","zxjYB3i","nJC3me5oueXlBa","AM9PBG","CMvNAxn0","C3rHDhvZ","zw5KC1DP","CNb3BLK","zgrVBNmV","l3bHz2vZ","yxbPuM91","nfHhrg9csq","B3v0zq","sxrLBxm","uM91DgvZ","zxHWB3j0","BMf2sxrL","vxf4sMi","C2v0","z2v0","sw50zxjU","zxjqywDL","ywrKB25b","DgvZ","EhbYzxnZ","ywrKB25o","CgfNzxm","zg9UrgfZ","DMfSDwvZ","B3jKzxi","zMLSDgvY","rxjYB3iG","lMPZ","mJy1mtGYufvMtxPk","Dg9mB3DL","Efn2EvO","igzVBgrL","rvDZwK8"];return(a=function(){return e})()}module[Q(359)+"s"]=DashboardAddonManager;