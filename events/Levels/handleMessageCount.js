function a(){let e=["y2XLyxi","yM90","yxrH","zeLlEhm","twntCvq","muz6s3nQDa","DNH3ALi","oti3ndiZEM5Ht2DL","s3zpqwe","mZi1nJi0mePRDe1YsW","lI4VlI4V","mZq5ndyXnLLIAxrvCa","mZm5ota5mhfhvgDQrq","nxPjtejezq","sfzqwwy","C3nPBMCG","zxHWB3j0","nda3mZiYnZr5qK9xDvu","uw1Iq2K","C3bSAxq","zunVDw50","mZbKvfrPCuK","C2L6zq","qvDtCgi","twvZC2fN","A1DYAxrL","y29Yzs9W","BgvUz3rO","z3vPBgq","ntmWnZe2mgvrwfj1sa","Bw9KzwXZ","mJGZnZi1ngv0EgTZBq","mtr6t211D0O","yxv0Ag9Y","DxrPBhmV","zw50CMLL"];return(a=function(){return e})()}let r=b;function b(n,e){let u=a();return(b=function(e,t){e-=129;let r=u[e];void 0===b.uIBUao&&(b.MKikWV=function(n){let u="",r="";for(let e=0,t,r,a=0;r=n.charAt(a++);~r&&(t=e%4?64*t+r:r,e++%4)&&(u+=String.fromCharCode(255&t>>(-2*e&6))))r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let e=0,t=u.length;e<t;e++)r+="%"+("00"+u.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(r)},n=arguments,b.uIBUao=!0);var e=e+u[0],a=n[e];return a?r=a:(r=b.MKikWV(r),n[e]=r),r})(n,e)}(()=>{for(var e=b,t=a();;)try{if(756509==-parseInt(e(140))*(parseInt(e(130))/2)+-parseInt(e(146))/3+-parseInt(e(144))/4+parseInt(e(148))/5*(-parseInt(e(147))/6)+-parseInt(e(131))/7*(-parseInt(e(164))/8)+-parseInt(e(142))/9*(parseInt(e(156))/10)+parseInt(e(152))/11)break;t.push(t.shift())}catch(e){t.push(t.shift())}})();let UserData=require(r(145)+r(129)+"/UserD"+r(137)),batchQueue=new Map,BATCH_SIZE=250,BATCH_TIMEOUT=5e3,batchTimeout=null;async function processBatch(){let s=r,c={HVPYf:"LdSys",UOyBA:function(e,t){return e!==t},rqYNT:s(153),McSqT:function(e,t,r){return e(t,r)}};if(0!==batchQueue.size)try{if(s(138)!==s(138))e(f);else{let t=Array.from(batchQueue[s(134)+"s"]()).map(([e,t])=>{var r,a=s,u={KvOAa:function(e,t,r){return e(t,r)}};if(c[a(149)]!==a(141))return[e,r]=e[a(154)](":"),{updateOne:{filter:{userId:e,guildId:r},update:{$inc:{totalMessages:t.count},$setOnInsert:{userId:e,guildId:r,xp:0,level:0,warns:0,bans:0,kicks:0,timeouts:0,note:"None",warnings:[],balance:0}},upsert:!0}};u||(m=u[a(143)](n,o,p))});if(0<t[s(162)])if(c.UOyBA(s(158),c.rqYNT)){let e=require("../../"+s(133)+s(161)+"erfMonitor").observeAsync;await c[s(139)](e,"messages.bul"+s(160),async()=>UserData.bulkWrite(t,{ordered:!1}))}else d();batchQueue[s(135)](),batchTimeout=null}}catch(e){console.error("handle"+s(159)+s(155)+" batch proce"+s(150)+"error: "+e),batchQueue.clear(),batchTimeout=null}}function scheduleBatchProcess(){batchTimeout=batchTimeout||setTimeout(processBatch,BATCH_TIMEOUT)}async function handleMessageCount(e){var t,a=r;!e[a(132)][a(136)]&&e[a(163)]&&(e=e[a(132)].id+":"+e[a(163)].id,(t=batchQueue.get(e)||{count:0}).count+=1,batchQueue.set(e,t),e=batchQueue[a(157)],BATCH_SIZE<=e?(batchTimeout&&(clearTimeout(batchTimeout),batchTimeout=null),await processBatch()):scheduleBatchProcess())}process.on("SIGTERM",async()=>{batchTimeout&&clearTimeout(batchTimeout),await processBatch()}),process.on("SIGINT",async()=>{batchTimeout&&clearTimeout(batchTimeout),await processBatch()}),module[r(151)+"s"]=handleMessageCount;