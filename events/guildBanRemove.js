let B=b,{EmbedBuilder,AuditLogEvent}=((()=>{for(var e=b,t=a();;)try{if(447720==-parseInt(e(200))*(-parseInt(e(187))/2)+-parseInt(e(223))/3*(-parseInt(e(230))/4)+parseInt(e(192))/5+-parseInt(e(177))/6*(parseInt(e(208))/7)+-parseInt(e(203))/8+parseInt(e(184))/9*(-parseInt(e(207))/10)+parseInt(e(212))/11)break;t.push(t.shift())}catch(e){t.push(t.shift())}})(),require(B(180)+"d.js")),moment=require("moment-timez"+B(216)),UserData=require("../mod"+B(224)+"erData"),GuildData=require("../mod"+B(214)+B(221)+"aSchema"),getConfig=require("../utils/core/conf"+B(228)+"er.js").getConfig,getLogChannel=require(B(219)+B(188)+"dlers/messageUtils"+B(231)).getLogChannel,config=getConfig();function a(){let e=["tM8GCMvH","z2vY","nduYmZy0nK14t2zzDG","zw50CMLL","DgfTCa","zgLZy29Y","B3zPzgvK","BNq6","rhjHA29c","ndy4uejgz2HZ","DgLVBJP1","rw1Izwq","mtm4nda2zu1NqwPA","BhmVAgfU","BMfTzq","B2DZ","C29UihbY","mZqYoti0mezVt1flvq","zw1PDfnH","tg9NC0nO","z3vPBgq","y3jPChrP","BNrnyw5H","tI9b","C2v0q29S","nvv3BLPQrG","rgvZy3jP","zxjYB3i","nJeYnZy4ofndtwj4CW","CMvWBgfJ","Dw5Iyw4","DxnLCG","nJK3nZbXshvstMC","n2voAe93ra","ywrKB25m","DwrPDeXV","zMLUza","odq5mJy2mfDbENzUyG","BMjHBG","zwXZl2D1","vgLTzxPV","B25L","C2vUza","iZaWrKyW","lI4VDxrP","zMv0y2Hb","AwXKrgf0","y3jLyxrL","nti2ntaZDvfdrg9l","zwXZl1vZ","zM9YBwf0","we5NB2u","rM9VDgvY","AwDmB2fK","rxjYB3iG","mtjjqwvfufe","lMPZ","vw5Iyw5m"];return(a=function(){return e})()}function b(o,e){let i=a();return(b=function(e,t){e-=176;let r=i[e];void 0===b.DxWsKx&&(b.lptiBi=function(a){let o="",r="";for(let e=0,t,r,n=0;r=a.charAt(n++);~r&&(t=e%4?64*t+r:r,e++%4)&&(o+=String.fromCharCode(255&t>>(-2*e&6))))r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let e=0,t=o.length;e<t;e++)r+="%"+("00"+o.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(r)},o=arguments,b.DxWsKx=!0);var e=e+i[0],n=o[e];return n?r=n:(r=b.lptiBi(r),o[e]=r),r})(o,e)}function replacePlaceholders(e,t,r,n,a,o){var i=B,l={TiafL:"HH:mm",ITVPJ:"MMMM Do YYYY",lyknH:i(183)+"ot"};return e.replace(/{user}/g,"<@"+t.user.id+">").replace(/{userName}/g,t[i(206)].username)[i(204)+"e"](/{userTag}/g,t[i(206)].tag)[i(204)+"e"](/{userId}/g,t[i(206)].id)[i(204)+"e"](/{moderator}/g,"<@"+r.id+">")[i(204)+"e"](/{reason}/g,n).replace(/{guildName}/g,t.guild[i(189)]).replace(/{caseNumber}/g,a).replace(/{shorttime}/g,o[i(225)](l.TiafL)).replace(/{longtime}/g,o[i(225)](l.ITVPJ)).replace(/{botName}/g,config.BotName||l.lyknH)}module.exports=async(e,r)=>{let n=B,a={dBLhN:function(e){return e()},liOGC:function(e,t,r,n,a,o,i){return e(t,r,n,a,o,i)},XNgoe:function(e,t,r,n,a,o,i){return e(t,r,n,a,o,i)}};try{await new Promise(e=>setTimeout(e,1e3));let t=null;for(let e=0;e<3;e++){var o=await r[n(195)][n(220)+n(210)+"gs"]({limit:5,type:AuditLogEvent.MemberBanRemove});if(t=o[n(178)+"s"][n(211)](e=>e.target.id===r[n(206)].id&&Date.now()-e[n(222)+"dTimes"+n(179)]<1e4))break;await new Promise(e=>setTimeout(e,500))}var i,l,s,g,d,u,c;t&&(i=t.executor,l=t.reason||n(233)+n(191)+n(181),g=(s=await GuildData.findOneAndUpdate({guildID:r[n(195)].id},{$inc:{cases:1}},{new:!0,upsert:!0,setDefaultsOnInsert:!0}))?s.cases:n(198),d=a.dBLhN(moment).tz(config[n(215)+"ne"]),u=(new EmbedBuilder)[n(199)+"or"](config[n(232)+n(190)][n(186)].Color||n(218)+"0").setTitle(replacePlaceholders(config.UnbanLogs.Embed.Title,r,i,l,g,d))["setDes"+n(196)+"on"](a.liOGC(replacePlaceholders,config["UnbanL"+n(190)][n(186)][n(201)+"ption"].join("\n"),r,i,l,g,d)).setFooter({text:a[n(226)](replacePlaceholders,config[n(232)+"ogs"][n(186)][n(227)],r,i,l,g,d)}),config["UnbanL"+n(190)].Enabled&&(c=getLogChannel(r[n(195)],config[n(232)+n(190)][n(194)+"annelID"]))&&c.send({embeds:[u]}),global.addonLoader)&&global[n(209)+"oader"]["getEve"+n(197)+n(176)]()[n(193)+"fe"]("modera"+n(185)+n(213),{type:n(205),targetUserId:r.user.id,moderator:i,reason:l,guild:r[n(195)],method:"audit"})}catch(e){console[n(202)](n(229)+"handling unban eve"+n(182),e)}};