let B=b;function b(o,e){let i=a();return(b=function(e,t){e-=285;let r=i[e];void 0===b.DQApDD&&(b.LqoiLJ=function(a){let o="",r="";for(let e=0,t,r,n=0;r=a.charAt(n++);~r&&(t=e%4?64*t+r:r,e++%4)&&(o+=String.fromCharCode(255&t>>(-2*e&6))))r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let e=0,t=o.length;e<t;e++)r+="%"+("00"+o.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(r)},o=arguments,b.DQApDD=!0);var e=e+i[0],n=o[e];return n?r=n:(r=b.LqoiLJ(r),o[e]=r),r})(o,e)}(()=>{for(var e=b,t=a();;)try{if(860071==+parseInt(e(285))*(parseInt(e(296))/2)+-parseInt(e(318))/3*(-parseInt(e(317))/4)+parseInt(e(343))/5*(-parseInt(e(356))/6)+-parseInt(e(326))/7+parseInt(e(330))/8+parseInt(e(351))/9*(parseInt(e(312))/10)+parseInt(e(331))/11)break;t.push(t.shift())}catch(e){t.push(t.shift())}})();let{EmbedBuilder,AuditLogEvent}=require(B(344)+B(349)),moment=require("moment-timezone"),UserData=require(B(348)+B(297)+B(334)),GuildData=require("../mod"+B(308)+"ildDataSchema"),getConfig=require("../uti"+B(307)+B(299)+B(325)+"er.js").getConfig,handleBanEvent=require(B(339)+B(319)+"urity/antiNu"+B(320)+B(346)).handleBanEvent,getLogChannel=require("../uti"+B(350)+B(313)+"messag"+B(324)+".js").getLogChannel,config=getConfig();function a(){let e=["Bw9KzxjH","zMv0y2Hb","zw50CMLL","DujNsK4","y3jLyxrL","rMfPBgvK","BhmVy29Y","zwXZl2D1","qMfUqwrK","rhjHA29c","DxnLCG","mtCWmZmZmJbnCuXwD0S","zgXLCNmV","zM9YBwf0","zfrPBwvZ","zw1PDfnH","odu0otjLu3jWzfO","mZnbCxLxrxK","BhmVC2vJ","A2viyw5K","C2v0vgL0","rgvZy3jP","yxvKAxq","zvv0AwXZ","AwDmB2fK","mteZmduXmZnZrM5Hqwy","zufUzfvW","DgLVBJPI","zxjYB3i","mteXodKYoerpB3rdEG","ntqZntK2owXlsejICa","ChrPB24","z2vY","zxjeyxrH","D3nYy2K","BM5LBdOG","B3zPzgvK","C2v0q29S","lI4VDxrP","B2fKzxi","ywrKB25m","zgf0zq","mteZmdq4meD2sxnkva","zgLZy29Y","rxjYB3iG","BgvYlMPZ","qNvsv1a","lI4VBw9K","zc5QCW","BhmVAgfU","oxzKtMTptq","ihrVigXV","rw5HyMXL","z3vPBgq","BM93","mJrrD1fbyxq","z2v0rxzL","DwrPDeXV","vhbVtNG","tu1ntsbe","zMLUze9U","C29UihbY","ndq4mZnowLrxu0W","tI9b","vgL0Bgu","C2v0rgvZ","CMvWBgfJ","DgfTCa","y3jPChrP","rw1Izwq","y2fZzxm","q29SB3i","tM8GCMvH","mZzstMfLDuW","zwXZl1vZ","Aw4Gy2HH","zs9JB25M","qMfUtg9N"];return(a=function(){return e})()}async function logBan(e,t,r,n,a){var o=B;if(config[o(300)+"s"][o(353)+"d"]){var i=getLogChannel(e[o(354)],config[o(300)+"s"].LogsChannelID);if(i){e=(new EmbedBuilder)[o(338)+"or"](config.BanLogs[o(292)][o(294)]||"#FF0000")[o(321)+"le"]({TpoNx:function(e,t,r,n,a,o,i){return e(t,r,n,a,o,i)}}[o(359)](replacePlaceholders,config.BanLogs[o(292)][o(287)],e,t,r,n,a))[o(288)+o(291)+"on"](replacePlaceholders(config[o(300)+"s"].Embed[o(322)+o(332)].join("\n"),e,t,r,n,a)).setFooter({text:replacePlaceholders(config.BanLogs[o(292)].Footer,e,t,r,n,a)});try{await i.send({embeds:[e]})}catch(e){console[o(329)](o(306)+o(352)+"g ban "+o(298)+o(336)+e)}}}}function replacePlaceholders(e,t,r,n,a,o){var i=B,s={uBgJN:"No rea"+i(362)+"ovided"};return e[i(289)+"e"](/{user}/g,"<@"+t.user.id+">").replace(/{userName}/g,t[i(311)].username)[i(289)+"e"](/{userTag}/g,t[i(311)].tag)[i(289)+"e"](/{userId}/g,t.user.id).replace(/{guildName}/g,t[i(354)].name)[i(289)+"e"](/{moderator}/g,"<@"+n.id+">")[i(289)+"e"](/{reason}/g,r||s[i(304)]).replace(/{caseNumber}/g,a).replace(/{shorttime}/g,o[i(314)]("HH:mm")).replace(/{longtime}/g,o[i(314)](i(360)+"o YYYY")).replace(/{botName}/g,config.BotName||i(310)+"ot")}module.exports=async(e,r)=>{let n=B,a={BuRWP:function(e,t){return e<t},Kucth:n(286),wsrci:function(e,t,r,n,a,o){return e(t,r,n,a,o)}};try{await new Promise(e=>setTimeout(e,1e3));let t=null;for(let e=0;a[n(347)](e,3);e++){var o=await r[n(354)][n(302)+n(358)+"gs"]({limit:5,type:AuditLogEvent["Member"+n(309)]});if(t=o[n(303)+"s"].find(e=>e.target.id===r[n(311)].id&&Date[n(355)]()-e[n(305)+n(315)+n(290)]<1e4))break;await new Promise(e=>setTimeout(e,500))}var i,s,g,u,l;t&&({executor:i,reason:s}=t,await handleBanEvent(e,r,t),u=(g=await GuildData[n(361)+"eAndUp"+n(342)]({guildID:r.guild.id},{$inc:{cases:1}},{upsert:!0,new:!0,setDefaultsOnInsert:!0}))?g[n(293)]:a.Kucth,l=moment().tz(config.Timezone),a[n(335)](logBan,r,s,i,u,l),await UserData["findOn"+n(327)+"date"]({userId:r[n(311)].id,guildId:r[n(354)].id},{$inc:{bans:1}},{upsert:!0,new:!0,setDefaultsOnInsert:!0}),global["addonL"+n(340)])&&global[n(341)+n(340)][n(357)+"ntMana"+n(333)]()[n(316)+"fe"](n(301)+n(328)+"an",{type:"ban",target:r[n(311)],moderator:i,reason:s||n(295)+"son pr"+n(337),guild:r[n(354)],dmSent:!1,method:n(323)})}catch(e){console.error(n(345)+"handling ban event:",e)}};