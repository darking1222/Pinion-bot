let v=b;function b(i,e){let d=a();return(b=function(e,t){e-=120;let r=d[e];void 0===b.XjQlRB&&(b.EgyOFf=function(i){let d="",r="";for(let e=0,t,r,n=0;r=i.charAt(n++);~r&&(t=e%4?64*t+r:r,e++%4)&&(d+=String.fromCharCode(255&t>>(-2*e&6))))r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let e=0,t=d.length;e<t;e++)r+="%"+("00"+d.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(r)},i=arguments,b.XjQlRB=!0);var e=e+d[0],n=i[e];return n?r=n:(r=b.EgyOFf(r),i[e]=r),r})(i,e)}(()=>{for(var e=b,t=a();;)try{if(252185==-parseInt(e(153))+parseInt(e(146))/2+-parseInt(e(159))/3+parseInt(e(160))/4+-parseInt(e(129))/5+parseInt(e(167))/6*(-parseInt(e(170))/7)+parseInt(e(174))/8)break;t.push(t.shift())}catch(e){t.push(t.shift())}})();let Reminder=require(v(126)+"models/reminder.js"),EmbedBuilder=require("discor"+v(130)).EmbedBuilder,getLang=require("../../utils/"+v(179)+v(125)+"oader.js").getLang,nextReminderTimeout=null,client=null;function hexToDecimal(e){return parseInt(e.replace("#",""),16)}async function scheduleNextReminder(){let n=v,o={AOtYm:function(e,t){return e===t},iiDcN:function(e,t){return e===t},YHVwt:function(e,t){return e(t)},Iyumm:function(e){return e()},dmzMb:function(e,t){return e(t)}};if(client){nextReminderTimeout&&o[n(135)](clearTimeout,nextReminderTimeout);let u=await Reminder.findOne({sent:!1,reminderTime:{$gt:new Date(0)}}).sort({reminderTime:1}).lean();if(u){let r=Math[n(168)](0,new Date(u["remind"+n(141)])[n(133)+"e"]()-Date.now());(nextReminderTimeout=setTimeout(async()=>{let a=n;try{if(o[a(161)](a(128),a(140)))r[a(169)]("Failed"+a(124)+a(157)+"inder:",f);else{let r=await Reminder.findOne({_id:u[a(166)],sent:!1});if(!r)return scheduleNextReminder();let n;try{o.iiDcN(a(136),a(144))?(f=r,n()):n=await client.channels.fetch(r[a(142)+"lId"])}catch(e){if(10003===e[a(120)])return await Reminder[a(156)+a(171)]({_id:r[a(166)]}),scheduleNextReminder();throw e}let i;try{i=await client.users.fetch(r[a(127)])}catch(e){if(10013===e[a(120)])return await Reminder.deleteOne({_id:r._id}),scheduleNextReminder();throw e}let d=getLang(),m=(new EmbedBuilder).setColor(o[a(162)](hexToDecimal,d.Reminder[a(164)].DM[a(134)]));var e,t;d[a(152)+"er"].Embeds.DM[a(148)]&&m.setTitle(d[a(152)+"er"][a(164)].DM[a(148)]),d[a(152)+"er"].Embeds.DM["Descri"+a(154)]&&m[a(139)+"cription"](d.Reminder.Embeds.DM[a(132)+"ption"].replace(a(163)+"ge}",r.message)),d.Reminder.Embeds.DM.Footer&&d[a(152)+"er"][a(164)].DM[a(138)].Text&&(e={text:d.Reminder[a(164)].DM.Footer[a(172)]},d.Reminder.Embeds.DM.Footer.Icon&&""!==d[a(152)+"er"].Embeds.DM.Footer[a(155)][a(175)]()&&(e.iconURL=d[a(152)+"er"][a(164)].DM.Footer.Icon),m.setFooter(e)),d.Reminder.Embeds.DM[a(137)]&&d.Reminder.Embeds.DM[a(137)][a(172)]&&(t={name:d.Reminder[a(164)].DM.Author[a(172)]},d[a(152)+"er"].Embeds.DM.Author.Icon&&""!==d.Reminder.Embeds.DM[a(137)].Icon[a(175)]()&&(t[a(158)+"L"]=d.Reminder.Embeds.DM.Author.Icon),m["setAut"+a(178)](t)),d[a(152)+"er"][a(164)].DM[a(147)]&&m.setImage(d.Reminder.Embeds.DM[a(147)]),d.Reminder.Embeds.DM[a(151)+"ail"]&&m["setThu"+a(145)](d.Reminder[a(164)].DM[a(151)+"ail"]),m["setTim"+a(165)](),await i[a(177)]({embeds:[m]}).catch(async e=>{var t=a;t(122)===t(122)?50007===e[t(120)]?await n[t(177)]({content:"<@"+r.userId+">",embeds:[m]}):console.error(t(176)+t(124)+t(157)+"inder:",e):(e={name:n.Reminder[t(164)].DM[t(137)].Text},i.Reminder[t(164)].DM[t(137)][t(155)]&&{UiJvd:function(e,t){return e!==t}}[t(123)](d[t(152)+"er"][t(164)].DM.Author[t(155)].trim(),"")&&(e[t(158)+"L"]=m[t(152)+"er"][t(164)].DM[t(137)][t(155)]),l[t(143)+"hor"](e))}),r[a(131)]=!0,await r[a(121)]()}}catch(e){console[a(169)]("Failed"+a(124)+"nd rem"+a(173),e)}finally{o.Iyumm(scheduleNextReminder)}},Math.min(r,864e5)))[n(149)]&&nextReminderTimeout.unref()}}}function startReminderScheduler(e){client=e,scheduleNextReminder()}function a(){let e=["q29SB3i","zg16twi","rLLfrLG","qxv0Ag9Y","rM9VDgvY","C2v0rgvZ","v1Hptw8","zxjuAw1L","y2HHBM5L","C2v0qxv0","wNjOz2u","BwjUywLS","otm5nJK4z1j6uxbS","sw1Hz2u","vgL0Bgu","Dw5Yzwy","zxHWB3j0","vgH1BwjU","uMvTAw5K","mJmYoteZC0fdyxnU","ChrPB24","swnVBG","zgvSzxrL","BMqGCMvT","AwnVBLvs","mte0mdKZm2fvv2XQCa","mtmZnZi0rKDzqvfK","qu90ww0","wuHwD3q","E21LC3nH","rw1IzwrZ","zxn0yw1W","x2LK","ntG1nJbHCfj4q2K","Bwf4","zxjYB3i","mtu0q1Dbyxn5","t25L","vgv4Da","Aw5Kzxi6","nJC4ndiXnK5kB2nKsq","DhjPBq","rMfPBgvK","C2vUza","Ag9Y","y29Yzs9J","y29Kzq","C2f2zq","DePezwq","vwLkDMq","ihrVihnL","B25MAwDm","lI4VlI4V","DxnLCKLK","yxLwD1i","mtm1ntG5me9gCKrmCa","zc5QCW","C2vUDa","rgvZy3jP","z2v0vgLT"];return(a=function(){return e})()}module[v(150)+"s"]={startReminderScheduler:startReminderScheduler,scheduleNextReminder:scheduleNextReminder};